(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const o of l)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(l){const o={};return l.integrity&&(o.integrity=l.integrity),l.referrerPolicy&&(o.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?o.credentials="include":l.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(l){if(l.ep)return;l.ep=!0;const o=n(l);fetch(l.href,o)}})();function bd(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var mu={exports:{}},lo={},gu={exports:{}},X={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yr=Symbol.for("react.element"),Ad=Symbol.for("react.portal"),Fd=Symbol.for("react.fragment"),Ud=Symbol.for("react.strict_mode"),Hd=Symbol.for("react.profiler"),Wd=Symbol.for("react.provider"),Bd=Symbol.for("react.context"),Vd=Symbol.for("react.forward_ref"),Qd=Symbol.for("react.suspense"),Yd=Symbol.for("react.memo"),qd=Symbol.for("react.lazy"),Gi=Symbol.iterator;function Gd(e){return e===null||typeof e!="object"?null:(e=Gi&&e[Gi]||e["@@iterator"],typeof e=="function"?e:null)}var xu={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},yu=Object.assign,vu={};function lr(e,t,n){this.props=e,this.context=t,this.refs=vu,this.updater=n||xu}lr.prototype.isReactComponent={};lr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};lr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function wu(){}wu.prototype=lr.prototype;function Ks(e,t,n){this.props=e,this.context=t,this.refs=vu,this.updater=n||xu}var Zs=Ks.prototype=new wu;Zs.constructor=Ks;yu(Zs,lr.prototype);Zs.isPureReactComponent=!0;var Xi=Array.isArray,ku=Object.prototype.hasOwnProperty,Js={current:null},Su={key:!0,ref:!0,__self:!0,__source:!0};function Nu(e,t,n){var r,l={},o=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(o=""+t.key),t)ku.call(t,r)&&!Su.hasOwnProperty(r)&&(l[r]=t[r]);var i=arguments.length-2;if(i===1)l.children=n;else if(1<i){for(var a=Array(i),c=0;c<i;c++)a[c]=arguments[c+2];l.children=a}if(e&&e.defaultProps)for(r in i=e.defaultProps,i)l[r]===void 0&&(l[r]=i[r]);return{$$typeof:Yr,type:e,key:o,ref:s,props:l,_owner:Js.current}}function Xd(e,t){return{$$typeof:Yr,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function ei(e){return typeof e=="object"&&e!==null&&e.$$typeof===Yr}function Kd(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Ki=/\/+/g;function No(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Kd(""+e.key):t.toString(36)}function vl(e,t,n,r,l){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case Yr:case Ad:s=!0}}if(s)return s=e,l=l(s),e=r===""?"."+No(s,0):r,Xi(l)?(n="",e!=null&&(n=e.replace(Ki,"$&/")+"/"),vl(l,t,n,"",function(c){return c})):l!=null&&(ei(l)&&(l=Xd(l,n+(!l.key||s&&s.key===l.key?"":(""+l.key).replace(Ki,"$&/")+"/")+e)),t.push(l)),1;if(s=0,r=r===""?".":r+":",Xi(e))for(var i=0;i<e.length;i++){o=e[i];var a=r+No(o,i);s+=vl(o,t,n,a,l)}else if(a=Gd(e),typeof a=="function")for(e=a.call(e),i=0;!(o=e.next()).done;)o=o.value,a=r+No(o,i++),s+=vl(o,t,n,a,l);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function tl(e,t,n){if(e==null)return e;var r=[],l=0;return vl(e,r,"","",function(o){return t.call(n,o,l++)}),r}function Zd(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ue={current:null},wl={transition:null},Jd={ReactCurrentDispatcher:Ue,ReactCurrentBatchConfig:wl,ReactCurrentOwner:Js};function Cu(){throw Error("act(...) is not supported in production builds of React.")}X.Children={map:tl,forEach:function(e,t,n){tl(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return tl(e,function(){t++}),t},toArray:function(e){return tl(e,function(t){return t})||[]},only:function(e){if(!ei(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};X.Component=lr;X.Fragment=Fd;X.Profiler=Hd;X.PureComponent=Ks;X.StrictMode=Ud;X.Suspense=Qd;X.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Jd;X.act=Cu;X.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=yu({},e.props),l=e.key,o=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,s=Js.current),t.key!==void 0&&(l=""+t.key),e.type&&e.type.defaultProps)var i=e.type.defaultProps;for(a in t)ku.call(t,a)&&!Su.hasOwnProperty(a)&&(r[a]=t[a]===void 0&&i!==void 0?i[a]:t[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){i=Array(a);for(var c=0;c<a;c++)i[c]=arguments[c+2];r.children=i}return{$$typeof:Yr,type:e.type,key:l,ref:o,props:r,_owner:s}};X.createContext=function(e){return e={$$typeof:Bd,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Wd,_context:e},e.Consumer=e};X.createElement=Nu;X.createFactory=function(e){var t=Nu.bind(null,e);return t.type=e,t};X.createRef=function(){return{current:null}};X.forwardRef=function(e){return{$$typeof:Vd,render:e}};X.isValidElement=ei;X.lazy=function(e){return{$$typeof:qd,_payload:{_status:-1,_result:e},_init:Zd}};X.memo=function(e,t){return{$$typeof:Yd,type:e,compare:t===void 0?null:t}};X.startTransition=function(e){var t=wl.transition;wl.transition={};try{e()}finally{wl.transition=t}};X.unstable_act=Cu;X.useCallback=function(e,t){return Ue.current.useCallback(e,t)};X.useContext=function(e){return Ue.current.useContext(e)};X.useDebugValue=function(){};X.useDeferredValue=function(e){return Ue.current.useDeferredValue(e)};X.useEffect=function(e,t){return Ue.current.useEffect(e,t)};X.useId=function(){return Ue.current.useId()};X.useImperativeHandle=function(e,t,n){return Ue.current.useImperativeHandle(e,t,n)};X.useInsertionEffect=function(e,t){return Ue.current.useInsertionEffect(e,t)};X.useLayoutEffect=function(e,t){return Ue.current.useLayoutEffect(e,t)};X.useMemo=function(e,t){return Ue.current.useMemo(e,t)};X.useReducer=function(e,t,n){return Ue.current.useReducer(e,t,n)};X.useRef=function(e){return Ue.current.useRef(e)};X.useState=function(e){return Ue.current.useState(e)};X.useSyncExternalStore=function(e,t,n){return Ue.current.useSyncExternalStore(e,t,n)};X.useTransition=function(){return Ue.current.useTransition()};X.version="18.3.1";gu.exports=X;var w=gu.exports;const ju=bd(w);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ef=w,tf=Symbol.for("react.element"),nf=Symbol.for("react.fragment"),rf=Object.prototype.hasOwnProperty,lf=ef.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,of={key:!0,ref:!0,__self:!0,__source:!0};function Eu(e,t,n){var r,l={},o=null,s=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)rf.call(t,r)&&!of.hasOwnProperty(r)&&(l[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)l[r]===void 0&&(l[r]=t[r]);return{$$typeof:tf,type:e,key:o,ref:s,props:l,_owner:lf.current}}lo.Fragment=nf;lo.jsx=Eu;lo.jsxs=Eu;mu.exports=lo;var u=mu.exports,ls={},_u={exports:{}},tt={},Ru={exports:{}},Mu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(M,S){var O=M.length;M.push(S);e:for(;0<O;){var F=O-1>>>1,Y=M[F];if(0<l(Y,S))M[F]=S,M[O]=Y,O=F;else break e}}function n(M){return M.length===0?null:M[0]}function r(M){if(M.length===0)return null;var S=M[0],O=M.pop();if(O!==S){M[0]=O;e:for(var F=0,Y=M.length,ie=Y>>>1;F<ie;){var A=2*(F+1)-1,W=M[A],q=A+1,U=M[q];if(0>l(W,O))q<Y&&0>l(U,W)?(M[F]=U,M[q]=O,F=q):(M[F]=W,M[A]=O,F=A);else if(q<Y&&0>l(U,O))M[F]=U,M[q]=O,F=q;else break e}}return S}function l(M,S){var O=M.sortIndex-S.sortIndex;return O!==0?O:M.id-S.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var s=Date,i=s.now();e.unstable_now=function(){return s.now()-i}}var a=[],c=[],m=1,p=null,g=3,x=!1,k=!1,v=!1,C=typeof setTimeout=="function"?setTimeout:null,h=typeof clearTimeout=="function"?clearTimeout:null,d=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function f(M){for(var S=n(c);S!==null;){if(S.callback===null)r(c);else if(S.startTime<=M)r(c),S.sortIndex=S.expirationTime,t(a,S);else break;S=n(c)}}function y(M){if(v=!1,f(M),!k)if(n(a)!==null)k=!0,T(N);else{var S=n(c);S!==null&&de(y,S.startTime-M)}}function N(M,S){k=!1,v&&(v=!1,h(R),R=-1),x=!0;var O=g;try{for(f(S),p=n(a);p!==null&&(!(p.expirationTime>S)||M&&!ne());){var F=p.callback;if(typeof F=="function"){p.callback=null,g=p.priorityLevel;var Y=F(p.expirationTime<=S);S=e.unstable_now(),typeof Y=="function"?p.callback=Y:p===n(a)&&r(a),f(S)}else r(a);p=n(a)}if(p!==null)var ie=!0;else{var A=n(c);A!==null&&de(y,A.startTime-S),ie=!1}return ie}finally{p=null,g=O,x=!1}}var j=!1,P=null,R=-1,H=5,b=-1;function ne(){return!(e.unstable_now()-b<H)}function B(){if(P!==null){var M=e.unstable_now();b=M;var S=!0;try{S=P(!0,M)}finally{S?re():(j=!1,P=null)}}else j=!1}var re;if(typeof d=="function")re=function(){d(B)};else if(typeof MessageChannel<"u"){var te=new MessageChannel,ce=te.port2;te.port1.onmessage=B,re=function(){ce.postMessage(null)}}else re=function(){C(B,0)};function T(M){P=M,j||(j=!0,re())}function de(M,S){R=C(function(){M(e.unstable_now())},S)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(M){M.callback=null},e.unstable_continueExecution=function(){k||x||(k=!0,T(N))},e.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<M?Math.floor(1e3/M):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return n(a)},e.unstable_next=function(M){switch(g){case 1:case 2:case 3:var S=3;break;default:S=g}var O=g;g=S;try{return M()}finally{g=O}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(M,S){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var O=g;g=M;try{return S()}finally{g=O}},e.unstable_scheduleCallback=function(M,S,O){var F=e.unstable_now();switch(typeof O=="object"&&O!==null?(O=O.delay,O=typeof O=="number"&&0<O?F+O:F):O=F,M){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=O+Y,M={id:m++,callback:S,priorityLevel:M,startTime:O,expirationTime:Y,sortIndex:-1},O>F?(M.sortIndex=O,t(c,M),n(a)===null&&M===n(c)&&(v?(h(R),R=-1):v=!0,de(y,O-F))):(M.sortIndex=Y,t(a,M),k||x||(k=!0,T(N))),M},e.unstable_shouldYield=ne,e.unstable_wrapCallback=function(M){var S=g;return function(){var O=g;g=S;try{return M.apply(this,arguments)}finally{g=O}}}})(Mu);Ru.exports=Mu;var sf=Ru.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var af=w,et=sf;function _(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Pu=new Set,Mr={};function Nn(e,t){Xn(e,t),Xn(e+"Capture",t)}function Xn(e,t){for(Mr[e]=t,e=0;e<t.length;e++)Pu.add(t[e])}var Lt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),os=Object.prototype.hasOwnProperty,uf=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Zi={},Ji={};function cf(e){return os.call(Ji,e)?!0:os.call(Zi,e)?!1:uf.test(e)?Ji[e]=!0:(Zi[e]=!0,!1)}function df(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function ff(e,t,n,r){if(t===null||typeof t>"u"||df(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function He(e,t,n,r,l,o,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=l,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var De={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){De[e]=new He(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];De[t]=new He(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){De[e]=new He(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){De[e]=new He(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){De[e]=new He(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){De[e]=new He(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){De[e]=new He(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){De[e]=new He(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){De[e]=new He(e,5,!1,e.toLowerCase(),null,!1,!1)});var ti=/[\-:]([a-z])/g;function ni(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(ti,ni);De[t]=new He(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(ti,ni);De[t]=new He(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(ti,ni);De[t]=new He(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){De[e]=new He(e,1,!1,e.toLowerCase(),null,!1,!1)});De.xlinkHref=new He("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){De[e]=new He(e,1,!1,e.toLowerCase(),null,!0,!0)});function ri(e,t,n,r){var l=De.hasOwnProperty(t)?De[t]:null;(l!==null?l.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(ff(t,n,l,r)&&(n=null),r||l===null?cf(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):l.mustUseProperty?e[l.propertyName]=n===null?l.type===3?!1:"":n:(t=l.attributeName,r=l.attributeNamespace,n===null?e.removeAttribute(t):(l=l.type,n=l===3||l===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Ot=af.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,nl=Symbol.for("react.element"),Tn=Symbol.for("react.portal"),Ln=Symbol.for("react.fragment"),li=Symbol.for("react.strict_mode"),ss=Symbol.for("react.profiler"),Tu=Symbol.for("react.provider"),Lu=Symbol.for("react.context"),oi=Symbol.for("react.forward_ref"),is=Symbol.for("react.suspense"),as=Symbol.for("react.suspense_list"),si=Symbol.for("react.memo"),Ut=Symbol.for("react.lazy"),Du=Symbol.for("react.offscreen"),ea=Symbol.iterator;function ar(e){return e===null||typeof e!="object"?null:(e=ea&&e[ea]||e["@@iterator"],typeof e=="function"?e:null)}var ve=Object.assign,Co;function gr(e){if(Co===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Co=t&&t[1]||""}return`
`+Co+e}var jo=!1;function Eo(e,t){if(!e||jo)return"";jo=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var l=c.stack.split(`
`),o=r.stack.split(`
`),s=l.length-1,i=o.length-1;1<=s&&0<=i&&l[s]!==o[i];)i--;for(;1<=s&&0<=i;s--,i--)if(l[s]!==o[i]){if(s!==1||i!==1)do if(s--,i--,0>i||l[s]!==o[i]){var a=`
`+l[s].replace(" at new "," at ");return e.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",e.displayName)),a}while(1<=s&&0<=i);break}}}finally{jo=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?gr(e):""}function hf(e){switch(e.tag){case 5:return gr(e.type);case 16:return gr("Lazy");case 13:return gr("Suspense");case 19:return gr("SuspenseList");case 0:case 2:case 15:return e=Eo(e.type,!1),e;case 11:return e=Eo(e.type.render,!1),e;case 1:return e=Eo(e.type,!0),e;default:return""}}function us(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ln:return"Fragment";case Tn:return"Portal";case ss:return"Profiler";case li:return"StrictMode";case is:return"Suspense";case as:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Lu:return(e.displayName||"Context")+".Consumer";case Tu:return(e._context.displayName||"Context")+".Provider";case oi:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case si:return t=e.displayName||null,t!==null?t:us(e.type)||"Memo";case Ut:t=e._payload,e=e._init;try{return us(e(t))}catch{}}return null}function pf(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return us(t);case 8:return t===li?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function tn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function zu(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function mf(e){var t=zu(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var l=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function rl(e){e._valueTracker||(e._valueTracker=mf(e))}function Iu(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=zu(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Tl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function cs(e,t){var n=t.checked;return ve({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function ta(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=tn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Ou(e,t){t=t.checked,t!=null&&ri(e,"checked",t,!1)}function ds(e,t){Ou(e,t);var n=tn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?fs(e,t.type,n):t.hasOwnProperty("defaultValue")&&fs(e,t.type,tn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function na(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function fs(e,t,n){(t!=="number"||Tl(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var xr=Array.isArray;function Bn(e,t,n,r){if(e=e.options,t){t={};for(var l=0;l<n.length;l++)t["$"+n[l]]=!0;for(n=0;n<e.length;n++)l=t.hasOwnProperty("$"+e[n].value),e[n].selected!==l&&(e[n].selected=l),l&&r&&(e[n].defaultSelected=!0)}else{for(n=""+tn(n),t=null,l=0;l<e.length;l++){if(e[l].value===n){e[l].selected=!0,r&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function hs(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(_(91));return ve({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ra(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(_(92));if(xr(n)){if(1<n.length)throw Error(_(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:tn(n)}}function $u(e,t){var n=tn(t.value),r=tn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function la(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function bu(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ps(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?bu(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ll,Au=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,l){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,l)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ll=ll||document.createElement("div"),ll.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ll.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Pr(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var wr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},gf=["Webkit","ms","Moz","O"];Object.keys(wr).forEach(function(e){gf.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),wr[t]=wr[e]})});function Fu(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||wr.hasOwnProperty(e)&&wr[e]?(""+t).trim():t+"px"}function Uu(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,l=Fu(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,l):e[n]=l}}var xf=ve({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ms(e,t){if(t){if(xf[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(_(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(_(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(_(61))}if(t.style!=null&&typeof t.style!="object")throw Error(_(62))}}function gs(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xs=null;function ii(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ys=null,Vn=null,Qn=null;function oa(e){if(e=Xr(e)){if(typeof ys!="function")throw Error(_(280));var t=e.stateNode;t&&(t=uo(t),ys(e.stateNode,e.type,t))}}function Hu(e){Vn?Qn?Qn.push(e):Qn=[e]:Vn=e}function Wu(){if(Vn){var e=Vn,t=Qn;if(Qn=Vn=null,oa(e),t)for(e=0;e<t.length;e++)oa(t[e])}}function Bu(e,t){return e(t)}function Vu(){}var _o=!1;function Qu(e,t,n){if(_o)return e(t,n);_o=!0;try{return Bu(e,t,n)}finally{_o=!1,(Vn!==null||Qn!==null)&&(Vu(),Wu())}}function Tr(e,t){var n=e.stateNode;if(n===null)return null;var r=uo(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(_(231,t,typeof n));return n}var vs=!1;if(Lt)try{var ur={};Object.defineProperty(ur,"passive",{get:function(){vs=!0}}),window.addEventListener("test",ur,ur),window.removeEventListener("test",ur,ur)}catch{vs=!1}function yf(e,t,n,r,l,o,s,i,a){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(m){this.onError(m)}}var kr=!1,Ll=null,Dl=!1,ws=null,vf={onError:function(e){kr=!0,Ll=e}};function wf(e,t,n,r,l,o,s,i,a){kr=!1,Ll=null,yf.apply(vf,arguments)}function kf(e,t,n,r,l,o,s,i,a){if(wf.apply(this,arguments),kr){if(kr){var c=Ll;kr=!1,Ll=null}else throw Error(_(198));Dl||(Dl=!0,ws=c)}}function Cn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Yu(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function sa(e){if(Cn(e)!==e)throw Error(_(188))}function Sf(e){var t=e.alternate;if(!t){if(t=Cn(e),t===null)throw Error(_(188));return t!==e?null:e}for(var n=e,r=t;;){var l=n.return;if(l===null)break;var o=l.alternate;if(o===null){if(r=l.return,r!==null){n=r;continue}break}if(l.child===o.child){for(o=l.child;o;){if(o===n)return sa(l),e;if(o===r)return sa(l),t;o=o.sibling}throw Error(_(188))}if(n.return!==r.return)n=l,r=o;else{for(var s=!1,i=l.child;i;){if(i===n){s=!0,n=l,r=o;break}if(i===r){s=!0,r=l,n=o;break}i=i.sibling}if(!s){for(i=o.child;i;){if(i===n){s=!0,n=o,r=l;break}if(i===r){s=!0,r=o,n=l;break}i=i.sibling}if(!s)throw Error(_(189))}}if(n.alternate!==r)throw Error(_(190))}if(n.tag!==3)throw Error(_(188));return n.stateNode.current===n?e:t}function qu(e){return e=Sf(e),e!==null?Gu(e):null}function Gu(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Gu(e);if(t!==null)return t;e=e.sibling}return null}var Xu=et.unstable_scheduleCallback,ia=et.unstable_cancelCallback,Nf=et.unstable_shouldYield,Cf=et.unstable_requestPaint,Se=et.unstable_now,jf=et.unstable_getCurrentPriorityLevel,ai=et.unstable_ImmediatePriority,Ku=et.unstable_UserBlockingPriority,zl=et.unstable_NormalPriority,Ef=et.unstable_LowPriority,Zu=et.unstable_IdlePriority,oo=null,Ct=null;function _f(e){if(Ct&&typeof Ct.onCommitFiberRoot=="function")try{Ct.onCommitFiberRoot(oo,e,void 0,(e.current.flags&128)===128)}catch{}}var gt=Math.clz32?Math.clz32:Pf,Rf=Math.log,Mf=Math.LN2;function Pf(e){return e>>>=0,e===0?32:31-(Rf(e)/Mf|0)|0}var ol=64,sl=4194304;function yr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Il(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,l=e.suspendedLanes,o=e.pingedLanes,s=n&268435455;if(s!==0){var i=s&~l;i!==0?r=yr(i):(o&=s,o!==0&&(r=yr(o)))}else s=n&~l,s!==0?r=yr(s):o!==0&&(r=yr(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&l)&&(l=r&-r,o=t&-t,l>=o||l===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-gt(t),l=1<<n,r|=e[n],t&=~l;return r}function Tf(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Lf(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,l=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-gt(o),i=1<<s,a=l[s];a===-1?(!(i&n)||i&r)&&(l[s]=Tf(i,t)):a<=t&&(e.expiredLanes|=i),o&=~i}}function ks(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Ju(){var e=ol;return ol<<=1,!(ol&4194240)&&(ol=64),e}function Ro(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function qr(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-gt(t),e[t]=n}function Df(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var l=31-gt(n),o=1<<l;t[l]=0,r[l]=-1,e[l]=-1,n&=~o}}function ui(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-gt(n),l=1<<r;l&t|e[r]&t&&(e[r]|=t),n&=~l}}var se=0;function ec(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var tc,ci,nc,rc,lc,Ss=!1,il=[],Yt=null,qt=null,Gt=null,Lr=new Map,Dr=new Map,Wt=[],zf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function aa(e,t){switch(e){case"focusin":case"focusout":Yt=null;break;case"dragenter":case"dragleave":qt=null;break;case"mouseover":case"mouseout":Gt=null;break;case"pointerover":case"pointerout":Lr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dr.delete(t.pointerId)}}function cr(e,t,n,r,l,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[l]},t!==null&&(t=Xr(t),t!==null&&ci(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function If(e,t,n,r,l){switch(t){case"focusin":return Yt=cr(Yt,e,t,n,r,l),!0;case"dragenter":return qt=cr(qt,e,t,n,r,l),!0;case"mouseover":return Gt=cr(Gt,e,t,n,r,l),!0;case"pointerover":var o=l.pointerId;return Lr.set(o,cr(Lr.get(o)||null,e,t,n,r,l)),!0;case"gotpointercapture":return o=l.pointerId,Dr.set(o,cr(Dr.get(o)||null,e,t,n,r,l)),!0}return!1}function oc(e){var t=hn(e.target);if(t!==null){var n=Cn(t);if(n!==null){if(t=n.tag,t===13){if(t=Yu(n),t!==null){e.blockedOn=t,lc(e.priority,function(){nc(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function kl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Ns(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);xs=r,n.target.dispatchEvent(r),xs=null}else return t=Xr(n),t!==null&&ci(t),e.blockedOn=n,!1;t.shift()}return!0}function ua(e,t,n){kl(e)&&n.delete(t)}function Of(){Ss=!1,Yt!==null&&kl(Yt)&&(Yt=null),qt!==null&&kl(qt)&&(qt=null),Gt!==null&&kl(Gt)&&(Gt=null),Lr.forEach(ua),Dr.forEach(ua)}function dr(e,t){e.blockedOn===t&&(e.blockedOn=null,Ss||(Ss=!0,et.unstable_scheduleCallback(et.unstable_NormalPriority,Of)))}function zr(e){function t(l){return dr(l,e)}if(0<il.length){dr(il[0],e);for(var n=1;n<il.length;n++){var r=il[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Yt!==null&&dr(Yt,e),qt!==null&&dr(qt,e),Gt!==null&&dr(Gt,e),Lr.forEach(t),Dr.forEach(t),n=0;n<Wt.length;n++)r=Wt[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Wt.length&&(n=Wt[0],n.blockedOn===null);)oc(n),n.blockedOn===null&&Wt.shift()}var Yn=Ot.ReactCurrentBatchConfig,Ol=!0;function $f(e,t,n,r){var l=se,o=Yn.transition;Yn.transition=null;try{se=1,di(e,t,n,r)}finally{se=l,Yn.transition=o}}function bf(e,t,n,r){var l=se,o=Yn.transition;Yn.transition=null;try{se=4,di(e,t,n,r)}finally{se=l,Yn.transition=o}}function di(e,t,n,r){if(Ol){var l=Ns(e,t,n,r);if(l===null)bo(e,t,r,$l,n),aa(e,r);else if(If(l,e,t,n,r))r.stopPropagation();else if(aa(e,r),t&4&&-1<zf.indexOf(e)){for(;l!==null;){var o=Xr(l);if(o!==null&&tc(o),o=Ns(e,t,n,r),o===null&&bo(e,t,r,$l,n),o===l)break;l=o}l!==null&&r.stopPropagation()}else bo(e,t,r,null,n)}}var $l=null;function Ns(e,t,n,r){if($l=null,e=ii(r),e=hn(e),e!==null)if(t=Cn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Yu(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return $l=e,null}function sc(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(jf()){case ai:return 1;case Ku:return 4;case zl:case Ef:return 16;case Zu:return 536870912;default:return 16}default:return 16}}var Vt=null,fi=null,Sl=null;function ic(){if(Sl)return Sl;var e,t=fi,n=t.length,r,l="value"in Vt?Vt.value:Vt.textContent,o=l.length;for(e=0;e<n&&t[e]===l[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===l[o-r];r++);return Sl=l.slice(e,1<r?1-r:void 0)}function Nl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function al(){return!0}function ca(){return!1}function nt(e){function t(n,r,l,o,s){this._reactName=n,this._targetInst=l,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var i in e)e.hasOwnProperty(i)&&(n=e[i],this[i]=n?n(o):o[i]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?al:ca,this.isPropagationStopped=ca,this}return ve(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=al)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=al)},persist:function(){},isPersistent:al}),t}var or={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hi=nt(or),Gr=ve({},or,{view:0,detail:0}),Af=nt(Gr),Mo,Po,fr,so=ve({},Gr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pi,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==fr&&(fr&&e.type==="mousemove"?(Mo=e.screenX-fr.screenX,Po=e.screenY-fr.screenY):Po=Mo=0,fr=e),Mo)},movementY:function(e){return"movementY"in e?e.movementY:Po}}),da=nt(so),Ff=ve({},so,{dataTransfer:0}),Uf=nt(Ff),Hf=ve({},Gr,{relatedTarget:0}),To=nt(Hf),Wf=ve({},or,{animationName:0,elapsedTime:0,pseudoElement:0}),Bf=nt(Wf),Vf=ve({},or,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Qf=nt(Vf),Yf=ve({},or,{data:0}),fa=nt(Yf),qf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Gf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Xf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Kf(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Xf[e])?!!t[e]:!1}function pi(){return Kf}var Zf=ve({},Gr,{key:function(e){if(e.key){var t=qf[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Nl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Gf[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pi,charCode:function(e){return e.type==="keypress"?Nl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Nl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Jf=nt(Zf),eh=ve({},so,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ha=nt(eh),th=ve({},Gr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pi}),nh=nt(th),rh=ve({},or,{propertyName:0,elapsedTime:0,pseudoElement:0}),lh=nt(rh),oh=ve({},so,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),sh=nt(oh),ih=[9,13,27,32],mi=Lt&&"CompositionEvent"in window,Sr=null;Lt&&"documentMode"in document&&(Sr=document.documentMode);var ah=Lt&&"TextEvent"in window&&!Sr,ac=Lt&&(!mi||Sr&&8<Sr&&11>=Sr),pa=" ",ma=!1;function uc(e,t){switch(e){case"keyup":return ih.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function cc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Dn=!1;function uh(e,t){switch(e){case"compositionend":return cc(t);case"keypress":return t.which!==32?null:(ma=!0,pa);case"textInput":return e=t.data,e===pa&&ma?null:e;default:return null}}function ch(e,t){if(Dn)return e==="compositionend"||!mi&&uc(e,t)?(e=ic(),Sl=fi=Vt=null,Dn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ac&&t.locale!=="ko"?null:t.data;default:return null}}var dh={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ga(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!dh[e.type]:t==="textarea"}function dc(e,t,n,r){Hu(r),t=bl(t,"onChange"),0<t.length&&(n=new hi("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Nr=null,Ir=null;function fh(e){Sc(e,0)}function io(e){var t=On(e);if(Iu(t))return e}function hh(e,t){if(e==="change")return t}var fc=!1;if(Lt){var Lo;if(Lt){var Do="oninput"in document;if(!Do){var xa=document.createElement("div");xa.setAttribute("oninput","return;"),Do=typeof xa.oninput=="function"}Lo=Do}else Lo=!1;fc=Lo&&(!document.documentMode||9<document.documentMode)}function ya(){Nr&&(Nr.detachEvent("onpropertychange",hc),Ir=Nr=null)}function hc(e){if(e.propertyName==="value"&&io(Ir)){var t=[];dc(t,Ir,e,ii(e)),Qu(fh,t)}}function ph(e,t,n){e==="focusin"?(ya(),Nr=t,Ir=n,Nr.attachEvent("onpropertychange",hc)):e==="focusout"&&ya()}function mh(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return io(Ir)}function gh(e,t){if(e==="click")return io(t)}function xh(e,t){if(e==="input"||e==="change")return io(t)}function yh(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var yt=typeof Object.is=="function"?Object.is:yh;function Or(e,t){if(yt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var l=n[r];if(!os.call(t,l)||!yt(e[l],t[l]))return!1}return!0}function va(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function wa(e,t){var n=va(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=va(n)}}function pc(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?pc(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function mc(){for(var e=window,t=Tl();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Tl(e.document)}return t}function gi(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function vh(e){var t=mc(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&pc(n.ownerDocument.documentElement,n)){if(r!==null&&gi(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var l=n.textContent.length,o=Math.min(r.start,l);r=r.end===void 0?o:Math.min(r.end,l),!e.extend&&o>r&&(l=r,r=o,o=l),l=wa(n,o);var s=wa(n,r);l&&s&&(e.rangeCount!==1||e.anchorNode!==l.node||e.anchorOffset!==l.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(l.node,l.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var wh=Lt&&"documentMode"in document&&11>=document.documentMode,zn=null,Cs=null,Cr=null,js=!1;function ka(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;js||zn==null||zn!==Tl(r)||(r=zn,"selectionStart"in r&&gi(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Cr&&Or(Cr,r)||(Cr=r,r=bl(Cs,"onSelect"),0<r.length&&(t=new hi("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=zn)))}function ul(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var In={animationend:ul("Animation","AnimationEnd"),animationiteration:ul("Animation","AnimationIteration"),animationstart:ul("Animation","AnimationStart"),transitionend:ul("Transition","TransitionEnd")},zo={},gc={};Lt&&(gc=document.createElement("div").style,"AnimationEvent"in window||(delete In.animationend.animation,delete In.animationiteration.animation,delete In.animationstart.animation),"TransitionEvent"in window||delete In.transitionend.transition);function ao(e){if(zo[e])return zo[e];if(!In[e])return e;var t=In[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in gc)return zo[e]=t[n];return e}var xc=ao("animationend"),yc=ao("animationiteration"),vc=ao("animationstart"),wc=ao("transitionend"),kc=new Map,Sa="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function rn(e,t){kc.set(e,t),Nn(t,[e])}for(var Io=0;Io<Sa.length;Io++){var Oo=Sa[Io],kh=Oo.toLowerCase(),Sh=Oo[0].toUpperCase()+Oo.slice(1);rn(kh,"on"+Sh)}rn(xc,"onAnimationEnd");rn(yc,"onAnimationIteration");rn(vc,"onAnimationStart");rn("dblclick","onDoubleClick");rn("focusin","onFocus");rn("focusout","onBlur");rn(wc,"onTransitionEnd");Xn("onMouseEnter",["mouseout","mouseover"]);Xn("onMouseLeave",["mouseout","mouseover"]);Xn("onPointerEnter",["pointerout","pointerover"]);Xn("onPointerLeave",["pointerout","pointerover"]);Nn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Nn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Nn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Nn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Nn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Nn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Nh=new Set("cancel close invalid load scroll toggle".split(" ").concat(vr));function Na(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,kf(r,t,void 0,e),e.currentTarget=null}function Sc(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],l=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var i=r[s],a=i.instance,c=i.currentTarget;if(i=i.listener,a!==o&&l.isPropagationStopped())break e;Na(l,i,c),o=a}else for(s=0;s<r.length;s++){if(i=r[s],a=i.instance,c=i.currentTarget,i=i.listener,a!==o&&l.isPropagationStopped())break e;Na(l,i,c),o=a}}}if(Dl)throw e=ws,Dl=!1,ws=null,e}function fe(e,t){var n=t[Ps];n===void 0&&(n=t[Ps]=new Set);var r=e+"__bubble";n.has(r)||(Nc(t,e,2,!1),n.add(r))}function $o(e,t,n){var r=0;t&&(r|=4),Nc(n,e,r,t)}var cl="_reactListening"+Math.random().toString(36).slice(2);function $r(e){if(!e[cl]){e[cl]=!0,Pu.forEach(function(n){n!=="selectionchange"&&(Nh.has(n)||$o(n,!1,e),$o(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[cl]||(t[cl]=!0,$o("selectionchange",!1,t))}}function Nc(e,t,n,r){switch(sc(t)){case 1:var l=$f;break;case 4:l=bf;break;default:l=di}n=l.bind(null,t,n,e),l=void 0,!vs||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),r?l!==void 0?e.addEventListener(t,n,{capture:!0,passive:l}):e.addEventListener(t,n,!0):l!==void 0?e.addEventListener(t,n,{passive:l}):e.addEventListener(t,n,!1)}function bo(e,t,n,r,l){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var i=r.stateNode.containerInfo;if(i===l||i.nodeType===8&&i.parentNode===l)break;if(s===4)for(s=r.return;s!==null;){var a=s.tag;if((a===3||a===4)&&(a=s.stateNode.containerInfo,a===l||a.nodeType===8&&a.parentNode===l))return;s=s.return}for(;i!==null;){if(s=hn(i),s===null)return;if(a=s.tag,a===5||a===6){r=o=s;continue e}i=i.parentNode}}r=r.return}Qu(function(){var c=o,m=ii(n),p=[];e:{var g=kc.get(e);if(g!==void 0){var x=hi,k=e;switch(e){case"keypress":if(Nl(n)===0)break e;case"keydown":case"keyup":x=Jf;break;case"focusin":k="focus",x=To;break;case"focusout":k="blur",x=To;break;case"beforeblur":case"afterblur":x=To;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=da;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=Uf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=nh;break;case xc:case yc:case vc:x=Bf;break;case wc:x=lh;break;case"scroll":x=Af;break;case"wheel":x=sh;break;case"copy":case"cut":case"paste":x=Qf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=ha}var v=(t&4)!==0,C=!v&&e==="scroll",h=v?g!==null?g+"Capture":null:g;v=[];for(var d=c,f;d!==null;){f=d;var y=f.stateNode;if(f.tag===5&&y!==null&&(f=y,h!==null&&(y=Tr(d,h),y!=null&&v.push(br(d,y,f)))),C)break;d=d.return}0<v.length&&(g=new x(g,k,null,n,m),p.push({event:g,listeners:v}))}}if(!(t&7)){e:{if(g=e==="mouseover"||e==="pointerover",x=e==="mouseout"||e==="pointerout",g&&n!==xs&&(k=n.relatedTarget||n.fromElement)&&(hn(k)||k[Dt]))break e;if((x||g)&&(g=m.window===m?m:(g=m.ownerDocument)?g.defaultView||g.parentWindow:window,x?(k=n.relatedTarget||n.toElement,x=c,k=k?hn(k):null,k!==null&&(C=Cn(k),k!==C||k.tag!==5&&k.tag!==6)&&(k=null)):(x=null,k=c),x!==k)){if(v=da,y="onMouseLeave",h="onMouseEnter",d="mouse",(e==="pointerout"||e==="pointerover")&&(v=ha,y="onPointerLeave",h="onPointerEnter",d="pointer"),C=x==null?g:On(x),f=k==null?g:On(k),g=new v(y,d+"leave",x,n,m),g.target=C,g.relatedTarget=f,y=null,hn(m)===c&&(v=new v(h,d+"enter",k,n,m),v.target=f,v.relatedTarget=C,y=v),C=y,x&&k)t:{for(v=x,h=k,d=0,f=v;f;f=Mn(f))d++;for(f=0,y=h;y;y=Mn(y))f++;for(;0<d-f;)v=Mn(v),d--;for(;0<f-d;)h=Mn(h),f--;for(;d--;){if(v===h||h!==null&&v===h.alternate)break t;v=Mn(v),h=Mn(h)}v=null}else v=null;x!==null&&Ca(p,g,x,v,!1),k!==null&&C!==null&&Ca(p,C,k,v,!0)}}e:{if(g=c?On(c):window,x=g.nodeName&&g.nodeName.toLowerCase(),x==="select"||x==="input"&&g.type==="file")var N=hh;else if(ga(g))if(fc)N=xh;else{N=mh;var j=ph}else(x=g.nodeName)&&x.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(N=gh);if(N&&(N=N(e,c))){dc(p,N,n,m);break e}j&&j(e,g,c),e==="focusout"&&(j=g._wrapperState)&&j.controlled&&g.type==="number"&&fs(g,"number",g.value)}switch(j=c?On(c):window,e){case"focusin":(ga(j)||j.contentEditable==="true")&&(zn=j,Cs=c,Cr=null);break;case"focusout":Cr=Cs=zn=null;break;case"mousedown":js=!0;break;case"contextmenu":case"mouseup":case"dragend":js=!1,ka(p,n,m);break;case"selectionchange":if(wh)break;case"keydown":case"keyup":ka(p,n,m)}var P;if(mi)e:{switch(e){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else Dn?uc(e,n)&&(R="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(R="onCompositionStart");R&&(ac&&n.locale!=="ko"&&(Dn||R!=="onCompositionStart"?R==="onCompositionEnd"&&Dn&&(P=ic()):(Vt=m,fi="value"in Vt?Vt.value:Vt.textContent,Dn=!0)),j=bl(c,R),0<j.length&&(R=new fa(R,e,null,n,m),p.push({event:R,listeners:j}),P?R.data=P:(P=cc(n),P!==null&&(R.data=P)))),(P=ah?uh(e,n):ch(e,n))&&(c=bl(c,"onBeforeInput"),0<c.length&&(m=new fa("onBeforeInput","beforeinput",null,n,m),p.push({event:m,listeners:c}),m.data=P))}Sc(p,t)})}function br(e,t,n){return{instance:e,listener:t,currentTarget:n}}function bl(e,t){for(var n=t+"Capture",r=[];e!==null;){var l=e,o=l.stateNode;l.tag===5&&o!==null&&(l=o,o=Tr(e,n),o!=null&&r.unshift(br(e,o,l)),o=Tr(e,t),o!=null&&r.push(br(e,o,l))),e=e.return}return r}function Mn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Ca(e,t,n,r,l){for(var o=t._reactName,s=[];n!==null&&n!==r;){var i=n,a=i.alternate,c=i.stateNode;if(a!==null&&a===r)break;i.tag===5&&c!==null&&(i=c,l?(a=Tr(n,o),a!=null&&s.unshift(br(n,a,i))):l||(a=Tr(n,o),a!=null&&s.push(br(n,a,i)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var Ch=/\r\n?/g,jh=/\u0000|\uFFFD/g;function ja(e){return(typeof e=="string"?e:""+e).replace(Ch,`
`).replace(jh,"")}function dl(e,t,n){if(t=ja(t),ja(e)!==t&&n)throw Error(_(425))}function Al(){}var Es=null,_s=null;function Rs(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ms=typeof setTimeout=="function"?setTimeout:void 0,Eh=typeof clearTimeout=="function"?clearTimeout:void 0,Ea=typeof Promise=="function"?Promise:void 0,_h=typeof queueMicrotask=="function"?queueMicrotask:typeof Ea<"u"?function(e){return Ea.resolve(null).then(e).catch(Rh)}:Ms;function Rh(e){setTimeout(function(){throw e})}function Ao(e,t){var n=t,r=0;do{var l=n.nextSibling;if(e.removeChild(n),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(r===0){e.removeChild(l),zr(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=l}while(n);zr(t)}function Xt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function _a(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var sr=Math.random().toString(36).slice(2),Nt="__reactFiber$"+sr,Ar="__reactProps$"+sr,Dt="__reactContainer$"+sr,Ps="__reactEvents$"+sr,Mh="__reactListeners$"+sr,Ph="__reactHandles$"+sr;function hn(e){var t=e[Nt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Dt]||n[Nt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=_a(e);e!==null;){if(n=e[Nt])return n;e=_a(e)}return t}e=n,n=e.parentNode}return null}function Xr(e){return e=e[Nt]||e[Dt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function On(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(_(33))}function uo(e){return e[Ar]||null}var Ts=[],$n=-1;function ln(e){return{current:e}}function he(e){0>$n||(e.current=Ts[$n],Ts[$n]=null,$n--)}function ue(e,t){$n++,Ts[$n]=e.current,e.current=t}var nn={},$e=ln(nn),Ye=ln(!1),yn=nn;function Kn(e,t){var n=e.type.contextTypes;if(!n)return nn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var l={},o;for(o in n)l[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=l),l}function qe(e){return e=e.childContextTypes,e!=null}function Fl(){he(Ye),he($e)}function Ra(e,t,n){if($e.current!==nn)throw Error(_(168));ue($e,t),ue(Ye,n)}function Cc(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var l in r)if(!(l in t))throw Error(_(108,pf(e)||"Unknown",l));return ve({},n,r)}function Ul(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||nn,yn=$e.current,ue($e,e),ue(Ye,Ye.current),!0}function Ma(e,t,n){var r=e.stateNode;if(!r)throw Error(_(169));n?(e=Cc(e,t,yn),r.__reactInternalMemoizedMergedChildContext=e,he(Ye),he($e),ue($e,e)):he(Ye),ue(Ye,n)}var Rt=null,co=!1,Fo=!1;function jc(e){Rt===null?Rt=[e]:Rt.push(e)}function Th(e){co=!0,jc(e)}function on(){if(!Fo&&Rt!==null){Fo=!0;var e=0,t=se;try{var n=Rt;for(se=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Rt=null,co=!1}catch(l){throw Rt!==null&&(Rt=Rt.slice(e+1)),Xu(ai,on),l}finally{se=t,Fo=!1}}return null}var bn=[],An=0,Hl=null,Wl=0,rt=[],lt=0,vn=null,Mt=1,Pt="";function cn(e,t){bn[An++]=Wl,bn[An++]=Hl,Hl=e,Wl=t}function Ec(e,t,n){rt[lt++]=Mt,rt[lt++]=Pt,rt[lt++]=vn,vn=e;var r=Mt;e=Pt;var l=32-gt(r)-1;r&=~(1<<l),n+=1;var o=32-gt(t)+l;if(30<o){var s=l-l%5;o=(r&(1<<s)-1).toString(32),r>>=s,l-=s,Mt=1<<32-gt(t)+l|n<<l|r,Pt=o+e}else Mt=1<<o|n<<l|r,Pt=e}function xi(e){e.return!==null&&(cn(e,1),Ec(e,1,0))}function yi(e){for(;e===Hl;)Hl=bn[--An],bn[An]=null,Wl=bn[--An],bn[An]=null;for(;e===vn;)vn=rt[--lt],rt[lt]=null,Pt=rt[--lt],rt[lt]=null,Mt=rt[--lt],rt[lt]=null}var Je=null,Ze=null,ge=!1,mt=null;function _c(e,t){var n=ot(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Pa(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Je=e,Ze=Xt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Je=e,Ze=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=vn!==null?{id:Mt,overflow:Pt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=ot(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Je=e,Ze=null,!0):!1;default:return!1}}function Ls(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ds(e){if(ge){var t=Ze;if(t){var n=t;if(!Pa(e,t)){if(Ls(e))throw Error(_(418));t=Xt(n.nextSibling);var r=Je;t&&Pa(e,t)?_c(r,n):(e.flags=e.flags&-4097|2,ge=!1,Je=e)}}else{if(Ls(e))throw Error(_(418));e.flags=e.flags&-4097|2,ge=!1,Je=e}}}function Ta(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Je=e}function fl(e){if(e!==Je)return!1;if(!ge)return Ta(e),ge=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Rs(e.type,e.memoizedProps)),t&&(t=Ze)){if(Ls(e))throw Rc(),Error(_(418));for(;t;)_c(e,t),t=Xt(t.nextSibling)}if(Ta(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(_(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ze=Xt(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ze=null}}else Ze=Je?Xt(e.stateNode.nextSibling):null;return!0}function Rc(){for(var e=Ze;e;)e=Xt(e.nextSibling)}function Zn(){Ze=Je=null,ge=!1}function vi(e){mt===null?mt=[e]:mt.push(e)}var Lh=Ot.ReactCurrentBatchConfig;function hr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(_(309));var r=n.stateNode}if(!r)throw Error(_(147,e));var l=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(s){var i=l.refs;s===null?delete i[o]:i[o]=s},t._stringRef=o,t)}if(typeof e!="string")throw Error(_(284));if(!n._owner)throw Error(_(290,e))}return e}function hl(e,t){throw e=Object.prototype.toString.call(t),Error(_(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function La(e){var t=e._init;return t(e._payload)}function Mc(e){function t(h,d){if(e){var f=h.deletions;f===null?(h.deletions=[d],h.flags|=16):f.push(d)}}function n(h,d){if(!e)return null;for(;d!==null;)t(h,d),d=d.sibling;return null}function r(h,d){for(h=new Map;d!==null;)d.key!==null?h.set(d.key,d):h.set(d.index,d),d=d.sibling;return h}function l(h,d){return h=en(h,d),h.index=0,h.sibling=null,h}function o(h,d,f){return h.index=f,e?(f=h.alternate,f!==null?(f=f.index,f<d?(h.flags|=2,d):f):(h.flags|=2,d)):(h.flags|=1048576,d)}function s(h){return e&&h.alternate===null&&(h.flags|=2),h}function i(h,d,f,y){return d===null||d.tag!==6?(d=Yo(f,h.mode,y),d.return=h,d):(d=l(d,f),d.return=h,d)}function a(h,d,f,y){var N=f.type;return N===Ln?m(h,d,f.props.children,y,f.key):d!==null&&(d.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Ut&&La(N)===d.type)?(y=l(d,f.props),y.ref=hr(h,d,f),y.return=h,y):(y=Pl(f.type,f.key,f.props,null,h.mode,y),y.ref=hr(h,d,f),y.return=h,y)}function c(h,d,f,y){return d===null||d.tag!==4||d.stateNode.containerInfo!==f.containerInfo||d.stateNode.implementation!==f.implementation?(d=qo(f,h.mode,y),d.return=h,d):(d=l(d,f.children||[]),d.return=h,d)}function m(h,d,f,y,N){return d===null||d.tag!==7?(d=xn(f,h.mode,y,N),d.return=h,d):(d=l(d,f),d.return=h,d)}function p(h,d,f){if(typeof d=="string"&&d!==""||typeof d=="number")return d=Yo(""+d,h.mode,f),d.return=h,d;if(typeof d=="object"&&d!==null){switch(d.$$typeof){case nl:return f=Pl(d.type,d.key,d.props,null,h.mode,f),f.ref=hr(h,null,d),f.return=h,f;case Tn:return d=qo(d,h.mode,f),d.return=h,d;case Ut:var y=d._init;return p(h,y(d._payload),f)}if(xr(d)||ar(d))return d=xn(d,h.mode,f,null),d.return=h,d;hl(h,d)}return null}function g(h,d,f,y){var N=d!==null?d.key:null;if(typeof f=="string"&&f!==""||typeof f=="number")return N!==null?null:i(h,d,""+f,y);if(typeof f=="object"&&f!==null){switch(f.$$typeof){case nl:return f.key===N?a(h,d,f,y):null;case Tn:return f.key===N?c(h,d,f,y):null;case Ut:return N=f._init,g(h,d,N(f._payload),y)}if(xr(f)||ar(f))return N!==null?null:m(h,d,f,y,null);hl(h,f)}return null}function x(h,d,f,y,N){if(typeof y=="string"&&y!==""||typeof y=="number")return h=h.get(f)||null,i(d,h,""+y,N);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case nl:return h=h.get(y.key===null?f:y.key)||null,a(d,h,y,N);case Tn:return h=h.get(y.key===null?f:y.key)||null,c(d,h,y,N);case Ut:var j=y._init;return x(h,d,f,j(y._payload),N)}if(xr(y)||ar(y))return h=h.get(f)||null,m(d,h,y,N,null);hl(d,y)}return null}function k(h,d,f,y){for(var N=null,j=null,P=d,R=d=0,H=null;P!==null&&R<f.length;R++){P.index>R?(H=P,P=null):H=P.sibling;var b=g(h,P,f[R],y);if(b===null){P===null&&(P=H);break}e&&P&&b.alternate===null&&t(h,P),d=o(b,d,R),j===null?N=b:j.sibling=b,j=b,P=H}if(R===f.length)return n(h,P),ge&&cn(h,R),N;if(P===null){for(;R<f.length;R++)P=p(h,f[R],y),P!==null&&(d=o(P,d,R),j===null?N=P:j.sibling=P,j=P);return ge&&cn(h,R),N}for(P=r(h,P);R<f.length;R++)H=x(P,h,R,f[R],y),H!==null&&(e&&H.alternate!==null&&P.delete(H.key===null?R:H.key),d=o(H,d,R),j===null?N=H:j.sibling=H,j=H);return e&&P.forEach(function(ne){return t(h,ne)}),ge&&cn(h,R),N}function v(h,d,f,y){var N=ar(f);if(typeof N!="function")throw Error(_(150));if(f=N.call(f),f==null)throw Error(_(151));for(var j=N=null,P=d,R=d=0,H=null,b=f.next();P!==null&&!b.done;R++,b=f.next()){P.index>R?(H=P,P=null):H=P.sibling;var ne=g(h,P,b.value,y);if(ne===null){P===null&&(P=H);break}e&&P&&ne.alternate===null&&t(h,P),d=o(ne,d,R),j===null?N=ne:j.sibling=ne,j=ne,P=H}if(b.done)return n(h,P),ge&&cn(h,R),N;if(P===null){for(;!b.done;R++,b=f.next())b=p(h,b.value,y),b!==null&&(d=o(b,d,R),j===null?N=b:j.sibling=b,j=b);return ge&&cn(h,R),N}for(P=r(h,P);!b.done;R++,b=f.next())b=x(P,h,R,b.value,y),b!==null&&(e&&b.alternate!==null&&P.delete(b.key===null?R:b.key),d=o(b,d,R),j===null?N=b:j.sibling=b,j=b);return e&&P.forEach(function(B){return t(h,B)}),ge&&cn(h,R),N}function C(h,d,f,y){if(typeof f=="object"&&f!==null&&f.type===Ln&&f.key===null&&(f=f.props.children),typeof f=="object"&&f!==null){switch(f.$$typeof){case nl:e:{for(var N=f.key,j=d;j!==null;){if(j.key===N){if(N=f.type,N===Ln){if(j.tag===7){n(h,j.sibling),d=l(j,f.props.children),d.return=h,h=d;break e}}else if(j.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Ut&&La(N)===j.type){n(h,j.sibling),d=l(j,f.props),d.ref=hr(h,j,f),d.return=h,h=d;break e}n(h,j);break}else t(h,j);j=j.sibling}f.type===Ln?(d=xn(f.props.children,h.mode,y,f.key),d.return=h,h=d):(y=Pl(f.type,f.key,f.props,null,h.mode,y),y.ref=hr(h,d,f),y.return=h,h=y)}return s(h);case Tn:e:{for(j=f.key;d!==null;){if(d.key===j)if(d.tag===4&&d.stateNode.containerInfo===f.containerInfo&&d.stateNode.implementation===f.implementation){n(h,d.sibling),d=l(d,f.children||[]),d.return=h,h=d;break e}else{n(h,d);break}else t(h,d);d=d.sibling}d=qo(f,h.mode,y),d.return=h,h=d}return s(h);case Ut:return j=f._init,C(h,d,j(f._payload),y)}if(xr(f))return k(h,d,f,y);if(ar(f))return v(h,d,f,y);hl(h,f)}return typeof f=="string"&&f!==""||typeof f=="number"?(f=""+f,d!==null&&d.tag===6?(n(h,d.sibling),d=l(d,f),d.return=h,h=d):(n(h,d),d=Yo(f,h.mode,y),d.return=h,h=d),s(h)):n(h,d)}return C}var Jn=Mc(!0),Pc=Mc(!1),Bl=ln(null),Vl=null,Fn=null,wi=null;function ki(){wi=Fn=Vl=null}function Si(e){var t=Bl.current;he(Bl),e._currentValue=t}function zs(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function qn(e,t){Vl=e,wi=Fn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Qe=!0),e.firstContext=null)}function it(e){var t=e._currentValue;if(wi!==e)if(e={context:e,memoizedValue:t,next:null},Fn===null){if(Vl===null)throw Error(_(308));Fn=e,Vl.dependencies={lanes:0,firstContext:e}}else Fn=Fn.next=e;return t}var pn=null;function Ni(e){pn===null?pn=[e]:pn.push(e)}function Tc(e,t,n,r){var l=t.interleaved;return l===null?(n.next=n,Ni(t)):(n.next=l.next,l.next=n),t.interleaved=n,zt(e,r)}function zt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Ht=!1;function Ci(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Lc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Tt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Kt(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ee&2){var l=r.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),r.pending=t,zt(e,n)}return l=r.interleaved,l===null?(t.next=t,Ni(r)):(t.next=l.next,l.next=t),r.interleaved=t,zt(e,n)}function Cl(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ui(e,n)}}function Da(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var l=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?l=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?l=o=t:o=o.next=t}else l=o=t;n={baseState:r.baseState,firstBaseUpdate:l,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ql(e,t,n,r){var l=e.updateQueue;Ht=!1;var o=l.firstBaseUpdate,s=l.lastBaseUpdate,i=l.shared.pending;if(i!==null){l.shared.pending=null;var a=i,c=a.next;a.next=null,s===null?o=c:s.next=c,s=a;var m=e.alternate;m!==null&&(m=m.updateQueue,i=m.lastBaseUpdate,i!==s&&(i===null?m.firstBaseUpdate=c:i.next=c,m.lastBaseUpdate=a))}if(o!==null){var p=l.baseState;s=0,m=c=a=null,i=o;do{var g=i.lane,x=i.eventTime;if((r&g)===g){m!==null&&(m=m.next={eventTime:x,lane:0,tag:i.tag,payload:i.payload,callback:i.callback,next:null});e:{var k=e,v=i;switch(g=t,x=n,v.tag){case 1:if(k=v.payload,typeof k=="function"){p=k.call(x,p,g);break e}p=k;break e;case 3:k.flags=k.flags&-65537|128;case 0:if(k=v.payload,g=typeof k=="function"?k.call(x,p,g):k,g==null)break e;p=ve({},p,g);break e;case 2:Ht=!0}}i.callback!==null&&i.lane!==0&&(e.flags|=64,g=l.effects,g===null?l.effects=[i]:g.push(i))}else x={eventTime:x,lane:g,tag:i.tag,payload:i.payload,callback:i.callback,next:null},m===null?(c=m=x,a=p):m=m.next=x,s|=g;if(i=i.next,i===null){if(i=l.shared.pending,i===null)break;g=i,i=g.next,g.next=null,l.lastBaseUpdate=g,l.shared.pending=null}}while(!0);if(m===null&&(a=p),l.baseState=a,l.firstBaseUpdate=c,l.lastBaseUpdate=m,t=l.shared.interleaved,t!==null){l=t;do s|=l.lane,l=l.next;while(l!==t)}else o===null&&(l.shared.lanes=0);kn|=s,e.lanes=s,e.memoizedState=p}}function za(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],l=r.callback;if(l!==null){if(r.callback=null,r=n,typeof l!="function")throw Error(_(191,l));l.call(r)}}}var Kr={},jt=ln(Kr),Fr=ln(Kr),Ur=ln(Kr);function mn(e){if(e===Kr)throw Error(_(174));return e}function ji(e,t){switch(ue(Ur,t),ue(Fr,e),ue(jt,Kr),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ps(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ps(t,e)}he(jt),ue(jt,t)}function er(){he(jt),he(Fr),he(Ur)}function Dc(e){mn(Ur.current);var t=mn(jt.current),n=ps(t,e.type);t!==n&&(ue(Fr,e),ue(jt,n))}function Ei(e){Fr.current===e&&(he(jt),he(Fr))}var xe=ln(0);function Yl(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Uo=[];function _i(){for(var e=0;e<Uo.length;e++)Uo[e]._workInProgressVersionPrimary=null;Uo.length=0}var jl=Ot.ReactCurrentDispatcher,Ho=Ot.ReactCurrentBatchConfig,wn=0,ye=null,Ee=null,Me=null,ql=!1,jr=!1,Hr=0,Dh=0;function ze(){throw Error(_(321))}function Ri(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!yt(e[n],t[n]))return!1;return!0}function Mi(e,t,n,r,l,o){if(wn=o,ye=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,jl.current=e===null||e.memoizedState===null?$h:bh,e=n(r,l),jr){o=0;do{if(jr=!1,Hr=0,25<=o)throw Error(_(301));o+=1,Me=Ee=null,t.updateQueue=null,jl.current=Ah,e=n(r,l)}while(jr)}if(jl.current=Gl,t=Ee!==null&&Ee.next!==null,wn=0,Me=Ee=ye=null,ql=!1,t)throw Error(_(300));return e}function Pi(){var e=Hr!==0;return Hr=0,e}function St(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Me===null?ye.memoizedState=Me=e:Me=Me.next=e,Me}function at(){if(Ee===null){var e=ye.alternate;e=e!==null?e.memoizedState:null}else e=Ee.next;var t=Me===null?ye.memoizedState:Me.next;if(t!==null)Me=t,Ee=e;else{if(e===null)throw Error(_(310));Ee=e,e={memoizedState:Ee.memoizedState,baseState:Ee.baseState,baseQueue:Ee.baseQueue,queue:Ee.queue,next:null},Me===null?ye.memoizedState=Me=e:Me=Me.next=e}return Me}function Wr(e,t){return typeof t=="function"?t(e):t}function Wo(e){var t=at(),n=t.queue;if(n===null)throw Error(_(311));n.lastRenderedReducer=e;var r=Ee,l=r.baseQueue,o=n.pending;if(o!==null){if(l!==null){var s=l.next;l.next=o.next,o.next=s}r.baseQueue=l=o,n.pending=null}if(l!==null){o=l.next,r=r.baseState;var i=s=null,a=null,c=o;do{var m=c.lane;if((wn&m)===m)a!==null&&(a=a.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var p={lane:m,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};a===null?(i=a=p,s=r):a=a.next=p,ye.lanes|=m,kn|=m}c=c.next}while(c!==null&&c!==o);a===null?s=r:a.next=i,yt(r,t.memoizedState)||(Qe=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=a,n.lastRenderedState=r}if(e=n.interleaved,e!==null){l=e;do o=l.lane,ye.lanes|=o,kn|=o,l=l.next;while(l!==e)}else l===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Bo(e){var t=at(),n=t.queue;if(n===null)throw Error(_(311));n.lastRenderedReducer=e;var r=n.dispatch,l=n.pending,o=t.memoizedState;if(l!==null){n.pending=null;var s=l=l.next;do o=e(o,s.action),s=s.next;while(s!==l);yt(o,t.memoizedState)||(Qe=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function zc(){}function Ic(e,t){var n=ye,r=at(),l=t(),o=!yt(r.memoizedState,l);if(o&&(r.memoizedState=l,Qe=!0),r=r.queue,Ti(bc.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||Me!==null&&Me.memoizedState.tag&1){if(n.flags|=2048,Br(9,$c.bind(null,n,r,l,t),void 0,null),Pe===null)throw Error(_(349));wn&30||Oc(n,t,l)}return l}function Oc(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ye.updateQueue,t===null?(t={lastEffect:null,stores:null},ye.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function $c(e,t,n,r){t.value=n,t.getSnapshot=r,Ac(t)&&Fc(e)}function bc(e,t,n){return n(function(){Ac(t)&&Fc(e)})}function Ac(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!yt(e,n)}catch{return!0}}function Fc(e){var t=zt(e,1);t!==null&&xt(t,e,1,-1)}function Ia(e){var t=St();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Wr,lastRenderedState:e},t.queue=e,e=e.dispatch=Oh.bind(null,ye,e),[t.memoizedState,e]}function Br(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ye.updateQueue,t===null?(t={lastEffect:null,stores:null},ye.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Uc(){return at().memoizedState}function El(e,t,n,r){var l=St();ye.flags|=e,l.memoizedState=Br(1|t,n,void 0,r===void 0?null:r)}function fo(e,t,n,r){var l=at();r=r===void 0?null:r;var o=void 0;if(Ee!==null){var s=Ee.memoizedState;if(o=s.destroy,r!==null&&Ri(r,s.deps)){l.memoizedState=Br(t,n,o,r);return}}ye.flags|=e,l.memoizedState=Br(1|t,n,o,r)}function Oa(e,t){return El(8390656,8,e,t)}function Ti(e,t){return fo(2048,8,e,t)}function Hc(e,t){return fo(4,2,e,t)}function Wc(e,t){return fo(4,4,e,t)}function Bc(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Vc(e,t,n){return n=n!=null?n.concat([e]):null,fo(4,4,Bc.bind(null,t,e),n)}function Li(){}function Qc(e,t){var n=at();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Ri(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Yc(e,t){var n=at();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Ri(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function qc(e,t,n){return wn&21?(yt(n,t)||(n=Ju(),ye.lanes|=n,kn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Qe=!0),e.memoizedState=n)}function zh(e,t){var n=se;se=n!==0&&4>n?n:4,e(!0);var r=Ho.transition;Ho.transition={};try{e(!1),t()}finally{se=n,Ho.transition=r}}function Gc(){return at().memoizedState}function Ih(e,t,n){var r=Jt(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Xc(e))Kc(t,n);else if(n=Tc(e,t,n,r),n!==null){var l=Fe();xt(n,e,r,l),Zc(n,t,r)}}function Oh(e,t,n){var r=Jt(e),l={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Xc(e))Kc(t,l);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var s=t.lastRenderedState,i=o(s,n);if(l.hasEagerState=!0,l.eagerState=i,yt(i,s)){var a=t.interleaved;a===null?(l.next=l,Ni(t)):(l.next=a.next,a.next=l),t.interleaved=l;return}}catch{}finally{}n=Tc(e,t,l,r),n!==null&&(l=Fe(),xt(n,e,r,l),Zc(n,t,r))}}function Xc(e){var t=e.alternate;return e===ye||t!==null&&t===ye}function Kc(e,t){jr=ql=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Zc(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ui(e,n)}}var Gl={readContext:it,useCallback:ze,useContext:ze,useEffect:ze,useImperativeHandle:ze,useInsertionEffect:ze,useLayoutEffect:ze,useMemo:ze,useReducer:ze,useRef:ze,useState:ze,useDebugValue:ze,useDeferredValue:ze,useTransition:ze,useMutableSource:ze,useSyncExternalStore:ze,useId:ze,unstable_isNewReconciler:!1},$h={readContext:it,useCallback:function(e,t){return St().memoizedState=[e,t===void 0?null:t],e},useContext:it,useEffect:Oa,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,El(4194308,4,Bc.bind(null,t,e),n)},useLayoutEffect:function(e,t){return El(4194308,4,e,t)},useInsertionEffect:function(e,t){return El(4,2,e,t)},useMemo:function(e,t){var n=St();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=St();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Ih.bind(null,ye,e),[r.memoizedState,e]},useRef:function(e){var t=St();return e={current:e},t.memoizedState=e},useState:Ia,useDebugValue:Li,useDeferredValue:function(e){return St().memoizedState=e},useTransition:function(){var e=Ia(!1),t=e[0];return e=zh.bind(null,e[1]),St().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ye,l=St();if(ge){if(n===void 0)throw Error(_(407));n=n()}else{if(n=t(),Pe===null)throw Error(_(349));wn&30||Oc(r,t,n)}l.memoizedState=n;var o={value:n,getSnapshot:t};return l.queue=o,Oa(bc.bind(null,r,o,e),[e]),r.flags|=2048,Br(9,$c.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=St(),t=Pe.identifierPrefix;if(ge){var n=Pt,r=Mt;n=(r&~(1<<32-gt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Hr++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Dh++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},bh={readContext:it,useCallback:Qc,useContext:it,useEffect:Ti,useImperativeHandle:Vc,useInsertionEffect:Hc,useLayoutEffect:Wc,useMemo:Yc,useReducer:Wo,useRef:Uc,useState:function(){return Wo(Wr)},useDebugValue:Li,useDeferredValue:function(e){var t=at();return qc(t,Ee.memoizedState,e)},useTransition:function(){var e=Wo(Wr)[0],t=at().memoizedState;return[e,t]},useMutableSource:zc,useSyncExternalStore:Ic,useId:Gc,unstable_isNewReconciler:!1},Ah={readContext:it,useCallback:Qc,useContext:it,useEffect:Ti,useImperativeHandle:Vc,useInsertionEffect:Hc,useLayoutEffect:Wc,useMemo:Yc,useReducer:Bo,useRef:Uc,useState:function(){return Bo(Wr)},useDebugValue:Li,useDeferredValue:function(e){var t=at();return Ee===null?t.memoizedState=e:qc(t,Ee.memoizedState,e)},useTransition:function(){var e=Bo(Wr)[0],t=at().memoizedState;return[e,t]},useMutableSource:zc,useSyncExternalStore:Ic,useId:Gc,unstable_isNewReconciler:!1};function ft(e,t){if(e&&e.defaultProps){t=ve({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Is(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ve({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var ho={isMounted:function(e){return(e=e._reactInternals)?Cn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Fe(),l=Jt(e),o=Tt(r,l);o.payload=t,n!=null&&(o.callback=n),t=Kt(e,o,l),t!==null&&(xt(t,e,l,r),Cl(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Fe(),l=Jt(e),o=Tt(r,l);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=Kt(e,o,l),t!==null&&(xt(t,e,l,r),Cl(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Fe(),r=Jt(e),l=Tt(n,r);l.tag=2,t!=null&&(l.callback=t),t=Kt(e,l,r),t!==null&&(xt(t,e,r,n),Cl(t,e,r))}};function $a(e,t,n,r,l,o,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,s):t.prototype&&t.prototype.isPureReactComponent?!Or(n,r)||!Or(l,o):!0}function Jc(e,t,n){var r=!1,l=nn,o=t.contextType;return typeof o=="object"&&o!==null?o=it(o):(l=qe(t)?yn:$e.current,r=t.contextTypes,o=(r=r!=null)?Kn(e,l):nn),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ho,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=o),t}function ba(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ho.enqueueReplaceState(t,t.state,null)}function Os(e,t,n,r){var l=e.stateNode;l.props=n,l.state=e.memoizedState,l.refs={},Ci(e);var o=t.contextType;typeof o=="object"&&o!==null?l.context=it(o):(o=qe(t)?yn:$e.current,l.context=Kn(e,o)),l.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(Is(e,t,o,n),l.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(t=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),t!==l.state&&ho.enqueueReplaceState(l,l.state,null),Ql(e,n,l,r),l.state=e.memoizedState),typeof l.componentDidMount=="function"&&(e.flags|=4194308)}function tr(e,t){try{var n="",r=t;do n+=hf(r),r=r.return;while(r);var l=n}catch(o){l=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:l,digest:null}}function Vo(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function $s(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Fh=typeof WeakMap=="function"?WeakMap:Map;function ed(e,t,n){n=Tt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Kl||(Kl=!0,Ys=r),$s(e,t)},n}function td(e,t,n){n=Tt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var l=t.value;n.payload=function(){return r(l)},n.callback=function(){$s(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){$s(e,t),typeof r!="function"&&(Zt===null?Zt=new Set([this]):Zt.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function Aa(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Fh;var l=new Set;r.set(t,l)}else l=r.get(t),l===void 0&&(l=new Set,r.set(t,l));l.has(n)||(l.add(n),e=ep.bind(null,e,t,n),t.then(e,e))}function Fa(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Ua(e,t,n,r,l){return e.mode&1?(e.flags|=65536,e.lanes=l,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Tt(-1,1),t.tag=2,Kt(n,t,1))),n.lanes|=1),e)}var Uh=Ot.ReactCurrentOwner,Qe=!1;function Ae(e,t,n,r){t.child=e===null?Pc(t,null,n,r):Jn(t,e.child,n,r)}function Ha(e,t,n,r,l){n=n.render;var o=t.ref;return qn(t,l),r=Mi(e,t,n,r,o,l),n=Pi(),e!==null&&!Qe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,It(e,t,l)):(ge&&n&&xi(t),t.flags|=1,Ae(e,t,r,l),t.child)}function Wa(e,t,n,r,l){if(e===null){var o=n.type;return typeof o=="function"&&!Fi(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,nd(e,t,o,r,l)):(e=Pl(n.type,null,r,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&l)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:Or,n(s,r)&&e.ref===t.ref)return It(e,t,l)}return t.flags|=1,e=en(o,r),e.ref=t.ref,e.return=t,t.child=e}function nd(e,t,n,r,l){if(e!==null){var o=e.memoizedProps;if(Or(o,r)&&e.ref===t.ref)if(Qe=!1,t.pendingProps=r=o,(e.lanes&l)!==0)e.flags&131072&&(Qe=!0);else return t.lanes=e.lanes,It(e,t,l)}return bs(e,t,n,r,l)}function rd(e,t,n){var r=t.pendingProps,l=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ue(Hn,Ke),Ke|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ue(Hn,Ke),Ke|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,ue(Hn,Ke),Ke|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,ue(Hn,Ke),Ke|=r;return Ae(e,t,l,n),t.child}function ld(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function bs(e,t,n,r,l){var o=qe(n)?yn:$e.current;return o=Kn(t,o),qn(t,l),n=Mi(e,t,n,r,o,l),r=Pi(),e!==null&&!Qe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,It(e,t,l)):(ge&&r&&xi(t),t.flags|=1,Ae(e,t,n,l),t.child)}function Ba(e,t,n,r,l){if(qe(n)){var o=!0;Ul(t)}else o=!1;if(qn(t,l),t.stateNode===null)_l(e,t),Jc(t,n,r),Os(t,n,r,l),r=!0;else if(e===null){var s=t.stateNode,i=t.memoizedProps;s.props=i;var a=s.context,c=n.contextType;typeof c=="object"&&c!==null?c=it(c):(c=qe(n)?yn:$e.current,c=Kn(t,c));var m=n.getDerivedStateFromProps,p=typeof m=="function"||typeof s.getSnapshotBeforeUpdate=="function";p||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(i!==r||a!==c)&&ba(t,s,r,c),Ht=!1;var g=t.memoizedState;s.state=g,Ql(t,r,s,l),a=t.memoizedState,i!==r||g!==a||Ye.current||Ht?(typeof m=="function"&&(Is(t,n,m,r),a=t.memoizedState),(i=Ht||$a(t,n,i,r,g,a,c))?(p||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=a),s.props=r,s.state=a,s.context=c,r=i):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,Lc(e,t),i=t.memoizedProps,c=t.type===t.elementType?i:ft(t.type,i),s.props=c,p=t.pendingProps,g=s.context,a=n.contextType,typeof a=="object"&&a!==null?a=it(a):(a=qe(n)?yn:$e.current,a=Kn(t,a));var x=n.getDerivedStateFromProps;(m=typeof x=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(i!==p||g!==a)&&ba(t,s,r,a),Ht=!1,g=t.memoizedState,s.state=g,Ql(t,r,s,l);var k=t.memoizedState;i!==p||g!==k||Ye.current||Ht?(typeof x=="function"&&(Is(t,n,x,r),k=t.memoizedState),(c=Ht||$a(t,n,c,r,g,k,a)||!1)?(m||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,k,a),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,k,a)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||i===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||i===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=k),s.props=r,s.state=k,s.context=a,r=c):(typeof s.componentDidUpdate!="function"||i===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||i===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),r=!1)}return As(e,t,n,r,o,l)}function As(e,t,n,r,l,o){ld(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return l&&Ma(t,n,!1),It(e,t,o);r=t.stateNode,Uh.current=t;var i=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=Jn(t,e.child,null,o),t.child=Jn(t,null,i,o)):Ae(e,t,i,o),t.memoizedState=r.state,l&&Ma(t,n,!0),t.child}function od(e){var t=e.stateNode;t.pendingContext?Ra(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Ra(e,t.context,!1),ji(e,t.containerInfo)}function Va(e,t,n,r,l){return Zn(),vi(l),t.flags|=256,Ae(e,t,n,r),t.child}var Fs={dehydrated:null,treeContext:null,retryLane:0};function Us(e){return{baseLanes:e,cachePool:null,transitions:null}}function sd(e,t,n){var r=t.pendingProps,l=xe.current,o=!1,s=(t.flags&128)!==0,i;if((i=s)||(i=e!==null&&e.memoizedState===null?!1:(l&2)!==0),i?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(l|=1),ue(xe,l&1),e===null)return Ds(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,o?(r=t.mode,o=t.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=go(s,r,0,null),e=xn(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Us(n),t.memoizedState=Fs,e):Di(t,s));if(l=e.memoizedState,l!==null&&(i=l.dehydrated,i!==null))return Hh(e,t,s,r,i,l,n);if(o){o=r.fallback,s=t.mode,l=e.child,i=l.sibling;var a={mode:"hidden",children:r.children};return!(s&1)&&t.child!==l?(r=t.child,r.childLanes=0,r.pendingProps=a,t.deletions=null):(r=en(l,a),r.subtreeFlags=l.subtreeFlags&14680064),i!==null?o=en(i,o):(o=xn(o,s,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,s=e.child.memoizedState,s=s===null?Us(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=e.childLanes&~n,t.memoizedState=Fs,r}return o=e.child,e=o.sibling,r=en(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Di(e,t){return t=go({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function pl(e,t,n,r){return r!==null&&vi(r),Jn(t,e.child,null,n),e=Di(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Hh(e,t,n,r,l,o,s){if(n)return t.flags&256?(t.flags&=-257,r=Vo(Error(_(422))),pl(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,l=t.mode,r=go({mode:"visible",children:r.children},l,0,null),o=xn(o,l,s,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&Jn(t,e.child,null,s),t.child.memoizedState=Us(s),t.memoizedState=Fs,o);if(!(t.mode&1))return pl(e,t,s,null);if(l.data==="$!"){if(r=l.nextSibling&&l.nextSibling.dataset,r)var i=r.dgst;return r=i,o=Error(_(419)),r=Vo(o,r,void 0),pl(e,t,s,r)}if(i=(s&e.childLanes)!==0,Qe||i){if(r=Pe,r!==null){switch(s&-s){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=l&(r.suspendedLanes|s)?0:l,l!==0&&l!==o.retryLane&&(o.retryLane=l,zt(e,l),xt(r,e,l,-1))}return Ai(),r=Vo(Error(_(421))),pl(e,t,s,r)}return l.data==="$?"?(t.flags|=128,t.child=e.child,t=tp.bind(null,e),l._reactRetry=t,null):(e=o.treeContext,Ze=Xt(l.nextSibling),Je=t,ge=!0,mt=null,e!==null&&(rt[lt++]=Mt,rt[lt++]=Pt,rt[lt++]=vn,Mt=e.id,Pt=e.overflow,vn=t),t=Di(t,r.children),t.flags|=4096,t)}function Qa(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),zs(e.return,t,n)}function Qo(e,t,n,r,l){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:l}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=l)}function id(e,t,n){var r=t.pendingProps,l=r.revealOrder,o=r.tail;if(Ae(e,t,r.children,n),r=xe.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Qa(e,n,t);else if(e.tag===19)Qa(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ue(xe,r),!(t.mode&1))t.memoizedState=null;else switch(l){case"forwards":for(n=t.child,l=null;n!==null;)e=n.alternate,e!==null&&Yl(e)===null&&(l=n),n=n.sibling;n=l,n===null?(l=t.child,t.child=null):(l=n.sibling,n.sibling=null),Qo(t,!1,l,n,o);break;case"backwards":for(n=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&Yl(e)===null){t.child=l;break}e=l.sibling,l.sibling=n,n=l,l=e}Qo(t,!0,n,null,o);break;case"together":Qo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function _l(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function It(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),kn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(_(153));if(t.child!==null){for(e=t.child,n=en(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=en(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Wh(e,t,n){switch(t.tag){case 3:od(t),Zn();break;case 5:Dc(t);break;case 1:qe(t.type)&&Ul(t);break;case 4:ji(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,l=t.memoizedProps.value;ue(Bl,r._currentValue),r._currentValue=l;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ue(xe,xe.current&1),t.flags|=128,null):n&t.child.childLanes?sd(e,t,n):(ue(xe,xe.current&1),e=It(e,t,n),e!==null?e.sibling:null);ue(xe,xe.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return id(e,t,n);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),ue(xe,xe.current),r)break;return null;case 22:case 23:return t.lanes=0,rd(e,t,n)}return It(e,t,n)}var ad,Hs,ud,cd;ad=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Hs=function(){};ud=function(e,t,n,r){var l=e.memoizedProps;if(l!==r){e=t.stateNode,mn(jt.current);var o=null;switch(n){case"input":l=cs(e,l),r=cs(e,r),o=[];break;case"select":l=ve({},l,{value:void 0}),r=ve({},r,{value:void 0}),o=[];break;case"textarea":l=hs(e,l),r=hs(e,r),o=[];break;default:typeof l.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Al)}ms(n,r);var s;n=null;for(c in l)if(!r.hasOwnProperty(c)&&l.hasOwnProperty(c)&&l[c]!=null)if(c==="style"){var i=l[c];for(s in i)i.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Mr.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var a=r[c];if(i=l!=null?l[c]:void 0,r.hasOwnProperty(c)&&a!==i&&(a!=null||i!=null))if(c==="style")if(i){for(s in i)!i.hasOwnProperty(s)||a&&a.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in a)a.hasOwnProperty(s)&&i[s]!==a[s]&&(n||(n={}),n[s]=a[s])}else n||(o||(o=[]),o.push(c,n)),n=a;else c==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,i=i?i.__html:void 0,a!=null&&i!==a&&(o=o||[]).push(c,a)):c==="children"?typeof a!="string"&&typeof a!="number"||(o=o||[]).push(c,""+a):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Mr.hasOwnProperty(c)?(a!=null&&c==="onScroll"&&fe("scroll",e),o||i===a||(o=[])):(o=o||[]).push(c,a))}n&&(o=o||[]).push("style",n);var c=o;(t.updateQueue=c)&&(t.flags|=4)}};cd=function(e,t,n,r){n!==r&&(t.flags|=4)};function pr(e,t){if(!ge)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ie(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var l=e.child;l!==null;)n|=l.lanes|l.childLanes,r|=l.subtreeFlags&14680064,r|=l.flags&14680064,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)n|=l.lanes|l.childLanes,r|=l.subtreeFlags,r|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Bh(e,t,n){var r=t.pendingProps;switch(yi(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ie(t),null;case 1:return qe(t.type)&&Fl(),Ie(t),null;case 3:return r=t.stateNode,er(),he(Ye),he($e),_i(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(fl(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,mt!==null&&(Xs(mt),mt=null))),Hs(e,t),Ie(t),null;case 5:Ei(t);var l=mn(Ur.current);if(n=t.type,e!==null&&t.stateNode!=null)ud(e,t,n,r,l),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(_(166));return Ie(t),null}if(e=mn(jt.current),fl(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[Nt]=t,r[Ar]=o,e=(t.mode&1)!==0,n){case"dialog":fe("cancel",r),fe("close",r);break;case"iframe":case"object":case"embed":fe("load",r);break;case"video":case"audio":for(l=0;l<vr.length;l++)fe(vr[l],r);break;case"source":fe("error",r);break;case"img":case"image":case"link":fe("error",r),fe("load",r);break;case"details":fe("toggle",r);break;case"input":ta(r,o),fe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},fe("invalid",r);break;case"textarea":ra(r,o),fe("invalid",r)}ms(n,o),l=null;for(var s in o)if(o.hasOwnProperty(s)){var i=o[s];s==="children"?typeof i=="string"?r.textContent!==i&&(o.suppressHydrationWarning!==!0&&dl(r.textContent,i,e),l=["children",i]):typeof i=="number"&&r.textContent!==""+i&&(o.suppressHydrationWarning!==!0&&dl(r.textContent,i,e),l=["children",""+i]):Mr.hasOwnProperty(s)&&i!=null&&s==="onScroll"&&fe("scroll",r)}switch(n){case"input":rl(r),na(r,o,!0);break;case"textarea":rl(r),la(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Al)}r=l,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=l.nodeType===9?l:l.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=bu(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[Nt]=t,e[Ar]=r,ad(e,t,!1,!1),t.stateNode=e;e:{switch(s=gs(n,r),n){case"dialog":fe("cancel",e),fe("close",e),l=r;break;case"iframe":case"object":case"embed":fe("load",e),l=r;break;case"video":case"audio":for(l=0;l<vr.length;l++)fe(vr[l],e);l=r;break;case"source":fe("error",e),l=r;break;case"img":case"image":case"link":fe("error",e),fe("load",e),l=r;break;case"details":fe("toggle",e),l=r;break;case"input":ta(e,r),l=cs(e,r),fe("invalid",e);break;case"option":l=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},l=ve({},r,{value:void 0}),fe("invalid",e);break;case"textarea":ra(e,r),l=hs(e,r),fe("invalid",e);break;default:l=r}ms(n,l),i=l;for(o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="style"?Uu(e,a):o==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&Au(e,a)):o==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&Pr(e,a):typeof a=="number"&&Pr(e,""+a):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Mr.hasOwnProperty(o)?a!=null&&o==="onScroll"&&fe("scroll",e):a!=null&&ri(e,o,a,s))}switch(n){case"input":rl(e),na(e,r,!1);break;case"textarea":rl(e),la(e);break;case"option":r.value!=null&&e.setAttribute("value",""+tn(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?Bn(e,!!r.multiple,o,!1):r.defaultValue!=null&&Bn(e,!!r.multiple,r.defaultValue,!0);break;default:typeof l.onClick=="function"&&(e.onclick=Al)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ie(t),null;case 6:if(e&&t.stateNode!=null)cd(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(_(166));if(n=mn(Ur.current),mn(jt.current),fl(t)){if(r=t.stateNode,n=t.memoizedProps,r[Nt]=t,(o=r.nodeValue!==n)&&(e=Je,e!==null))switch(e.tag){case 3:dl(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&dl(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Nt]=t,t.stateNode=r}return Ie(t),null;case 13:if(he(xe),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ge&&Ze!==null&&t.mode&1&&!(t.flags&128))Rc(),Zn(),t.flags|=98560,o=!1;else if(o=fl(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(_(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(_(317));o[Nt]=t}else Zn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ie(t),o=!1}else mt!==null&&(Xs(mt),mt=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||xe.current&1?_e===0&&(_e=3):Ai())),t.updateQueue!==null&&(t.flags|=4),Ie(t),null);case 4:return er(),Hs(e,t),e===null&&$r(t.stateNode.containerInfo),Ie(t),null;case 10:return Si(t.type._context),Ie(t),null;case 17:return qe(t.type)&&Fl(),Ie(t),null;case 19:if(he(xe),o=t.memoizedState,o===null)return Ie(t),null;if(r=(t.flags&128)!==0,s=o.rendering,s===null)if(r)pr(o,!1);else{if(_e!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=Yl(e),s!==null){for(t.flags|=128,pr(o,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ue(xe,xe.current&1|2),t.child}e=e.sibling}o.tail!==null&&Se()>nr&&(t.flags|=128,r=!0,pr(o,!1),t.lanes=4194304)}else{if(!r)if(e=Yl(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),pr(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!ge)return Ie(t),null}else 2*Se()-o.renderingStartTime>nr&&n!==1073741824&&(t.flags|=128,r=!0,pr(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(n=o.last,n!==null?n.sibling=s:t.child=s,o.last=s)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Se(),t.sibling=null,n=xe.current,ue(xe,r?n&1|2:n&1),t):(Ie(t),null);case 22:case 23:return bi(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Ke&1073741824&&(Ie(t),t.subtreeFlags&6&&(t.flags|=8192)):Ie(t),null;case 24:return null;case 25:return null}throw Error(_(156,t.tag))}function Vh(e,t){switch(yi(t),t.tag){case 1:return qe(t.type)&&Fl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return er(),he(Ye),he($e),_i(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Ei(t),null;case 13:if(he(xe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(_(340));Zn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return he(xe),null;case 4:return er(),null;case 10:return Si(t.type._context),null;case 22:case 23:return bi(),null;case 24:return null;default:return null}}var ml=!1,Oe=!1,Qh=typeof WeakSet=="function"?WeakSet:Set,D=null;function Un(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){we(e,t,r)}else n.current=null}function Ws(e,t,n){try{n()}catch(r){we(e,t,r)}}var Ya=!1;function Yh(e,t){if(Es=Ol,e=mc(),gi(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var l=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,i=-1,a=-1,c=0,m=0,p=e,g=null;t:for(;;){for(var x;p!==n||l!==0&&p.nodeType!==3||(i=s+l),p!==o||r!==0&&p.nodeType!==3||(a=s+r),p.nodeType===3&&(s+=p.nodeValue.length),(x=p.firstChild)!==null;)g=p,p=x;for(;;){if(p===e)break t;if(g===n&&++c===l&&(i=s),g===o&&++m===r&&(a=s),(x=p.nextSibling)!==null)break;p=g,g=p.parentNode}p=x}n=i===-1||a===-1?null:{start:i,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(_s={focusedElem:e,selectionRange:n},Ol=!1,D=t;D!==null;)if(t=D,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,D=e;else for(;D!==null;){t=D;try{var k=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(k!==null){var v=k.memoizedProps,C=k.memoizedState,h=t.stateNode,d=h.getSnapshotBeforeUpdate(t.elementType===t.type?v:ft(t.type,v),C);h.__reactInternalSnapshotBeforeUpdate=d}break;case 3:var f=t.stateNode.containerInfo;f.nodeType===1?f.textContent="":f.nodeType===9&&f.documentElement&&f.removeChild(f.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(_(163))}}catch(y){we(t,t.return,y)}if(e=t.sibling,e!==null){e.return=t.return,D=e;break}D=t.return}return k=Ya,Ya=!1,k}function Er(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var l=r=r.next;do{if((l.tag&e)===e){var o=l.destroy;l.destroy=void 0,o!==void 0&&Ws(t,n,o)}l=l.next}while(l!==r)}}function po(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Bs(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function dd(e){var t=e.alternate;t!==null&&(e.alternate=null,dd(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Nt],delete t[Ar],delete t[Ps],delete t[Mh],delete t[Ph])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function fd(e){return e.tag===5||e.tag===3||e.tag===4}function qa(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||fd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Vs(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Al));else if(r!==4&&(e=e.child,e!==null))for(Vs(e,t,n),e=e.sibling;e!==null;)Vs(e,t,n),e=e.sibling}function Qs(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Qs(e,t,n),e=e.sibling;e!==null;)Qs(e,t,n),e=e.sibling}var Te=null,ht=!1;function Ft(e,t,n){for(n=n.child;n!==null;)hd(e,t,n),n=n.sibling}function hd(e,t,n){if(Ct&&typeof Ct.onCommitFiberUnmount=="function")try{Ct.onCommitFiberUnmount(oo,n)}catch{}switch(n.tag){case 5:Oe||Un(n,t);case 6:var r=Te,l=ht;Te=null,Ft(e,t,n),Te=r,ht=l,Te!==null&&(ht?(e=Te,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Te.removeChild(n.stateNode));break;case 18:Te!==null&&(ht?(e=Te,n=n.stateNode,e.nodeType===8?Ao(e.parentNode,n):e.nodeType===1&&Ao(e,n),zr(e)):Ao(Te,n.stateNode));break;case 4:r=Te,l=ht,Te=n.stateNode.containerInfo,ht=!0,Ft(e,t,n),Te=r,ht=l;break;case 0:case 11:case 14:case 15:if(!Oe&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){l=r=r.next;do{var o=l,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&Ws(n,t,s),l=l.next}while(l!==r)}Ft(e,t,n);break;case 1:if(!Oe&&(Un(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(i){we(n,t,i)}Ft(e,t,n);break;case 21:Ft(e,t,n);break;case 22:n.mode&1?(Oe=(r=Oe)||n.memoizedState!==null,Ft(e,t,n),Oe=r):Ft(e,t,n);break;default:Ft(e,t,n)}}function Ga(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Qh),t.forEach(function(r){var l=np.bind(null,e,r);n.has(r)||(n.add(r),r.then(l,l))})}}function dt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];try{var o=e,s=t,i=s;e:for(;i!==null;){switch(i.tag){case 5:Te=i.stateNode,ht=!1;break e;case 3:Te=i.stateNode.containerInfo,ht=!0;break e;case 4:Te=i.stateNode.containerInfo,ht=!0;break e}i=i.return}if(Te===null)throw Error(_(160));hd(o,s,l),Te=null,ht=!1;var a=l.alternate;a!==null&&(a.return=null),l.return=null}catch(c){we(l,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)pd(t,e),t=t.sibling}function pd(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(dt(t,e),kt(e),r&4){try{Er(3,e,e.return),po(3,e)}catch(v){we(e,e.return,v)}try{Er(5,e,e.return)}catch(v){we(e,e.return,v)}}break;case 1:dt(t,e),kt(e),r&512&&n!==null&&Un(n,n.return);break;case 5:if(dt(t,e),kt(e),r&512&&n!==null&&Un(n,n.return),e.flags&32){var l=e.stateNode;try{Pr(l,"")}catch(v){we(e,e.return,v)}}if(r&4&&(l=e.stateNode,l!=null)){var o=e.memoizedProps,s=n!==null?n.memoizedProps:o,i=e.type,a=e.updateQueue;if(e.updateQueue=null,a!==null)try{i==="input"&&o.type==="radio"&&o.name!=null&&Ou(l,o),gs(i,s);var c=gs(i,o);for(s=0;s<a.length;s+=2){var m=a[s],p=a[s+1];m==="style"?Uu(l,p):m==="dangerouslySetInnerHTML"?Au(l,p):m==="children"?Pr(l,p):ri(l,m,p,c)}switch(i){case"input":ds(l,o);break;case"textarea":$u(l,o);break;case"select":var g=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!o.multiple;var x=o.value;x!=null?Bn(l,!!o.multiple,x,!1):g!==!!o.multiple&&(o.defaultValue!=null?Bn(l,!!o.multiple,o.defaultValue,!0):Bn(l,!!o.multiple,o.multiple?[]:"",!1))}l[Ar]=o}catch(v){we(e,e.return,v)}}break;case 6:if(dt(t,e),kt(e),r&4){if(e.stateNode===null)throw Error(_(162));l=e.stateNode,o=e.memoizedProps;try{l.nodeValue=o}catch(v){we(e,e.return,v)}}break;case 3:if(dt(t,e),kt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{zr(t.containerInfo)}catch(v){we(e,e.return,v)}break;case 4:dt(t,e),kt(e);break;case 13:dt(t,e),kt(e),l=e.child,l.flags&8192&&(o=l.memoizedState!==null,l.stateNode.isHidden=o,!o||l.alternate!==null&&l.alternate.memoizedState!==null||(Oi=Se())),r&4&&Ga(e);break;case 22:if(m=n!==null&&n.memoizedState!==null,e.mode&1?(Oe=(c=Oe)||m,dt(t,e),Oe=c):dt(t,e),kt(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!m&&e.mode&1)for(D=e,m=e.child;m!==null;){for(p=D=m;D!==null;){switch(g=D,x=g.child,g.tag){case 0:case 11:case 14:case 15:Er(4,g,g.return);break;case 1:Un(g,g.return);var k=g.stateNode;if(typeof k.componentWillUnmount=="function"){r=g,n=g.return;try{t=r,k.props=t.memoizedProps,k.state=t.memoizedState,k.componentWillUnmount()}catch(v){we(r,n,v)}}break;case 5:Un(g,g.return);break;case 22:if(g.memoizedState!==null){Ka(p);continue}}x!==null?(x.return=g,D=x):Ka(p)}m=m.sibling}e:for(m=null,p=e;;){if(p.tag===5){if(m===null){m=p;try{l=p.stateNode,c?(o=l.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(i=p.stateNode,a=p.memoizedProps.style,s=a!=null&&a.hasOwnProperty("display")?a.display:null,i.style.display=Fu("display",s))}catch(v){we(e,e.return,v)}}}else if(p.tag===6){if(m===null)try{p.stateNode.nodeValue=c?"":p.memoizedProps}catch(v){we(e,e.return,v)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===e)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;p.sibling===null;){if(p.return===null||p.return===e)break e;m===p&&(m=null),p=p.return}m===p&&(m=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:dt(t,e),kt(e),r&4&&Ga(e);break;case 21:break;default:dt(t,e),kt(e)}}function kt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(fd(n)){var r=n;break e}n=n.return}throw Error(_(160))}switch(r.tag){case 5:var l=r.stateNode;r.flags&32&&(Pr(l,""),r.flags&=-33);var o=qa(e);Qs(e,o,l);break;case 3:case 4:var s=r.stateNode.containerInfo,i=qa(e);Vs(e,i,s);break;default:throw Error(_(161))}}catch(a){we(e,e.return,a)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function qh(e,t,n){D=e,md(e)}function md(e,t,n){for(var r=(e.mode&1)!==0;D!==null;){var l=D,o=l.child;if(l.tag===22&&r){var s=l.memoizedState!==null||ml;if(!s){var i=l.alternate,a=i!==null&&i.memoizedState!==null||Oe;i=ml;var c=Oe;if(ml=s,(Oe=a)&&!c)for(D=l;D!==null;)s=D,a=s.child,s.tag===22&&s.memoizedState!==null?Za(l):a!==null?(a.return=s,D=a):Za(l);for(;o!==null;)D=o,md(o),o=o.sibling;D=l,ml=i,Oe=c}Xa(e)}else l.subtreeFlags&8772&&o!==null?(o.return=l,D=o):Xa(e)}}function Xa(e){for(;D!==null;){var t=D;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Oe||po(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Oe)if(n===null)r.componentDidMount();else{var l=t.elementType===t.type?n.memoizedProps:ft(t.type,n.memoizedProps);r.componentDidUpdate(l,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&za(t,o,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}za(t,s,n)}break;case 5:var i=t.stateNode;if(n===null&&t.flags&4){n=i;var a=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var m=c.memoizedState;if(m!==null){var p=m.dehydrated;p!==null&&zr(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(_(163))}Oe||t.flags&512&&Bs(t)}catch(g){we(t,t.return,g)}}if(t===e){D=null;break}if(n=t.sibling,n!==null){n.return=t.return,D=n;break}D=t.return}}function Ka(e){for(;D!==null;){var t=D;if(t===e){D=null;break}var n=t.sibling;if(n!==null){n.return=t.return,D=n;break}D=t.return}}function Za(e){for(;D!==null;){var t=D;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{po(4,t)}catch(a){we(t,n,a)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var l=t.return;try{r.componentDidMount()}catch(a){we(t,l,a)}}var o=t.return;try{Bs(t)}catch(a){we(t,o,a)}break;case 5:var s=t.return;try{Bs(t)}catch(a){we(t,s,a)}}}catch(a){we(t,t.return,a)}if(t===e){D=null;break}var i=t.sibling;if(i!==null){i.return=t.return,D=i;break}D=t.return}}var Gh=Math.ceil,Xl=Ot.ReactCurrentDispatcher,zi=Ot.ReactCurrentOwner,st=Ot.ReactCurrentBatchConfig,ee=0,Pe=null,Ne=null,Le=0,Ke=0,Hn=ln(0),_e=0,Vr=null,kn=0,mo=0,Ii=0,_r=null,Ve=null,Oi=0,nr=1/0,_t=null,Kl=!1,Ys=null,Zt=null,gl=!1,Qt=null,Zl=0,Rr=0,qs=null,Rl=-1,Ml=0;function Fe(){return ee&6?Se():Rl!==-1?Rl:Rl=Se()}function Jt(e){return e.mode&1?ee&2&&Le!==0?Le&-Le:Lh.transition!==null?(Ml===0&&(Ml=Ju()),Ml):(e=se,e!==0||(e=window.event,e=e===void 0?16:sc(e.type)),e):1}function xt(e,t,n,r){if(50<Rr)throw Rr=0,qs=null,Error(_(185));qr(e,n,r),(!(ee&2)||e!==Pe)&&(e===Pe&&(!(ee&2)&&(mo|=n),_e===4&&Bt(e,Le)),Ge(e,r),n===1&&ee===0&&!(t.mode&1)&&(nr=Se()+500,co&&on()))}function Ge(e,t){var n=e.callbackNode;Lf(e,t);var r=Il(e,e===Pe?Le:0);if(r===0)n!==null&&ia(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&ia(n),t===1)e.tag===0?Th(Ja.bind(null,e)):jc(Ja.bind(null,e)),_h(function(){!(ee&6)&&on()}),n=null;else{switch(ec(r)){case 1:n=ai;break;case 4:n=Ku;break;case 16:n=zl;break;case 536870912:n=Zu;break;default:n=zl}n=Nd(n,gd.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function gd(e,t){if(Rl=-1,Ml=0,ee&6)throw Error(_(327));var n=e.callbackNode;if(Gn()&&e.callbackNode!==n)return null;var r=Il(e,e===Pe?Le:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Jl(e,r);else{t=r;var l=ee;ee|=2;var o=yd();(Pe!==e||Le!==t)&&(_t=null,nr=Se()+500,gn(e,t));do try{Zh();break}catch(i){xd(e,i)}while(!0);ki(),Xl.current=o,ee=l,Ne!==null?t=0:(Pe=null,Le=0,t=_e)}if(t!==0){if(t===2&&(l=ks(e),l!==0&&(r=l,t=Gs(e,l))),t===1)throw n=Vr,gn(e,0),Bt(e,r),Ge(e,Se()),n;if(t===6)Bt(e,r);else{if(l=e.current.alternate,!(r&30)&&!Xh(l)&&(t=Jl(e,r),t===2&&(o=ks(e),o!==0&&(r=o,t=Gs(e,o))),t===1))throw n=Vr,gn(e,0),Bt(e,r),Ge(e,Se()),n;switch(e.finishedWork=l,e.finishedLanes=r,t){case 0:case 1:throw Error(_(345));case 2:dn(e,Ve,_t);break;case 3:if(Bt(e,r),(r&130023424)===r&&(t=Oi+500-Se(),10<t)){if(Il(e,0)!==0)break;if(l=e.suspendedLanes,(l&r)!==r){Fe(),e.pingedLanes|=e.suspendedLanes&l;break}e.timeoutHandle=Ms(dn.bind(null,e,Ve,_t),t);break}dn(e,Ve,_t);break;case 4:if(Bt(e,r),(r&4194240)===r)break;for(t=e.eventTimes,l=-1;0<r;){var s=31-gt(r);o=1<<s,s=t[s],s>l&&(l=s),r&=~o}if(r=l,r=Se()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Gh(r/1960))-r,10<r){e.timeoutHandle=Ms(dn.bind(null,e,Ve,_t),r);break}dn(e,Ve,_t);break;case 5:dn(e,Ve,_t);break;default:throw Error(_(329))}}}return Ge(e,Se()),e.callbackNode===n?gd.bind(null,e):null}function Gs(e,t){var n=_r;return e.current.memoizedState.isDehydrated&&(gn(e,t).flags|=256),e=Jl(e,t),e!==2&&(t=Ve,Ve=n,t!==null&&Xs(t)),e}function Xs(e){Ve===null?Ve=e:Ve.push.apply(Ve,e)}function Xh(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var l=n[r],o=l.getSnapshot;l=l.value;try{if(!yt(o(),l))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Bt(e,t){for(t&=~Ii,t&=~mo,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-gt(t),r=1<<n;e[n]=-1,t&=~r}}function Ja(e){if(ee&6)throw Error(_(327));Gn();var t=Il(e,0);if(!(t&1))return Ge(e,Se()),null;var n=Jl(e,t);if(e.tag!==0&&n===2){var r=ks(e);r!==0&&(t=r,n=Gs(e,r))}if(n===1)throw n=Vr,gn(e,0),Bt(e,t),Ge(e,Se()),n;if(n===6)throw Error(_(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,dn(e,Ve,_t),Ge(e,Se()),null}function $i(e,t){var n=ee;ee|=1;try{return e(t)}finally{ee=n,ee===0&&(nr=Se()+500,co&&on())}}function Sn(e){Qt!==null&&Qt.tag===0&&!(ee&6)&&Gn();var t=ee;ee|=1;var n=st.transition,r=se;try{if(st.transition=null,se=1,e)return e()}finally{se=r,st.transition=n,ee=t,!(ee&6)&&on()}}function bi(){Ke=Hn.current,he(Hn)}function gn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Eh(n)),Ne!==null)for(n=Ne.return;n!==null;){var r=n;switch(yi(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Fl();break;case 3:er(),he(Ye),he($e),_i();break;case 5:Ei(r);break;case 4:er();break;case 13:he(xe);break;case 19:he(xe);break;case 10:Si(r.type._context);break;case 22:case 23:bi()}n=n.return}if(Pe=e,Ne=e=en(e.current,null),Le=Ke=t,_e=0,Vr=null,Ii=mo=kn=0,Ve=_r=null,pn!==null){for(t=0;t<pn.length;t++)if(n=pn[t],r=n.interleaved,r!==null){n.interleaved=null;var l=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=l,r.next=s}n.pending=r}pn=null}return e}function xd(e,t){do{var n=Ne;try{if(ki(),jl.current=Gl,ql){for(var r=ye.memoizedState;r!==null;){var l=r.queue;l!==null&&(l.pending=null),r=r.next}ql=!1}if(wn=0,Me=Ee=ye=null,jr=!1,Hr=0,zi.current=null,n===null||n.return===null){_e=1,Vr=t,Ne=null;break}e:{var o=e,s=n.return,i=n,a=t;if(t=Le,i.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var c=a,m=i,p=m.tag;if(!(m.mode&1)&&(p===0||p===11||p===15)){var g=m.alternate;g?(m.updateQueue=g.updateQueue,m.memoizedState=g.memoizedState,m.lanes=g.lanes):(m.updateQueue=null,m.memoizedState=null)}var x=Fa(s);if(x!==null){x.flags&=-257,Ua(x,s,i,o,t),x.mode&1&&Aa(o,c,t),t=x,a=c;var k=t.updateQueue;if(k===null){var v=new Set;v.add(a),t.updateQueue=v}else k.add(a);break e}else{if(!(t&1)){Aa(o,c,t),Ai();break e}a=Error(_(426))}}else if(ge&&i.mode&1){var C=Fa(s);if(C!==null){!(C.flags&65536)&&(C.flags|=256),Ua(C,s,i,o,t),vi(tr(a,i));break e}}o=a=tr(a,i),_e!==4&&(_e=2),_r===null?_r=[o]:_r.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var h=ed(o,a,t);Da(o,h);break e;case 1:i=a;var d=o.type,f=o.stateNode;if(!(o.flags&128)&&(typeof d.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Zt===null||!Zt.has(f)))){o.flags|=65536,t&=-t,o.lanes|=t;var y=td(o,i,t);Da(o,y);break e}}o=o.return}while(o!==null)}wd(n)}catch(N){t=N,Ne===n&&n!==null&&(Ne=n=n.return);continue}break}while(!0)}function yd(){var e=Xl.current;return Xl.current=Gl,e===null?Gl:e}function Ai(){(_e===0||_e===3||_e===2)&&(_e=4),Pe===null||!(kn&268435455)&&!(mo&268435455)||Bt(Pe,Le)}function Jl(e,t){var n=ee;ee|=2;var r=yd();(Pe!==e||Le!==t)&&(_t=null,gn(e,t));do try{Kh();break}catch(l){xd(e,l)}while(!0);if(ki(),ee=n,Xl.current=r,Ne!==null)throw Error(_(261));return Pe=null,Le=0,_e}function Kh(){for(;Ne!==null;)vd(Ne)}function Zh(){for(;Ne!==null&&!Nf();)vd(Ne)}function vd(e){var t=Sd(e.alternate,e,Ke);e.memoizedProps=e.pendingProps,t===null?wd(e):Ne=t,zi.current=null}function wd(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Vh(n,t),n!==null){n.flags&=32767,Ne=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{_e=6,Ne=null;return}}else if(n=Bh(n,t,Ke),n!==null){Ne=n;return}if(t=t.sibling,t!==null){Ne=t;return}Ne=t=e}while(t!==null);_e===0&&(_e=5)}function dn(e,t,n){var r=se,l=st.transition;try{st.transition=null,se=1,Jh(e,t,n,r)}finally{st.transition=l,se=r}return null}function Jh(e,t,n,r){do Gn();while(Qt!==null);if(ee&6)throw Error(_(327));n=e.finishedWork;var l=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(_(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(Df(e,o),e===Pe&&(Ne=Pe=null,Le=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||gl||(gl=!0,Nd(zl,function(){return Gn(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=st.transition,st.transition=null;var s=se;se=1;var i=ee;ee|=4,zi.current=null,Yh(e,n),pd(n,e),vh(_s),Ol=!!Es,_s=Es=null,e.current=n,qh(n),Cf(),ee=i,se=s,st.transition=o}else e.current=n;if(gl&&(gl=!1,Qt=e,Zl=l),o=e.pendingLanes,o===0&&(Zt=null),_f(n.stateNode),Ge(e,Se()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)l=t[n],r(l.value,{componentStack:l.stack,digest:l.digest});if(Kl)throw Kl=!1,e=Ys,Ys=null,e;return Zl&1&&e.tag!==0&&Gn(),o=e.pendingLanes,o&1?e===qs?Rr++:(Rr=0,qs=e):Rr=0,on(),null}function Gn(){if(Qt!==null){var e=ec(Zl),t=st.transition,n=se;try{if(st.transition=null,se=16>e?16:e,Qt===null)var r=!1;else{if(e=Qt,Qt=null,Zl=0,ee&6)throw Error(_(331));var l=ee;for(ee|=4,D=e.current;D!==null;){var o=D,s=o.child;if(D.flags&16){var i=o.deletions;if(i!==null){for(var a=0;a<i.length;a++){var c=i[a];for(D=c;D!==null;){var m=D;switch(m.tag){case 0:case 11:case 15:Er(8,m,o)}var p=m.child;if(p!==null)p.return=m,D=p;else for(;D!==null;){m=D;var g=m.sibling,x=m.return;if(dd(m),m===c){D=null;break}if(g!==null){g.return=x,D=g;break}D=x}}}var k=o.alternate;if(k!==null){var v=k.child;if(v!==null){k.child=null;do{var C=v.sibling;v.sibling=null,v=C}while(v!==null)}}D=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,D=s;else e:for(;D!==null;){if(o=D,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Er(9,o,o.return)}var h=o.sibling;if(h!==null){h.return=o.return,D=h;break e}D=o.return}}var d=e.current;for(D=d;D!==null;){s=D;var f=s.child;if(s.subtreeFlags&2064&&f!==null)f.return=s,D=f;else e:for(s=d;D!==null;){if(i=D,i.flags&2048)try{switch(i.tag){case 0:case 11:case 15:po(9,i)}}catch(N){we(i,i.return,N)}if(i===s){D=null;break e}var y=i.sibling;if(y!==null){y.return=i.return,D=y;break e}D=i.return}}if(ee=l,on(),Ct&&typeof Ct.onPostCommitFiberRoot=="function")try{Ct.onPostCommitFiberRoot(oo,e)}catch{}r=!0}return r}finally{se=n,st.transition=t}}return!1}function eu(e,t,n){t=tr(n,t),t=ed(e,t,1),e=Kt(e,t,1),t=Fe(),e!==null&&(qr(e,1,t),Ge(e,t))}function we(e,t,n){if(e.tag===3)eu(e,e,n);else for(;t!==null;){if(t.tag===3){eu(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Zt===null||!Zt.has(r))){e=tr(n,e),e=td(t,e,1),t=Kt(t,e,1),e=Fe(),t!==null&&(qr(t,1,e),Ge(t,e));break}}t=t.return}}function ep(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Fe(),e.pingedLanes|=e.suspendedLanes&n,Pe===e&&(Le&n)===n&&(_e===4||_e===3&&(Le&130023424)===Le&&500>Se()-Oi?gn(e,0):Ii|=n),Ge(e,t)}function kd(e,t){t===0&&(e.mode&1?(t=sl,sl<<=1,!(sl&130023424)&&(sl=4194304)):t=1);var n=Fe();e=zt(e,t),e!==null&&(qr(e,t,n),Ge(e,n))}function tp(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),kd(e,n)}function np(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,l=e.memoizedState;l!==null&&(n=l.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(_(314))}r!==null&&r.delete(t),kd(e,n)}var Sd;Sd=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ye.current)Qe=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Qe=!1,Wh(e,t,n);Qe=!!(e.flags&131072)}else Qe=!1,ge&&t.flags&1048576&&Ec(t,Wl,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;_l(e,t),e=t.pendingProps;var l=Kn(t,$e.current);qn(t,n),l=Mi(null,t,r,e,l,n);var o=Pi();return t.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,qe(r)?(o=!0,Ul(t)):o=!1,t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,Ci(t),l.updater=ho,t.stateNode=l,l._reactInternals=t,Os(t,r,e,n),t=As(null,t,r,!0,o,n)):(t.tag=0,ge&&o&&xi(t),Ae(null,t,l,n),t=t.child),t;case 16:r=t.elementType;e:{switch(_l(e,t),e=t.pendingProps,l=r._init,r=l(r._payload),t.type=r,l=t.tag=lp(r),e=ft(r,e),l){case 0:t=bs(null,t,r,e,n);break e;case 1:t=Ba(null,t,r,e,n);break e;case 11:t=Ha(null,t,r,e,n);break e;case 14:t=Wa(null,t,r,ft(r.type,e),n);break e}throw Error(_(306,r,""))}return t;case 0:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:ft(r,l),bs(e,t,r,l,n);case 1:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:ft(r,l),Ba(e,t,r,l,n);case 3:e:{if(od(t),e===null)throw Error(_(387));r=t.pendingProps,o=t.memoizedState,l=o.element,Lc(e,t),Ql(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){l=tr(Error(_(423)),t),t=Va(e,t,r,n,l);break e}else if(r!==l){l=tr(Error(_(424)),t),t=Va(e,t,r,n,l);break e}else for(Ze=Xt(t.stateNode.containerInfo.firstChild),Je=t,ge=!0,mt=null,n=Pc(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Zn(),r===l){t=It(e,t,n);break e}Ae(e,t,r,n)}t=t.child}return t;case 5:return Dc(t),e===null&&Ds(t),r=t.type,l=t.pendingProps,o=e!==null?e.memoizedProps:null,s=l.children,Rs(r,l)?s=null:o!==null&&Rs(r,o)&&(t.flags|=32),ld(e,t),Ae(e,t,s,n),t.child;case 6:return e===null&&Ds(t),null;case 13:return sd(e,t,n);case 4:return ji(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Jn(t,null,r,n):Ae(e,t,r,n),t.child;case 11:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:ft(r,l),Ha(e,t,r,l,n);case 7:return Ae(e,t,t.pendingProps,n),t.child;case 8:return Ae(e,t,t.pendingProps.children,n),t.child;case 12:return Ae(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,l=t.pendingProps,o=t.memoizedProps,s=l.value,ue(Bl,r._currentValue),r._currentValue=s,o!==null)if(yt(o.value,s)){if(o.children===l.children&&!Ye.current){t=It(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var i=o.dependencies;if(i!==null){s=o.child;for(var a=i.firstContext;a!==null;){if(a.context===r){if(o.tag===1){a=Tt(-1,n&-n),a.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var m=c.pending;m===null?a.next=a:(a.next=m.next,m.next=a),c.pending=a}}o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),zs(o.return,n,t),i.lanes|=n;break}a=a.next}}else if(o.tag===10)s=o.type===t.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(_(341));s.lanes|=n,i=s.alternate,i!==null&&(i.lanes|=n),zs(s,n,t),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===t){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}Ae(e,t,l.children,n),t=t.child}return t;case 9:return l=t.type,r=t.pendingProps.children,qn(t,n),l=it(l),r=r(l),t.flags|=1,Ae(e,t,r,n),t.child;case 14:return r=t.type,l=ft(r,t.pendingProps),l=ft(r.type,l),Wa(e,t,r,l,n);case 15:return nd(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:ft(r,l),_l(e,t),t.tag=1,qe(r)?(e=!0,Ul(t)):e=!1,qn(t,n),Jc(t,r,l),Os(t,r,l,n),As(null,t,r,!0,e,n);case 19:return id(e,t,n);case 22:return rd(e,t,n)}throw Error(_(156,t.tag))};function Nd(e,t){return Xu(e,t)}function rp(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ot(e,t,n,r){return new rp(e,t,n,r)}function Fi(e){return e=e.prototype,!(!e||!e.isReactComponent)}function lp(e){if(typeof e=="function")return Fi(e)?1:0;if(e!=null){if(e=e.$$typeof,e===oi)return 11;if(e===si)return 14}return 2}function en(e,t){var n=e.alternate;return n===null?(n=ot(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Pl(e,t,n,r,l,o){var s=2;if(r=e,typeof e=="function")Fi(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case Ln:return xn(n.children,l,o,t);case li:s=8,l|=8;break;case ss:return e=ot(12,n,t,l|2),e.elementType=ss,e.lanes=o,e;case is:return e=ot(13,n,t,l),e.elementType=is,e.lanes=o,e;case as:return e=ot(19,n,t,l),e.elementType=as,e.lanes=o,e;case Du:return go(n,l,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Tu:s=10;break e;case Lu:s=9;break e;case oi:s=11;break e;case si:s=14;break e;case Ut:s=16,r=null;break e}throw Error(_(130,e==null?e:typeof e,""))}return t=ot(s,n,t,l),t.elementType=e,t.type=r,t.lanes=o,t}function xn(e,t,n,r){return e=ot(7,e,r,t),e.lanes=n,e}function go(e,t,n,r){return e=ot(22,e,r,t),e.elementType=Du,e.lanes=n,e.stateNode={isHidden:!1},e}function Yo(e,t,n){return e=ot(6,e,null,t),e.lanes=n,e}function qo(e,t,n){return t=ot(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function op(e,t,n,r,l){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ro(0),this.expirationTimes=Ro(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ro(0),this.identifierPrefix=r,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function Ui(e,t,n,r,l,o,s,i,a){return e=new op(e,t,n,i,a),t===1?(t=1,o===!0&&(t|=8)):t=0,o=ot(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ci(o),e}function sp(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Tn,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Cd(e){if(!e)return nn;e=e._reactInternals;e:{if(Cn(e)!==e||e.tag!==1)throw Error(_(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(qe(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(_(171))}if(e.tag===1){var n=e.type;if(qe(n))return Cc(e,n,t)}return t}function jd(e,t,n,r,l,o,s,i,a){return e=Ui(n,r,!0,e,l,o,s,i,a),e.context=Cd(null),n=e.current,r=Fe(),l=Jt(n),o=Tt(r,l),o.callback=t??null,Kt(n,o,l),e.current.lanes=l,qr(e,l,r),Ge(e,r),e}function xo(e,t,n,r){var l=t.current,o=Fe(),s=Jt(l);return n=Cd(n),t.context===null?t.context=n:t.pendingContext=n,t=Tt(o,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Kt(l,t,s),e!==null&&(xt(e,l,s,o),Cl(e,l,s)),s}function eo(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function tu(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Hi(e,t){tu(e,t),(e=e.alternate)&&tu(e,t)}function ip(){return null}var Ed=typeof reportError=="function"?reportError:function(e){console.error(e)};function Wi(e){this._internalRoot=e}yo.prototype.render=Wi.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(_(409));xo(e,t,null,null)};yo.prototype.unmount=Wi.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Sn(function(){xo(null,e,null,null)}),t[Dt]=null}};function yo(e){this._internalRoot=e}yo.prototype.unstable_scheduleHydration=function(e){if(e){var t=rc();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Wt.length&&t!==0&&t<Wt[n].priority;n++);Wt.splice(n,0,e),n===0&&oc(e)}};function Bi(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function vo(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function nu(){}function ap(e,t,n,r,l){if(l){if(typeof r=="function"){var o=r;r=function(){var c=eo(s);o.call(c)}}var s=jd(t,r,e,0,null,!1,!1,"",nu);return e._reactRootContainer=s,e[Dt]=s.current,$r(e.nodeType===8?e.parentNode:e),Sn(),s}for(;l=e.lastChild;)e.removeChild(l);if(typeof r=="function"){var i=r;r=function(){var c=eo(a);i.call(c)}}var a=Ui(e,0,!1,null,null,!1,!1,"",nu);return e._reactRootContainer=a,e[Dt]=a.current,$r(e.nodeType===8?e.parentNode:e),Sn(function(){xo(t,a,n,r)}),a}function wo(e,t,n,r,l){var o=n._reactRootContainer;if(o){var s=o;if(typeof l=="function"){var i=l;l=function(){var a=eo(s);i.call(a)}}xo(t,s,e,l)}else s=ap(n,t,e,l,r);return eo(s)}tc=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=yr(t.pendingLanes);n!==0&&(ui(t,n|1),Ge(t,Se()),!(ee&6)&&(nr=Se()+500,on()))}break;case 13:Sn(function(){var r=zt(e,1);if(r!==null){var l=Fe();xt(r,e,1,l)}}),Hi(e,1)}};ci=function(e){if(e.tag===13){var t=zt(e,134217728);if(t!==null){var n=Fe();xt(t,e,134217728,n)}Hi(e,134217728)}};nc=function(e){if(e.tag===13){var t=Jt(e),n=zt(e,t);if(n!==null){var r=Fe();xt(n,e,t,r)}Hi(e,t)}};rc=function(){return se};lc=function(e,t){var n=se;try{return se=e,t()}finally{se=n}};ys=function(e,t,n){switch(t){case"input":if(ds(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var l=uo(r);if(!l)throw Error(_(90));Iu(r),ds(r,l)}}}break;case"textarea":$u(e,n);break;case"select":t=n.value,t!=null&&Bn(e,!!n.multiple,t,!1)}};Bu=$i;Vu=Sn;var up={usingClientEntryPoint:!1,Events:[Xr,On,uo,Hu,Wu,$i]},mr={findFiberByHostInstance:hn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},cp={bundleType:mr.bundleType,version:mr.version,rendererPackageName:mr.rendererPackageName,rendererConfig:mr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ot.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=qu(e),e===null?null:e.stateNode},findFiberByHostInstance:mr.findFiberByHostInstance||ip,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xl.isDisabled&&xl.supportsFiber)try{oo=xl.inject(cp),Ct=xl}catch{}}tt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=up;tt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Bi(t))throw Error(_(200));return sp(e,t,null,n)};tt.createRoot=function(e,t){if(!Bi(e))throw Error(_(299));var n=!1,r="",l=Ed;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),t=Ui(e,1,!1,null,null,n,!1,r,l),e[Dt]=t.current,$r(e.nodeType===8?e.parentNode:e),new Wi(t)};tt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(_(188)):(e=Object.keys(e).join(","),Error(_(268,e)));return e=qu(t),e=e===null?null:e.stateNode,e};tt.flushSync=function(e){return Sn(e)};tt.hydrate=function(e,t,n){if(!vo(t))throw Error(_(200));return wo(null,e,t,!0,n)};tt.hydrateRoot=function(e,t,n){if(!Bi(e))throw Error(_(405));var r=n!=null&&n.hydratedSources||null,l=!1,o="",s=Ed;if(n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=jd(t,null,e,1,n??null,l,!1,o,s),e[Dt]=t.current,$r(e),r)for(e=0;e<r.length;e++)n=r[e],l=n._getVersion,l=l(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,l]:t.mutableSourceEagerHydrationData.push(n,l);return new yo(t)};tt.render=function(e,t,n){if(!vo(t))throw Error(_(200));return wo(null,e,t,!1,n)};tt.unmountComponentAtNode=function(e){if(!vo(e))throw Error(_(40));return e._reactRootContainer?(Sn(function(){wo(null,null,e,!1,function(){e._reactRootContainer=null,e[Dt]=null})}),!0):!1};tt.unstable_batchedUpdates=$i;tt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!vo(n))throw Error(_(200));if(e==null||e._reactInternals===void 0)throw Error(_(38));return wo(e,t,n,!1,r)};tt.version="18.3.1-next-f1338f8080-20240426";function _d(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(_d)}catch(e){console.error(e)}}_d(),_u.exports=tt;var dp=_u.exports,ru=dp;ls.createRoot=ru.createRoot,ls.hydrateRoot=ru.hydrateRoot;function fp({children:e}){return u.jsx("div",{className:"flex flex-col h-[100dvh] bg-rift-900 overflow-hidden relative",children:e})}var hp={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const pp=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),mp=(e,t)=>{const n=w.forwardRef(({color:r="currentColor",size:l=24,strokeWidth:o=2,absoluteStrokeWidth:s,children:i,...a},c)=>w.createElement("svg",{ref:c,...hp,width:l,height:l,stroke:r,strokeWidth:s?Number(o)*24/Number(l):o,className:`lucide lucide-${pp(e)}`,...a},[...t.map(([m,p])=>w.createElement(m,p)),...(Array.isArray(i)?i:[i])||[]]));return n.displayName=`${e}`,n};var le=mp;const gp=le("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),xp=le("Brain",[["path",{d:"M9.5 2A2.5 2.5 0 0 1 12 4.5v15a2.5 2.5 0 0 1-4.96.44 2.5 2.5 0 0 1-2.96-3.08 3 3 0 0 1-.34-5.58 2.5 2.5 0 0 1 1.32-4.24 2.5 2.5 0 0 1 1.98-3A2.5 2.5 0 0 1 9.5 2Z",key:"1mhkh5"}],["path",{d:"M14.5 2A2.5 2.5 0 0 0 12 4.5v15a2.5 2.5 0 0 0 4.96.44 2.5 2.5 0 0 0 2.96-3.08 3 3 0 0 0 .34-5.58 2.5 2.5 0 0 0-1.32-4.24 2.5 2.5 0 0 0-1.98-3A2.5 2.5 0 0 0 14.5 2Z",key:"1d6s00"}]]),yp=le("CameraOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16",key:"qmtpty"}],["path",{d:"M9.5 4h5L17 7h3a2 2 0 0 1 2 2v7.5",key:"1ufyfc"}],["path",{d:"M14.121 15.121A3 3 0 1 1 9.88 10.88",key:"11zox6"}]]),to=le("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),vp=le("CheckCircle2",[["path",{d:"M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10z",key:"14v8dr"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),Rd=le("CheckSquare",[["polyline",{points:"9 11 12 14 22 4",key:"19ybtz"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]),wp=le("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),yl=le("ChevronsRight",[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]]),kp=le("Cpu",[["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"9",y:"9",width:"6",height:"6",key:"o3kz5p"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]),Sp=le("Crop",[["path",{d:"M6 2v14a2 2 0 0 0 2 2h14",key:"ron5a4"}],["path",{d:"M18 22V8a2 2 0 0 0-2-2H2",key:"7s9ehn"}]]),Np=le("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]),Vi=le("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),Cp=le("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),jp=le("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),Qi=le("Layers",[["polygon",{points:"12 2 2 7 12 12 22 7 12 2",key:"1b0ttc"}],["polyline",{points:"2 17 12 22 22 17",key:"imjtdl"}],["polyline",{points:"2 12 12 17 22 12",key:"5dexcv"}]]),Ep=le("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),Md=le("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]),no=le("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),_p=le("Radar",[["path",{d:"M19.07 4.93A10 10 0 0 0 6.99 3.34",key:"z3du51"}],["path",{d:"M4 6h.01",key:"oypzma"}],["path",{d:"M2.29 9.62A10 10 0 1 0 21.31 8.35",key:"qzzz0"}],["path",{d:"M16.24 7.76A6 6 0 1 0 8.23 16.67",key:"1yjesh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M17.99 11.66A6 6 0 0 1 15.77 16.67",key:"1u2y91"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"m13.41 10.59 5.66-5.66",key:"mhq4k0"}]]),Go=le("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]),Pd=le("RotateCw",[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]]),ko=le("ScanLine",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["line",{x1:"7",x2:"17",y1:"12",y2:"12",key:"197423"}]]),Wn=le("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),Rp=le("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Td=le("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]),Qr=le("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),ro=le("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),Ld=le("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Mp=le("ZapOff",[["polyline",{points:"12.41 6.75 13 2 10.57 4.92",key:"122m05"}],["polyline",{points:"18.57 12.91 21 10 15.66 10",key:"16r43o"}],["polyline",{points:"8 8 3 14 12 14 11 22 16 16",key:"tmh4bc"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),Yi=le("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),Pp=[{id:"scan",label:"Scan",icon:ko},{id:"collection",label:"Collection",icon:Qi},{id:"settings",label:"Settings",icon:Rp}];function Tp({activeTab:e,onTabChange:t,scannedCount:n}){return u.jsx("nav",{className:"flex-shrink-0 z-40 bg-rift-800/95 backdrop-blur-xl border-t border-rift-600/30",style:{paddingBottom:"env(safe-area-inset-bottom, 0px)"},children:u.jsx("div",{className:"flex items-stretch h-16",children:Pp.map(({id:r,label:l,icon:o})=>{const s=e===r;return u.jsxs("button",{onClick:()=>t(r),className:`flex-1 flex flex-col items-center justify-center gap-1 transition-colors relative ${s?"text-gold-400":"text-rift-400 active:text-rift-200"}`,children:[s&&u.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-12 h-0.5 rounded-full bg-gold-400"}),u.jsxs("div",{className:"relative",children:[u.jsx(o,{className:"w-5 h-5",strokeWidth:s?2.2:1.8}),r==="collection"&&n>0&&u.jsx("span",{className:"absolute -top-1.5 -right-2.5 min-w-[16px] h-4 rounded-full bg-gold-500 text-rift-900 text-[9px] font-bold flex items-center justify-center px-1",children:n>99?"99+":n})]}),u.jsx("span",{className:`text-[10px] font-medium ${s?"text-gold-400":"text-rift-500"}`,children:l})]},r)})})})}function Lp({notification:e}){return e?u.jsx("div",{className:`fixed bottom-32 md:bottom-20 right-3 z-50 px-3 py-1.5 rounded-full text-xs font-medium shadow-lg fade-in ${e.type==="success"?"bg-green-500/90 text-white backdrop-blur-sm":e.type==="error"?"bg-red-500/90 text-white backdrop-blur-sm":"bg-rift-700/90 text-rift-100 backdrop-blur-sm border border-rift-500/30"}`,children:e.message}):null}function Dp({progress:e,stage:t}){const n=[{key:"db",label:"Loading database...",icon:Np},{key:"model",label:"Warming up AI model...",icon:xp},{key:"matcher",label:"Preparing identifier...",icon:ko},{key:"ready",label:"Ready to scan!",icon:vp}],r=n.findIndex(l=>l.key===t);return u.jsxs("div",{className:"fixed inset-0 z-50 flex flex-col items-center justify-center bg-rift-900 px-8",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-10",children:[u.jsx("div",{className:"relative flex items-center justify-center w-14 h-14 rounded-2xl bg-gradient-to-br from-gold-400 to-gold-500 shadow-xl shadow-gold-500/20",children:u.jsx(Yi,{className:"w-8 h-8 text-rift-900",strokeWidth:2.5})}),u.jsxs("div",{className:"flex flex-col",children:[u.jsx("span",{className:"text-2xl font-display font-bold text-gold-400 tracking-wider",children:"POKEMON"}),u.jsx("span",{className:"text-xs font-body text-rift-400 tracking-[0.3em] uppercase",children:"Scanner"})]})]}),u.jsxs("div",{className:"w-full max-w-xs mb-8",children:[u.jsx("div",{className:"h-1.5 rounded-full bg-rift-700 overflow-hidden",children:u.jsx("div",{className:"h-full rounded-full bg-gradient-to-r from-gold-500 to-gold-400 transition-all duration-500 ease-out",style:{width:`${Math.round(e*100)}%`}})}),u.jsxs("p",{className:"text-xs font-mono text-rift-500 text-center mt-2",children:[Math.round(e*100),"%"]})]}),u.jsx("div",{className:"space-y-3",children:n.map((l,o)=>{const s=l.icon,i=l.key===t,a=o<r;return u.jsxs("div",{className:`flex items-center gap-3 transition-all duration-300 ${i?"opacity-100":a?"opacity-50":"opacity-20"}`,children:[u.jsx(s,{className:`w-4 h-4 ${a?"text-green-400":i?"text-gold-400":"text-rift-500"} ${i?"animate-pulse":""}`}),u.jsx("span",{className:`text-sm font-body ${i?"text-rift-200":"text-rift-400"}`,children:l.label})]},l.key)})}),u.jsx("p",{className:"absolute bottom-6 text-[10px] text-rift-600 text-center px-8 max-w-sm",children:`Created under Riot Games' "Legal Jibber Jabber" policy. Riot Games does not endorse or sponsor this project.`})]})}const rr=[{r:78,g:205,b:196},{r:255,g:107,b:107},{r:255,g:209,b:102},{r:107,g:137,b:255},{r:199,g:128,b:232},{r:255,g:168,b:80},{r:129,g:236,b:146},{r:255,g:145,b:186}];function zp({image:e,detections:t,selectedIndex:n,onSelectDetection:r}){const l=w.useRef(null),o=w.useRef(null);w.useEffect(()=>{if(!l.current||!e)return;if(!(e instanceof HTMLImageElement)||!e.naturalWidth||!e.naturalHeight){console.warn("[DetectionCanvas] Invalid image element provided");return}const i=l.current,a=i.getContext("2d");i.width=e.naturalWidth,i.height=e.naturalHeight,a.drawImage(e,0,0),t&&t.length>0&&t.forEach((c,m)=>{var B,re,te,ce;const{cx:p,cy:g,w:x,h:k,angle:v,confidence:C}=c,h=m===n,d=c.matchResult&&c.matchResult.similarity>.55,f=rr[m%rr.length];let y=null,N=0;if(d){const T=c.activeCardId||((re=(B=c.matchResult)==null?void 0:B.card)==null?void 0:re.id),de=(ce=(te=c.matchResult)==null?void 0:te.top3)==null?void 0:ce.find(M=>M.id===T);de?(y=de.name,N=de.similarity):(y=c.matchResult.card.name,N=c.matchResult.similarity)}a.save(),a.translate(p,g),a.rotate(v),a.fillStyle=`rgba(${f.r}, ${f.g}, ${f.b}, ${h?.3:.18})`,a.fillRect(-x/2,-k/2,x,k),h?(a.strokeStyle=`rgba(${f.r}, ${f.g}, ${f.b}, 1)`,a.lineWidth=4,a.shadowColor=`rgba(${f.r}, ${f.g}, ${f.b}, 0.6)`,a.shadowBlur=14):(a.strokeStyle=`rgba(${f.r}, ${f.g}, ${f.b}, 0.85)`,a.lineWidth=3),a.strokeRect(-x/2,-k/2,x,k),a.shadowBlur=0;const j=d?`#${m+1} ${y} (${(N*100).toFixed(0)}%)`:`#${m+1} ${(C*100).toFixed(1)}%`;a.font=`bold ${Math.max(14,Math.min(20,x*.06))}px monospace`;const P=a.measureText(j).width+12,R=24;a.fillStyle=`rgba(${f.r}, ${f.g}, ${f.b}, 0.85)`,a.beginPath();const H=-x/2,b=-k/2-R-4;a.roundRect(H,b,P,R,4),a.fill(),a.fillStyle="rgba(0, 0, 0, 0.9)",a.fillText(j,H+6,b+R-7),a.restore()})},[e,t,n]);const s=i=>{if(!t||t.length===0||!l.current)return;const a=l.current.getBoundingClientRect(),c=l.current.width/a.width,m=l.current.height/a.height,p=(i.clientX-a.left)*c,g=(i.clientY-a.top)*m;for(let x=0;x<t.length;x++){const k=t[x],v=k.w/2,C=k.h/2;if(p>=k.cx-v&&p<=k.cx+v&&g>=k.cy-C&&g<=k.cy+C){r(x===n?null:x);return}}r(null)};return e?u.jsx("div",{ref:o,className:"rounded-2xl overflow-hidden border border-rift-600/20 flex items-center justify-center h-full flex-1 min-h-0",children:u.jsx("canvas",{ref:l,onClick:s,className:"max-h-full max-w-full w-auto h-auto cursor-pointer object-contain"})}):null}function Ip({videoRef:e,isActive:t,error:n,isProcessing:r,lastDetection:l,liveDetections:o,onStartCamera:s,onStopCamera:i,onToggleFacing:a,onSnapScan:c,detectorState:m,hasTorch:p,torchOn:g,onToggleTorch:x,autoScanEnabled:k,onToggleAutoScan:v,onTakeScreenshot:C,cropArea:h,onCropAreaChange:d,cropEnabled:f,onToggleCrop:y}){const N=m==="ready",[j,P]=w.useState(!1),[R,H]=w.useState(!1),[b,ne]=w.useState(null),[B,re]=w.useState({x:0,y:0}),te=w.useRef(null),ce=w.useRef(null),T=w.useCallback((S,O)=>{if(!te.current)return;S.preventDefault(),S.stopPropagation();const F=S.clientX||S.touches&&S.touches[0].clientX,Y=S.clientY||S.touches&&S.touches[0].clientY,ie=te.current.getBoundingClientRect(),A=(F-ie.left)/ie.width*100,W=(Y-ie.top)/ie.height*100;re({x:A,y:W}),O?(H(!0),ne(O)):P(!0)},[]),de=w.useCallback(S=>{if(!te.current||!j&&!R)return;S.preventDefault();const O=S.clientX||S.touches&&S.touches[0].clientX,F=S.clientY||S.touches&&S.touches[0].clientY,Y=te.current.getBoundingClientRect(),ie=(O-Y.left)/Y.width*100,A=(F-Y.top)/Y.height*100;if(j){const W=ie-B.x,q=A-B.y;let U=h.x+W,We=h.y+q;U=Math.max(0,Math.min(100-h.width,U)),We=Math.max(0,Math.min(100-h.height,We)),d({...h,x:U,y:We}),re({x:ie,y:A})}else if(R){const W=ie-B.x,q=A-B.y;let U={...h};switch(b){case"nw":U.x+=W,U.y+=q,U.width-=W,U.height-=q;break;case"ne":U.y+=q,U.width+=W,U.height-=q;break;case"sw":U.x+=W,U.width-=W,U.height+=q;break;case"se":U.width+=W,U.height+=q;break;case"n":U.y+=q,U.height-=q;break;case"s":U.height+=q;break;case"w":U.x+=W,U.width-=W;break;case"e":U.width+=W;break}const We=10;U.width=Math.max(We,Math.min(100-U.x,U.width)),U.height=Math.max(We,Math.min(100-U.y,U.height)),U.x=Math.max(0,Math.min(100-U.width,U.x)),U.y=Math.max(0,Math.min(100-U.height,U.y)),d(U),re({x:ie,y:A})}},[j,R,b,B,h,d]),M=w.useCallback(()=>{P(!1),H(!1),ne(null)},[]);return ju.useEffect(()=>{if(j||R)return document.addEventListener("mousemove",de),document.addEventListener("mouseup",M),document.addEventListener("touchmove",de),document.addEventListener("touchend",M),()=>{document.removeEventListener("mousemove",de),document.removeEventListener("mouseup",M),document.removeEventListener("touchmove",de),document.removeEventListener("touchend",M)}},[j,R,de,M]),w.useEffect(()=>{if(!ce.current||!(e!=null&&e.current)||!t)return;const S=ce.current,O=e.current,F=S.getContext("2d"),Y=()=>{const W=O.getBoundingClientRect();(S.width!==W.width||S.height!==W.height)&&(S.width=W.width,S.height=W.height)};Y();const ie=()=>{if(Y(),F.clearRect(0,0,S.width,S.height),k&&o&&o.length>0){const W=S.width/O.videoWidth,q=S.height/O.videoHeight;o.forEach((U,We)=>{var $;const Be=rr[We%rr.length];let sn=U.cx,jn=U.cy,ut=U.w,ir=U.h;h&&(sn+=h.x/100*O.videoWidth,jn+=h.y/100*O.videoHeight);const $t=sn*W,En=jn*q,bt=ut*W,I=ir*q;if(F.save(),F.translate($t,En),F.rotate(((U.angle||0)-90)*Math.PI/180),F.fillStyle=`rgba(${Be.r}, ${Be.g}, ${Be.b}, 0.15)`,F.fillRect(-bt/2,-I/2,bt,I),F.strokeStyle=`rgba(${Be.r}, ${Be.g}, ${Be.b}, 0.8)`,F.lineWidth=2,F.strokeRect(-bt/2,-I/2,bt,I),F.restore(),l&&We===0){const K=(($=l.cardData)==null?void 0:$.name)||"Detected",V=Math.round((l.confidence||0)*100);F.fillStyle=`rgba(${Be.r}, ${Be.g}, ${Be.b}, 0.9)`,F.font="bold 14px sans-serif";const G=F.measureText(`${K} (${V}%)`),Z=6,Q=En-I/2-10;F.fillRect($t-G.width/2-Z,Q-16-Z,G.width+Z*2,20+Z*2),F.fillStyle="white",F.fillText(`${K} (${V}%)`,$t-G.width/2,Q)}})}A=requestAnimationFrame(ie)};let A=requestAnimationFrame(ie);return()=>{cancelAnimationFrame(A)}},[t,k,o,l,e]),u.jsxs("div",{ref:te,className:"absolute inset-0 bg-black",children:[u.jsx("video",{ref:e,className:"absolute inset-0 w-full h-full object-cover",playsInline:!0,muted:!0,autoPlay:!0}),u.jsx("canvas",{ref:ce,className:"absolute inset-0 w-full h-full pointer-events-none z-5"}),t&&u.jsxs("div",{className:"absolute inset-0",children:[u.jsx("div",{className:"absolute inset-0 bg-black/20"}),h&&u.jsxs(u.Fragment,{children:[u.jsxs("svg",{className:"absolute inset-0 pointer-events-none z-5",style:{width:"100%",height:"100%"},children:[u.jsx("defs",{children:u.jsxs("mask",{id:"cropMask",children:[u.jsx("rect",{width:"100%",height:"100%",fill:"white"}),u.jsx("rect",{x:`${h.x}%`,y:`${h.y}%`,width:`${h.width}%`,height:`${h.height}%`,fill:"black"})]})}),u.jsx("rect",{width:"100%",height:"100%",fill:"black",fillOpacity:"0.5",mask:"url(#cropMask)"})]}),u.jsxs("div",{className:"absolute border-2 border-purple-400 cursor-move z-10",style:{left:`${h.x}%`,top:`${h.y}%`,width:`${h.width}%`,height:`${h.height}%`},onMouseDown:S=>T(S,null),onTouchStart:S=>T(S,null),children:[u.jsx("div",{className:"absolute w-5 h-5 bg-purple-400 border-2 border-white rounded-full cursor-nwse-resize -left-2.5 -top-2.5",onMouseDown:S=>{S.stopPropagation(),T(S,"nw")},onTouchStart:S=>{S.stopPropagation(),T(S,"nw")}}),u.jsx("div",{className:"absolute w-5 h-5 bg-purple-400 border-2 border-white rounded-full cursor-nesw-resize -right-2.5 -top-2.5",onMouseDown:S=>{S.stopPropagation(),T(S,"ne")},onTouchStart:S=>{S.stopPropagation(),T(S,"ne")}}),u.jsx("div",{className:"absolute w-5 h-5 bg-purple-400 border-2 border-white rounded-full cursor-nesw-resize -left-2.5 -bottom-2.5",onMouseDown:S=>{S.stopPropagation(),T(S,"sw")},onTouchStart:S=>{S.stopPropagation(),T(S,"sw")}}),u.jsx("div",{className:"absolute w-5 h-5 bg-purple-400 border-2 border-white rounded-full cursor-nwse-resize -right-2.5 -bottom-2.5",onMouseDown:S=>{S.stopPropagation(),T(S,"se")},onTouchStart:S=>{S.stopPropagation(),T(S,"se")}}),u.jsx("div",{className:"absolute w-5 h-5 bg-purple-400 border-2 border-white rounded-full cursor-ns-resize left-1/2 -translate-x-1/2 -top-2.5",onMouseDown:S=>{S.stopPropagation(),T(S,"n")},onTouchStart:S=>{S.stopPropagation(),T(S,"n")}}),u.jsx("div",{className:"absolute w-5 h-5 bg-purple-400 border-2 border-white rounded-full cursor-ns-resize left-1/2 -translate-x-1/2 -bottom-2.5",onMouseDown:S=>{S.stopPropagation(),T(S,"s")},onTouchStart:S=>{S.stopPropagation(),T(S,"s")}}),u.jsx("div",{className:"absolute w-5 h-5 bg-purple-400 border-2 border-white rounded-full cursor-ew-resize -left-2.5 top-1/2 -translate-y-1/2",onMouseDown:S=>{S.stopPropagation(),T(S,"w")},onTouchStart:S=>{S.stopPropagation(),T(S,"w")}}),u.jsx("div",{className:"absolute w-5 h-5 bg-purple-400 border-2 border-white rounded-full cursor-ew-resize -right-2.5 top-1/2 -translate-y-1/2",onMouseDown:S=>{S.stopPropagation(),T(S,"e")},onTouchStart:S=>{S.stopPropagation(),T(S,"e")}})]})]}),r&&u.jsx("div",{className:"absolute inset-0 flex items-center justify-center z-20 pointer-events-none",children:u.jsxs("div",{className:"px-5 py-2.5 rounded-full bg-black/60 backdrop-blur-sm flex items-center gap-2",children:[u.jsx(ko,{className:"w-4 h-4 text-gold-400 animate-pulse"}),u.jsx("span",{className:"text-sm font-medium text-gold-400",children:"Scanning..."})]})}),u.jsxs("div",{className:"absolute top-24 left-3 flex flex-col gap-2",children:[u.jsxs("div",{className:"flex items-center gap-1.5 px-2.5 py-1 rounded-lg bg-black/50 backdrop-blur-sm",children:[u.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${N?"bg-green-400":m==="loading"||m==="warming"?"bg-yellow-400 animate-pulse":m==="error"?"bg-red-400":"bg-rift-500"}`,title:N?"AI model ready":m==="loading"?"Loading AI model":m==="warming"?"Warming up AI model":m==="error"?"AI model error":"AI model inactive"}),u.jsx("span",{className:"text-[10px] font-medium text-white/80",children:N?"AI Ready":m==="loading"?"Loading...":m==="warming"?"Warming...":m==="error"?"Error":"Inactive"})]}),k&&f&&u.jsxs("div",{className:"flex items-center gap-1.5 px-2.5 py-1 rounded-lg bg-green-500/20 backdrop-blur-sm border border-green-400/30",children:[u.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-green-400 animate-pulse",title:"Auto-scan active"}),u.jsx("span",{className:"text-[10px] font-medium text-green-400",children:"Auto"})]})]}),!r&&u.jsx("div",{className:"absolute bottom-20 left-4 right-4 text-center",children:u.jsx("p",{className:"text-xs text-white/50 font-body",children:k&&f?"Auto-scanning crop area...":f?"Drag to move, resize handles to adjust crop area":"Click the screenshot button to capture"})})]}),!t&&!n&&u.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center gap-5 bg-rift-900/95",children:[u.jsx("div",{className:"w-20 h-20 rounded-3xl bg-rift-800/80 border border-rift-600/30 flex items-center justify-center",children:u.jsx(to,{className:"w-9 h-9 text-rift-400"})}),u.jsxs("div",{className:"text-center px-8",children:[u.jsx("p",{className:"text-base font-semibold text-rift-200 mb-1",children:"Camera disabled"}),u.jsx("p",{className:"text-sm text-rift-500",children:"Enable camera to take screenshots"})]}),u.jsxs("button",{onClick:s,className:"btn-primary text-sm mt-1 px-6 py-3 rounded-xl",children:[u.jsx(to,{className:"w-4 h-4"}),"Enable Camera"]})]}),n&&u.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center gap-4 bg-rift-900/95 px-8",children:[u.jsx("div",{className:"w-16 h-16 rounded-2xl bg-red-500/10 border border-red-500/20 flex items-center justify-center",children:u.jsx(gp,{className:"w-8 h-8 text-red-400"})}),u.jsx("p",{className:"text-sm text-red-300 text-center font-body",children:n}),u.jsx("button",{onClick:s,className:"btn-secondary text-sm rounded-xl",children:"Retry"})]}),t&&u.jsxs("div",{className:"absolute top-3 right-3 flex flex-col gap-2 z-10",onClick:S=>S.stopPropagation(),children:[u.jsx("button",{onClick:a,className:"w-11 h-11 rounded-xl bg-black/50 backdrop-blur-sm border border-white/10 flex items-center justify-center text-white/80 hover:bg-black/70 transition-colors",children:u.jsx(Pd,{className:"w-4.5 h-4.5"})}),p&&u.jsx("button",{onClick:x,className:`w-11 h-11 rounded-xl backdrop-blur-sm border flex items-center justify-center transition-all ${g?"bg-yellow-500/30 border-yellow-400/50 text-yellow-400":"bg-black/50 border-white/10 text-white/60"}`,children:g?u.jsx(Yi,{className:"w-4.5 h-4.5"}):u.jsx(Mp,{className:"w-4.5 h-4.5"})}),u.jsx("button",{onClick:y,className:`w-11 h-11 rounded-xl backdrop-blur-sm border flex items-center justify-center transition-all ${f?"bg-purple-500/30 border-purple-400/50 text-purple-400":"bg-black/50 border-white/10 text-white/60"}`,title:f?"Disable crop":"Enable crop",children:u.jsx(Sp,{className:"w-4.5 h-4.5"})}),u.jsx("button",{onClick:f?v:void 0,className:`w-11 h-11 rounded-xl backdrop-blur-sm border flex items-center justify-center transition-all ${f?k?"bg-green-500/30 border-green-400/50 text-green-400":"bg-black/50 border-white/10 text-white/60":"bg-black/30 border-white/5 text-white/30 cursor-not-allowed"}`,title:f?k?"Stop auto-scan":"Start auto-scan":"Enable crop area first",disabled:!f,children:u.jsx(_p,{className:"w-4.5 h-4.5"})}),u.jsx("button",{onClick:C,className:"w-11 h-11 rounded-xl bg-purple-500/30 backdrop-blur-sm border border-purple-400/50 flex items-center justify-center text-purple-300 hover:bg-purple-500/40 transition-colors",title:"Take screenshot",children:u.jsx(Vi,{className:"w-4.5 h-4.5"})}),u.jsx("button",{onClick:i,className:"w-11 h-11 rounded-xl bg-black/50 backdrop-blur-sm border border-white/10 flex items-center justify-center text-red-400 hover:bg-red-500/20 transition-colors",children:u.jsx(yp,{className:"w-4.5 h-4.5"})})]})]})}function Op({count:e,uniqueCount:t,onTap:n}){return e===0?null:u.jsxs("button",{onClick:n,className:"absolute bottom-4 right-4 z-20 flex items-center gap-2 px-3.5 py-2 rounded-xl bg-rift-800/90 backdrop-blur-md border border-rift-600/40 shadow-lg transition-transform active:scale-95 lg:hidden",children:[u.jsx(Qi,{className:"w-4 h-4 text-gold-400"}),u.jsxs("div",{className:"flex items-baseline gap-1",children:[u.jsx("span",{className:"text-sm font-bold text-rift-100",children:e}),u.jsxs("span",{className:"text-[10px] text-rift-400",children:["(",t," unique)"]})]})]})}function $p({onImageSelected:e,isProcessing:t}){const[n,r]=w.useState(!1),l=w.useRef(null),o=w.useRef(null),s=m=>{m.preventDefault(),r(!0)},i=m=>{m.preventDefault(),r(!1)},a=m=>{m.preventDefault(),r(!1);const p=m.dataTransfer.files[0];p&&p.type.startsWith("image/")&&e(p)},c=m=>{const p=m.target.files[0];p&&e(p)};return u.jsxs("div",{onDragOver:s,onDragLeave:i,onDrop:a,className:`w-full rounded-2xl border-2 border-dashed p-8 flex flex-col items-center justify-center gap-4 transition-all duration-200 ${n?"border-gold-400 bg-gold-400/5 scale-[1.01]":"border-rift-500/30 bg-rift-800/40"} ${t?"opacity-50 pointer-events-none":""}`,children:[u.jsx("div",{className:`w-14 h-14 rounded-2xl flex items-center justify-center transition-colors ${n?"bg-gold-400/10":"bg-rift-700/60"}`,children:n?u.jsx(Cp,{className:"w-6 h-6 text-gold-400"}):u.jsx(ro,{className:"w-6 h-6 text-rift-400"})}),u.jsxs("div",{className:"text-center",children:[u.jsx("p",{className:"text-sm font-medium text-rift-200",children:n?"Drop image here":"Add an image"}),u.jsx("p",{className:"text-xs text-rift-500 mt-1",children:"Drag, take a photo, or upload"})]}),u.jsxs("div",{className:"flex gap-2 w-full max-w-xs",children:[u.jsxs("button",{onClick:()=>{var m;return(m=o.current)==null?void 0:m.click()},disabled:t,className:"flex-1 rounded-xl bg-rift-700 border border-rift-600/40 py-2.5 px-4 flex items-center justify-center gap-2 text-sm font-medium text-rift-200 hover:bg-rift-600 hover:border-rift-500/60 transition-all disabled:opacity-50 disabled:pointer-events-none",children:[u.jsx(to,{className:"w-4 h-4"}),"Take Photo"]}),u.jsxs("button",{onClick:()=>{var m;return(m=l.current)==null?void 0:m.click()},disabled:t,className:"flex-1 rounded-xl bg-rift-700 border border-rift-600/40 py-2.5 px-4 flex items-center justify-center gap-2 text-sm font-medium text-rift-200 hover:bg-rift-600 hover:border-rift-500/60 transition-all disabled:opacity-50 disabled:pointer-events-none",children:[u.jsx(ro,{className:"w-4 h-4"}),"Upload"]})]}),u.jsx("input",{ref:o,type:"file",accept:"image/*",capture:"environment",onChange:c,className:"hidden"}),u.jsx("input",{ref:l,type:"file",accept:"image/*",onChange:c,className:"hidden"})]})}const bp=`/poke-scanner/card-hashes-index.json?v=${1772203675105}`,lu=.05,Ap=.95,ou=.05,Fp=.95;function Up(e){return`/poke-scanner/cards/${e}.webp`}class Hp{constructor(){this.cards=[],this.seriesIndex=[],this.gridSize=64,this.ready=!1,this._tmpCanvas=null}async initialize(){const t=await fetch(bp);if(!t.ok)throw new Error(`Failed to load card index: ${t.status}`);const n=await t.json();this.gridSize=n.gridSize,this.seriesIndex=n.series,console.log(`[CardMatcher] Loading ${this.seriesIndex.length} series (${n.totalCards} total cards)...`);const r=this.seriesIndex.map(async o=>{const s=`/poke-scanner/${o.file}?v=${1772203675105}`,i=await fetch(s);return i.ok?(await i.json()).cards||[]:(console.warn(`[CardMatcher] Failed to load ${o.code}: ${i.status}`),[])}),l=await Promise.all(r);this.cards=[];for(const o of l)for(const s of o){const i=new Float32Array(s.f);let a=0;for(let c=0;c<i.length;c++)a+=i[c]*i[c];this.cards.push({...s,f:i,norm:Math.sqrt(a)})}this.ready=!0,console.log(`[CardMatcher] Loaded ${this.cards.length} cards from ${this.seriesIndex.length} series (${this.gridSize}x${this.gridSize} grid)`)}identify(t,n=null){if(!this.ready||this.cards.length===0)return null;const r=this._cropArtwork(t),l=this._computeColorGrid(r),o=n?this.cards.filter(a=>a.code===n):this.cards;if(o.length===0)return console.warn(`[CardMatcher] No cards found for series: ${n}`),null;console.log(`[CardMatcher]  Searching in ${o.length} cards${n?` (FILTERED to series: ${n})`:" (ALL series)"}`);let s=null,i=-1;for(const a of o){const c=this._cosineSimilarity(l,a.f);c>i&&(i=c,s=a)}return console.log(`[CardMatcher]  Best match: ${s==null?void 0:s.name} [${s==null?void 0:s.code}] (similarity: ${i.toFixed(3)})`),s?{card:s,similarity:i}:null}getTopMatches(t,n=5,r=null){if(!this.ready||this.cards.length===0)return[];const l=this._cropArtwork(t),o=this._computeColorGrid(l),i=(r?this.cards.filter(a=>a.code===r):this.cards).map(a=>({card:a,similarity:this._cosineSimilarity(o,a.f)}));return i.sort((a,c)=>c.similarity-a.similarity),i.slice(0,n)}_cropArtwork(t){const n=t.width,r=t.height,l=Math.round(n*ou),o=Math.round(r*lu),s=Math.round(n*(Fp-ou)),i=Math.round(r*(Ap-lu)),a=document.createElement("canvas");return a.width=s,a.height=i,a.getContext("2d").drawImage(t,l,o,s,i,0,0,s,i),a}_equalizeHistogram(t){for(let n=0;n<3;n++){const r=new Uint32Array(256);for(let a=n;a<t.length;a+=4)r[t[a]]++;const l=new Uint32Array(256);l[0]=r[0];for(let a=1;a<256;a++)l[a]=l[a-1]+r[a];let o=0;for(let a=0;a<256;a++)if(l[a]>0){o=l[a];break}const i=t.length/4-o;if(i>0)for(let a=n;a<t.length;a+=4)t[a]=(l[t[a]]-o)*255/i+.5|0}}_computeColorGrid(t){const n=t.width,r=t.height;this._eqCanvas||(this._eqCanvas=document.createElement("canvas")),this._eqCanvas.width=n,this._eqCanvas.height=r;const l=this._eqCanvas.getContext("2d");l.drawImage(t,0,0);const o=l.getImageData(0,0,n,r);this._equalizeHistogram(o.data),l.putImageData(o,0,0),this._tmpCanvas||(this._tmpCanvas=document.createElement("canvas"),this._tmpCanvas.width=this.gridSize,this._tmpCanvas.height=this.gridSize);const s=this._tmpCanvas.getContext("2d");s.drawImage(this._eqCanvas,0,0,this.gridSize,this.gridSize);const i=s.getImageData(0,0,this.gridSize,this.gridSize).data,a=new Float32Array(this.gridSize*this.gridSize*3);for(let c=0,m=0;c<i.length;c+=4)a[m++]=i[c]/255,a[m++]=i[c+1]/255,a[m++]=i[c+2]/255;return a}_cosineSimilarity(t,n){let r=0,l=0,o=0;for(let i=0;i<t.length;i++)r+=t[i]*n[i],l+=t[i]*t[i],o+=n[i]*n[i];const s=Math.sqrt(l)*Math.sqrt(o);return s>0?r/s:0}}let Xo=null;function So(){return Xo||(Xo=new Hp),Xo}function Wp(e){return e?{id:e.id,name:e.name,collectorNumber:e.collectorNumber||String(e.number||""),code:e.code,set:e.set,setName:e.setName,rarity:e.rarity}:null}function Ko({detection:e,index:t,onAddToScanner:n,isChecked:r,onToggleCheck:l,onMatchChange:o,color:s,isSelected:i,onSelect:a,onRemove:c,quantity:m}){const p=e.priceData,[g,x]=w.useState(!1);w.useEffect(()=>{i&&!g&&x(!0)},[i]);const[k,v]=w.useState(null),[C,h]=w.useState(0),[d,f]=w.useState(1),[y,N]=w.useState(!1),[j,P]=w.useState(""),[R,H]=w.useState(null),b=w.useRef(null),ne=e.matchResult,B=ne&&ne.similarity>.55,re=(ne==null?void 0:ne.top3)||[],te=R||re[C]||re[0],ce=te?te.similarity:0;w.useEffect(()=>{e.cropCanvas&&(typeof e.cropCanvas=="string"?v(e.cropCanvas):e.cropCanvas.toDataURL&&v(e.cropCanvas.toDataURL("image/jpeg",.85)))},[e.cropCanvas]);const T=Wp(te);w.useEffect(()=>{T&&o&&o(t,T)},[T==null?void 0:T.id,t]);const de=te!=null&&te.id?Up(te.id):null,M=ce>=.9?"text-green-400 bg-green-400/10":ce>=.85?"text-yellow-400 bg-yellow-400/10":"text-red-400 bg-red-400/10",S=A=>{H(null),h(A)},O=A=>{H(A),N(!1),P("")},F=y&&j.length>=2?So().cards.filter(A=>A.name.toLowerCase().includes(j.toLowerCase())).slice(0,300):[];w.useEffect(()=>{y&&b.current&&(b.current.focus(),setTimeout(()=>{var A;(A=b.current)==null||A.scrollIntoView({behavior:"smooth",block:"center"})},300))},[y]);const Y=s?{backgroundColor:`rgb(${s.r}, ${s.g}, ${s.b})`}:{backgroundColor:"#888"},ie=s?`rgba(${s.r}, ${s.g}, ${s.b}, ${i?.7:.3})`:"rgba(136, 136, 136, 0.3)";return u.jsxs("div",{className:`rounded-2xl border-2 transition-all duration-200 overflow-hidden ${g?"bg-rift-800/80":"bg-rift-800/50"}`,style:{borderColor:ie},children:[u.jsxs("div",{className:"flex items-center cursor-pointer",onClick:()=>x(!g),children:[s&&u.jsx("button",{onClick:A=>{A.stopPropagation(),a==null||a()},className:"w-3 self-stretch flex-shrink-0 transition-opacity hover:opacity-80",style:Y,title:`Detection #${t+1}  click to highlight on image`}),B&&l&&u.jsx("button",{onClick:A=>{A.stopPropagation(),l()},className:"pl-2 pr-1 py-3 flex-shrink-0",children:r?u.jsx(Rd,{className:"w-4 h-4 text-gold-400"}):u.jsx(Td,{className:"w-4 h-4 text-rift-500"})}),u.jsxs("div",{className:`flex-1 flex items-center gap-3 p-3 ${!s||!B||!l?"pl-4":"pl-1"}`,children:[u.jsxs("div",{className:"flex gap-1.5 flex-shrink-0",children:[k&&u.jsx("div",{className:"w-9 h-12 rounded-lg overflow-hidden bg-rift-700 border border-rift-600/30",children:u.jsx("img",{src:k,alt:"Detected",className:"w-full h-full object-cover"})}),de&&u.jsx("div",{className:"w-9 h-12 rounded-lg overflow-hidden bg-rift-700 border border-gold-400/40",children:u.jsx("img",{src:de,alt:"Original",className:"w-full h-full object-cover"})})]}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("p",{className:"text-sm font-semibold text-rift-100 truncate",children:te?te.name:`Detection #${t+1}`}),T&&u.jsxs("p",{className:"text-[10px] text-rift-400 truncate",children:[T.set," ",T.collectorNumber]})]}),p&&p.avgPrice!=null&&u.jsx("div",{className:"flex items-center gap-1 flex-shrink-0",children:u.jsxs("span",{className:"text-[10px] text-green-400 font-semibold",children:[p.avgPrice.toFixed(2)," "]})}),(!p||p.avgPrice==null)&&te&&u.jsx("div",{className:"flex items-center gap-1 flex-shrink-0",children:u.jsx("span",{className:"text-[10px] text-rift-500 italic",children:"Loading price..."})}),m>1&&u.jsxs("span",{className:"text-[10px] font-mono text-rift-300 bg-rift-700/50 px-1.5 py-0.5 rounded-md flex-shrink-0",children:["x",m]}),te&&u.jsxs("span",{className:`text-xs font-bold px-2 py-0.5 rounded-lg flex-shrink-0 ${M}`,children:[te.sim,"%"]}),u.jsx(wp,{className:`w-4 h-4 text-rift-400 transition-transform flex-shrink-0 ${g?"rotate-180":""}`})]})]}),g&&u.jsxs("div",{className:"px-4 pb-4 space-y-4 fade-in",children:[u.jsxs("div",{className:"flex items-start justify-center gap-4",children:[k&&u.jsxs("div",{className:"flex flex-col items-center gap-1.5",children:[u.jsx("p",{className:"text-[10px] text-rift-400 uppercase tracking-wider",children:"Detected"}),u.jsx("div",{className:"rounded-xl overflow-hidden border border-rift-600/30 shadow-lg w-[180px] aspect-[744/1039] bg-rift-700",children:u.jsx("img",{src:k,alt:"",className:"w-full h-full object-cover"})})]}),de&&u.jsxs("div",{className:"flex flex-col items-center gap-1.5",children:[u.jsx("p",{className:"text-[10px] text-rift-400 uppercase tracking-wider",children:"Original"}),u.jsx("div",{className:"rounded-xl overflow-hidden border border-gold-400/30 shadow-lg w-[180px] aspect-[744/1039] bg-rift-700",children:u.jsx("img",{src:de,alt:"",className:"w-full h-full object-cover"})})]})]}),T&&u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-base font-bold text-rift-100",children:T.name}),u.jsxs("p",{className:"text-xs text-rift-400",children:[T.setName," (",T.set,")  #",T.collectorNumber]})]}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center justify-between mb-1",children:[u.jsx("span",{className:"text-[10px] text-rift-400 uppercase tracking-wider",children:"Confidence"}),u.jsxs("span",{className:`text-xs font-bold ${ce>=.9?"text-green-400":ce>=.85?"text-yellow-400":"text-red-400"}`,children:[(ce*100).toFixed(1),"%"]})]}),u.jsx("div",{className:"h-1.5 rounded-full bg-rift-700 overflow-hidden",children:u.jsx("div",{className:`h-full rounded-full transition-all duration-500 ${ce>=.9?"bg-gradient-to-r from-green-500 to-green-400":ce>=.85?"bg-gradient-to-r from-yellow-500 to-yellow-400":"bg-gradient-to-r from-red-500 to-red-400"}`,style:{width:`${ce*100}%`}})})]})]}),re.length<=1&&!y&&!R&&T&&u.jsxs("button",{onClick:()=>N(!0),className:"w-full flex items-center justify-center gap-1.5 py-2 rounded-xl text-[10px] text-rift-400 hover:text-rift-200 bg-rift-700/30 hover:bg-rift-700/50 border border-transparent hover:border-rift-600/30 transition-all",children:[u.jsx(Wn,{className:"w-3 h-3"}),"Wrong card? Search manually"]}),re.length>1&&!y&&!R&&u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("p",{className:"text-[10px] text-rift-400 uppercase tracking-wider",children:"Best matches  tap to change"}),u.jsxs("button",{onClick:()=>N(!0),className:"text-[10px] text-rift-400 hover:text-rift-200 flex items-center gap-1 transition-colors",children:[u.jsx(Wn,{className:"w-3 h-3"}),"Search"]})]}),u.jsx("div",{className:"space-y-1.5",children:re.map((A,W)=>{const q=W===C;return u.jsxs("button",{onClick:()=>S(W),className:`w-full flex items-center gap-2 px-2.5 py-2 rounded-xl transition-all text-left ${q?"bg-gold-400/10 border border-gold-400/30":"bg-rift-700/30 border border-transparent hover:bg-rift-700/50"}`,children:[u.jsxs("span",{className:`text-[10px] font-mono w-4 ${q?"text-gold-400":"text-rift-500"}`,children:["#",W+1]}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:`text-xs truncate ${q?"text-gold-300 font-semibold":"text-rift-200"}`,children:A.name}),u.jsxs("span",{className:"text-[10px] text-rift-200",children:["[",A.set," ",A.collectorNumber,"]"]})]}),u.jsx("div",{className:"h-1 rounded-full bg-rift-700 overflow-hidden mt-0.5",children:u.jsx("div",{className:`h-full rounded-full ${q?"bg-gold-400/70":"bg-rift-400/40"}`,style:{width:`${A.sim}%`}})})]}),u.jsxs("span",{className:`text-[10px] font-mono flex-shrink-0 w-10 text-right ${q?"text-gold-400 font-bold":"text-rift-400"}`,children:[A.sim,"%"]})]},W)})})]}),R&&!y&&u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("p",{className:"text-[10px] text-amber-400",children:"Manually selected"}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsxs("button",{onClick:()=>N(!0),className:"text-[10px] text-rift-400 hover:text-rift-200 flex items-center gap-1 transition-colors",children:[u.jsx(Wn,{className:"w-3 h-3"}),"Search again"]}),u.jsx("button",{onClick:()=>H(null),className:"text-[10px] text-rift-400 hover:text-rift-200 transition-colors",children:"Reset"})]})]}),y&&u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("div",{className:"flex-1 relative",children:[u.jsx(Wn,{className:"absolute left-2.5 top-1/2 -translate-y-1/2 w-3.5 h-3.5 text-rift-400"}),u.jsx("input",{ref:b,type:"text",value:j,onChange:A=>P(A.target.value),placeholder:"Search card name...",className:"w-full h-8 pl-8 pr-3 text-xs bg-rift-700 border border-rift-600/40 rounded-lg text-rift-100 placeholder-rift-400 focus:outline-none focus:border-gold-500/60"})]}),u.jsx("button",{onClick:()=>{N(!1),P("")},className:"w-8 h-8 rounded-lg bg-rift-700 border border-rift-600/40 flex items-center justify-center text-rift-400 hover:text-rift-200 transition-colors",children:u.jsx(Ld,{className:"w-3.5 h-3.5"})})]}),F.length>0&&u.jsx("div",{className:"max-h-[120px] sm:max-h-[200px] overflow-y-auto space-y-1 rounded-lg bg-rift-700/30 p-1.5",children:F.map(A=>u.jsxs("button",{onClick:()=>O(A),className:"w-full flex items-center gap-2 px-2.5 py-2 rounded-lg text-left bg-rift-800/50 hover:bg-rift-600/50 transition-colors",children:[u.jsxs("span",{className:"text-xs text-rift-100 truncate flex-1",children:[A.name," [",A.set," ",A.number,"]"]}),u.jsxs("span",{className:"text-[10px] text-rift-400 flex-shrink-0",children:["[",A.set,"]"]})]},A.id))}),j.length>=2&&F.length===0&&u.jsx("p",{className:"text-[10px] text-rift-400 text-center py-2",children:"No cards found"}),j.length<2&&u.jsx("p",{className:"text-[10px] text-rift-400 text-center py-2",children:"Type at least 2 characters"})]}),T&&u.jsx("div",{className:"flex items-center gap-3",children:u.jsxs("div",{className:"flex items-center gap-1 flex-1",children:[u.jsx("span",{className:"text-[10px] text-rift-400 uppercase tracking-wider mr-1",children:"Qty"}),u.jsx("button",{onClick:()=>f(A=>Math.max(1,A-1)),className:"w-7 h-7 rounded-lg bg-rift-700 border border-rift-600/40 flex items-center justify-center text-rift-300 hover:bg-rift-600 transition-colors",children:u.jsx(Md,{className:"w-3 h-3"})}),u.jsx("input",{type:"text",inputMode:"numeric",value:d,onChange:A=>{const W=parseInt(A.target.value);isNaN(W)||f(Math.min(99,Math.max(1,W)))},className:"w-10 h-7 text-center text-xs font-mono bg-rift-700 border border-rift-600/40 rounded-lg text-rift-100 focus:outline-none focus:border-gold-500/60"}),u.jsx("button",{onClick:()=>f(A=>Math.min(99,A+1)),className:"w-7 h-7 rounded-lg bg-rift-700 border border-rift-600/40 flex items-center justify-center text-rift-300 hover:bg-rift-600 transition-colors",children:u.jsx(no,{className:"w-3 h-3"})})]})}),T&&u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("button",{onClick:()=>n({cardData:T,quantity:d}),className:"flex-1 py-2.5 rounded-xl text-sm font-medium flex items-center justify-center gap-2 transition-all btn-primary",children:[u.jsx(no,{className:"w-4 h-4"}),"Add to collection"]}),c&&u.jsx("button",{onClick:c,className:"py-2.5 px-4 rounded-xl text-sm font-medium flex items-center justify-center transition-all btn-ghost text-red-400 hover:text-red-300 hover:bg-red-400/10 border border-red-400/20",children:u.jsx(Qr,{className:"w-4 h-4"})})]}),!B&&u.jsx("div",{className:"text-center py-2",children:u.jsx("p",{className:"text-xs text-rift-400",children:"No reliable match found for this detection."})})]})]})}const Zo={normal:"/poke-scanner/models/yolo11n-obb-pokemon.onnx",quantized:"/poke-scanner/models/yolo11n-obb-pokemon-q8.onnx",tfjs:"/poke-scanner/models/yolo11n-obb-pokemon/model.json"},pt={UNLOADED:"unloaded",LOADING:"loading",WARMING:"warming",READY:"ready",ERROR:"error"};class Bp{constructor(){this.model=null,this.onnxSession=null,this.state=pt.UNLOADED,this.inputSize=640,this.confidenceThreshold=.3,this.iouThreshold=.45,this.useSimulation=!0,this.modelFormat="onnx",this.modelPreference="quantized",this._warmupComplete=!1}async initialize(t="normal"){this.state=pt.LOADING,this.modelPreference=t;try{if(typeof window<"u"&&window.ort)try{const r=Zo[t];console.log("[YOLO] Loading ONNX model:",r);try{const l=await fetch(r,{method:"HEAD"});if(!l.ok)throw new Error(`Model file not found (${l.status})`);const o=l.headers.get("content-type"),s=l.headers.get("content-length");console.log("[YOLO] Model file OK:",{size:s?`${(s/1024/1024).toFixed(2)} MB`:"unknown",type:o})}catch(l){throw console.error("[YOLO] Model file not accessible:",l.message),l}window.ort.env.wasm&&(window.ort.env.wasm.numThreads=1,window.ort.env.wasm.simd=!0,console.log("[YOLO] ONNX WASM initialized")),this.onnxSession=await window.ort.InferenceSession.create(r,{executionProviders:["wasm"],graphOptimizationLevel:"all"}),this.modelFormat="onnx",this.useSimulation=!1,console.log("[YOLO]  ONNX model loaded successfully:",t),console.log("[YOLO] Model input names:",this.onnxSession.inputNames),console.log("[YOLO] Model output names:",this.onnxSession.outputNames)}catch(r){if(console.error("[YOLO]  Could not load ONNX model, trying TF.js fallback:"),console.error("[YOLO] Error details:",{type:typeof r,value:r,isNumber:typeof r=="number",message:r==null?void 0:r.message,stack:r==null?void 0:r.stack}),window.tf)try{this.model=await window.tf.loadGraphModel(Zo.tfjs),this.modelFormat="tfjs",this.useSimulation=!1,console.log("[YOLO] TF.js model loaded (fallback)")}catch(l){console.error("[YOLO] TF.js also failed, using simulation mode:"),console.error("[YOLO] TF.js error:",l),this.useSimulation=!0}else console.log("[YOLO] ONNX Runtime not available, using simulation mode"),this.useSimulation=!0}else if(typeof window<"u"&&window.tf)try{this.model=await window.tf.loadGraphModel(Zo.tfjs),this.modelFormat="tfjs",this.useSimulation=!1,console.log("[YOLO] TF.js model loaded successfully")}catch(r){console.error("[YOLO] Could not load model, using simulation mode:"),console.error("[YOLO] Error:",r),this.useSimulation=!0}else console.log("[YOLO] No model runtime available, using simulation mode"),this.useSimulation=!0;this.state=pt.WARMING,await this._warmup(),this.state=pt.READY;const n=this.useSimulation?"simulation":`${this.modelFormat} (${t})`;console.log("[YOLO] Detector ready (mode:",n,")")}catch(n){throw this.state=pt.ERROR,console.error("[YOLO] Initialization failed:",n),n}}async _warmup(){if(this.useSimulation)await new Promise(t=>setTimeout(t,300));else if(this.modelFormat==="onnx"&&this.onnxSession){const t=new Float32Array(this.inputSize*this.inputSize*3).fill(.5),n=new window.ort.Tensor("float32",t,[1,3,this.inputSize,this.inputSize]);await this.onnxSession.run({images:n})}else if(this.modelFormat==="tfjs"&&this.model){const t=window.tf.zeros([1,this.inputSize,this.inputSize,3]);await this.model.predict(t),t.dispose()}this._warmupComplete=!0}async detect(t){return this.state!==pt.READY?[]:this.useSimulation?this._simulatedDetect(t):this.modelFormat==="onnx"?this._onnxDetect(t):this._tfjsDetect(t)}async _onnxDetect(t){const n=t.width||t.videoWidth,r=t.height||t.videoHeight,l=Math.min(this.inputSize/n,this.inputSize/r),o=Math.round(n*l),s=Math.round(r*l),i=(this.inputSize-o)/2,a=(this.inputSize-s)/2,c=document.createElement("canvas");c.width=this.inputSize,c.height=this.inputSize;const m=c.getContext("2d");m.fillStyle="#727272",m.fillRect(0,0,this.inputSize,this.inputSize),m.drawImage(t,0,0,n,r,i,a,o,s);const g=m.getImageData(0,0,this.inputSize,this.inputSize).data,x=new Float32Array(3*this.inputSize*this.inputSize);for(let N=0;N<this.inputSize*this.inputSize;N++)x[N]=g[N*4]/255,x[this.inputSize*this.inputSize+N]=g[N*4+1]/255,x[2*this.inputSize*this.inputSize+N]=g[N*4+2]/255;const k=new window.ort.Tensor("float32",x,[1,3,this.inputSize,this.inputSize]),v=await this.onnxSession.run({images:k}),h=(v.output0||v[Object.keys(v)[0]]).data,d=[],f=8400;for(let N=0;N<f;N++){const j=h[4*f+N];if(j>=this.confidenceThreshold){const P=(h[0*f+N]-i)/l,R=(h[1*f+N]-a)/l,H=h[2*f+N]/l,b=h[3*f+N]/l,ne=h[5*f+N],B=this._cropRotated(t,P,R,H,b,ne);d.push({box:{cx:P,cy:R,w:H,h:b,angle:ne},confidence:j,cropCanvas:B})}}console.log(`[YOLO] Raw detections before NMS: ${d.length}, threshold: ${this.confidenceThreshold}`),d.length>0&&console.log("[YOLO] Top 5 confidences:",d.map(N=>N.confidence.toFixed(3)).slice(0,5));const y=this._nmsOBB(d);return console.log(`[YOLO] After NMS: ${y.length} detections`),y}async _tfjsDetect(t){const n=window.tf,r=t.width||t.videoWidth,l=t.height||t.videoHeight,o=Math.min(this.inputSize/r,this.inputSize/l),s=Math.round(r*o),i=Math.round(l*o),a=(this.inputSize-s)/2,c=(this.inputSize-i)/2,m=n.tidy(()=>{let v=n.browser.fromPixels(t);v=n.image.resizeBilinear(v,[i,s]),v=v.toFloat().div(255);const C=Math.floor(c),h=this.inputSize-i-C,d=Math.floor(a),f=this.inputSize-s-d;return v=n.pad(v,[[C,h],[d,f],[0,0]],.4470588),v.expandDims(0)}),p=await this.model.predict(m);m.dispose();const g=await p.data();p.dispose();const x=[],k=8400;for(let v=0;v<k;v++){const C=g[4*k+v];if(C>=this.confidenceThreshold){const h=(g[0*k+v]-a)/o,d=(g[1*k+v]-c)/o,f=g[2*k+v]/o,y=g[3*k+v]/o,N=g[5*k+v],j=this._cropRotated(t,h,d,f,y,N);x.push({box:{cx:h,cy:d,w:f,h:y,angle:N},confidence:C,cropCanvas:j})}}return this._nmsOBB(x)}_simulatedDetect(t){const n=t instanceof HTMLCanvasElement?t:this._videoToCanvas(t),r=n.getContext("2d"),{width:l,height:o}=n,s=.716,i=l*.55,a=i/s,c=l/2,m=o/2,p=Math.floor(c-i/2),g=Math.floor(m-a/2),x=Math.floor(i),k=Math.floor(a);if(x<=0||k<=0)return[];try{const v=r.getImageData(Math.max(0,p),Math.max(0,g),Math.min(x,l-p),Math.min(k,o-g)),{variance:C,edgeDensity:h}=this._analyzeRegion(v);if(C>800&&h>.05){const d=document.createElement("canvas");return d.width=x,d.height=k,d.getContext("2d").putImageData(v,0,0),[{box:{cx:c,cy:m,w:i,h:a,angle:0},confidence:Math.min(.95,.5+C/5e3+h*2),cropCanvas:d}]}}catch{}return[]}_analyzeRegion(t){const n=t.data,r=n.length/4;let l=0,o=0,s=0;for(let C=0;C<n.length;C+=4)l+=n[C],o+=n[C+1],s+=n[C+2];const i=l/r,a=o/r,c=s/r;let m=0;for(let C=0;C<n.length;C+=4)m+=(n[C]-i)**2,m+=(n[C+1]-a)**2,m+=(n[C+2]-c)**2;m/=r*3;const p=t.width;let g=0;const x=4;for(let C=0;C<t.height;C+=x)for(let h=1;h<p;h+=x){const d=(C*p+h)*4,f=(C*p+h-1)*4;Math.abs(n[d]-n[f])+Math.abs(n[d+1]-n[f+1])+Math.abs(n[d+2]-n[f+2])>80&&g++}const k=Math.ceil(t.height/x)*Math.ceil((p-1)/x),v=g/k;return{variance:m,edgeDensity:v}}_cropRotated(t,n,r,l,o,s){const i=Math.sqrt(t.width*t.width+t.height*t.height),a=document.createElement("canvas");a.width=Math.ceil(i),a.height=Math.ceil(i);const c=a.getContext("2d"),m=a.width/2,p=a.height/2;c.translate(m,p),c.rotate(-s),c.drawImage(t,-n,-r);const g=document.createElement("canvas");return g.width=Math.round(l),g.height=Math.round(o),g.getContext("2d").drawImage(a,m-l/2,p-o/2,l,o,0,0,l,o),g}_nmsOBB(t){if(t.length<=1)return t;t.sort((r,l)=>l.confidence-r.confidence);const n=[];for(const r of t){let l=!1;for(const o of n)if(this._computeOBBIoU(r.box,o.box)>this.iouThreshold){l=!0;break}l||n.push(r)}return n}_computeOBBIoU(t,n){const r=Math.max(t.cx-t.w/2,n.cx-n.w/2),l=Math.max(t.cy-t.h/2,n.cy-n.h/2),o=Math.min(t.cx+t.w/2,n.cx+n.w/2),s=Math.min(t.cy+t.h/2,n.cy+n.h/2),i=Math.max(0,o-r)*Math.max(0,s-l),a=t.w*t.h,c=n.w*n.h,m=a+c-i;return m>0?i/m:0}_videoToCanvas(t){const n=document.createElement("canvas");return n.width=t.videoWidth,n.height=t.videoHeight,n.getContext("2d").drawImage(t,0,0),n}dispose(){this.model&&(this.model.dispose(),this.model=null),this.onnxSession&&(this.onnxSession=null),this.state=pt.UNLOADED}getStatus(){return{state:this.state,useSimulation:this.useSimulation,modelFormat:this.modelFormat,modelPreference:this.modelPreference,hasOnnxRuntime:typeof window<"u"&&!!window.ort,hasTensorflowJS:typeof window<"u"&&!!window.tf,confidenceThreshold:this.confidenceThreshold,warmupComplete:this._warmupComplete}}}let Jo=null;function Dd(){return Jo||(Jo=new Bp),Jo}const Vp=["Set Code","Collector Number","Quantity","Price"];function es(e){const t=String(e);return t.includes(",")||t.includes('"')||t.includes(`
`)||t.includes("\r")?`"${t.replace(/"/g,'""')}"`:t}function Qp(e){var n;const t=[Vp.join(";")];for(const r of e){const l=r.cardData.set||"",o=r.cardData.collectorNumber||"",s=((n=r.priceData)==null?void 0:n.avgPrice)!=null?r.priceData.avgPrice:"",i=[es(l),es(o),r.quantity||1,es(s)];t.push(i.join(";"))}return t.join(`\r
`)}function zd(e,t=null){if(!e||e.length===0)return console.warn("[CSV] No cards to export"),!1;const n=Qp(e),r="\uFEFF",l=new Blob([r+n],{type:"text/csv;charset=utf-8;"}),o=new Date().toISOString().slice(0,10),s=t||`pokemon-scan-${o}.csv`,i=document.createElement("a");return i.href=URL.createObjectURL(l),i.download=s,i.style.display="none",document.body.appendChild(i),i.click(),setTimeout(()=>{URL.revokeObjectURL(i.href),document.body.removeChild(i)},100),!0}function Id(e){var n,r;const t=[];for(let l=0;l<e.length;l++){const o=e[l];(n=o.cardData)!=null&&n.set||t.push(`Row ${l+1}: Missing set code`),(r=o.cardData)!=null&&r.collectorNumber||t.push(`Row ${l+1}: Missing collector number`),(!o.quantity||o.quantity<1)&&t.push(`Row ${l+1}: Invalid quantity`)}return{valid:t.length===0,errors:t}}const Yp="modulepreload",qp=function(e){return"/poke-scanner/"+e},su={},Od=function(t,n,r){let l=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),i=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));l=Promise.allSettled(n.map(a=>{if(a=qp(a),a in su)return;su[a]=!0;const c=a.endsWith(".css"),m=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${m}`))return;const p=document.createElement("link");if(p.rel=c?"stylesheet":Yp,c||(p.as="script"),p.crossOrigin="",p.href=a,i&&p.setAttribute("nonce",i),document.head.appendChild(p),c)return new Promise((g,x)=>{p.addEventListener("load",g),p.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${a}`)))})}))}function o(s){const i=new Event("vite:preloadError",{cancelable:!0});if(i.payload=s,window.dispatchEvent(i),!i.defaultPrevented)throw s}return l.then(s=>{for(const i of s||[])i.status==="rejected"&&o(i.reason);return t().catch(o)})};let ts=null;function Gp(){return ts||(console.log("[PriceAdapter] Using LOCAL file-based price API"),ts=Od(()=>import("./priceApiLocal-C7uB8OeC.js"),[])),ts}async function fn(e,t){return(await Gp()).fetchCardPrice(e,t)}function Xp(e){for(let t=0;t<3;t++){const n=new Uint32Array(256);for(let s=t;s<e.length;s+=4)n[e[s]]++;const r=new Uint32Array(256);r[0]=n[0];for(let s=1;s<256;s++)r[s]=r[s-1]+n[s];let l=0;for(let s=0;s<256;s++)if(r[s]>0){l=r[s];break}const o=e.length/4-l;if(o>0)for(let s=t;s<e.length;s+=4)e[s]=(r[e[s]]-l)*255/o+.5|0}}function iu(e,t){const n=e.width,r=e.height,l=document.createElement("canvas");l.width=n,l.height=r;const o=l.getContext("2d");o.drawImage(e,0,0);const s=o.getImageData(0,0,n,r);Xp(s.data),o.putImageData(s,0,0);const i=document.createElement("canvas");i.width=t,i.height=t,i.getContext("2d").drawImage(l,0,0,t,t);const a=i.getContext("2d").getImageData(0,0,t,t).data,c=new Float32Array(t*t*3);for(let m=0,p=0;m<a.length;m+=4)c[p++]=a[m]/255,c[p++]=a[m+1]/255,c[p++]=a[m+2]/255;return c}function au(e,t){let n=0,r=0,l=0;for(let s=0;s<e.length;s++)n+=e[s]*t[s],r+=e[s]*e[s],l+=t[s]*t[s];const o=Math.sqrt(r)*Math.sqrt(l);return o>0?n/o:0}function Kp(e){const t=document.createElement("canvas");t.width=e.height,t.height=e.width;const n=t.getContext("2d");return n.translate(t.width/2,t.height/2),n.rotate(Math.PI/2),n.drawImage(e,-e.width/2,-e.height/2),t}function Zp(e,t,n,r,l,o){const s=Math.sqrt(r*r+l*l),i=Math.ceil(s)+4,a=document.createElement("canvas");a.width=i,a.height=i;const c=a.getContext("2d"),m=i/2,p=i/2;c.translate(m,p),c.rotate(-o),c.drawImage(e,-t,-n);const g=document.createElement("canvas");if(g.width=Math.round(r),g.height=Math.round(l),g.getContext("2d").drawImage(a,m-r/2,p-l/2,r,l,0,0,r,l),r>l){const x=document.createElement("canvas");x.width=Math.round(l),x.height=Math.round(r);const k=x.getContext("2d");return k.translate(x.width/2,x.height/2),k.rotate(Math.PI/2),k.drawImage(g,-g.width/2,-g.height/2),x}return g}const uu=.05,Jp=.95,cu=.05,e0=.95;function du(e){const t=e.width,n=e.height,r=Math.round(t*cu),l=Math.round(n*uu),o=Math.round(t*(e0-cu)),s=Math.round(n*(Jp-uu)),i=document.createElement("canvas");return i.width=o,i.height=s,i.getContext("2d").drawImage(e,r,l,o,s,0,0,o,s),i}function t0(e,t,n=null){var p,g;if(!t||!t.cards||t.cards.length===0)return null;const r=n?t.cards.filter(x=>x.code===n):t.cards;if(r.length===0)return console.warn(`[ScanTab] No cards found for series: ${n}`),null;const l=du(e),o=du(Kp(e)),s=iu(l,t.gridSize),i=iu(o,t.gridSize),a=[];for(const x of r){const k=au(s,x.f),v=au(i,x.f);a.push({card:x,sim:Math.max(k,v)})}a.sort((x,k)=>k.sim-x.sim);const c=x=>({id:x.card.id,name:x.card.name,collectorNumber:(x.card.code||"").split("/")[0].includes("-")?(x.card.code||"").split("/")[0].split("-").slice(1).join("-"):String(x.card.number).padStart(3,"0"),code:x.card.code,set:x.card.set,setName:x.card.setName,rarity:x.card.rarity,sim:(x.sim*100).toFixed(1),similarity:x.sim}),m=a.slice(0,3).map(c);return{card:((p=a[0])==null?void 0:p.card)||null,similarity:((g=a[0])==null?void 0:g.sim)||0,top3:m}}function fu(e){var r,l,o,s;if(e.activeCardData)return{id:e.activeCardData.id,name:e.activeCardData.name,collectorNumber:e.activeCardData.collectorNumber,code:e.activeCardData.code,set:e.activeCardData.set,setName:e.activeCardData.setName,rarity:e.activeCardData.rarity};const t=(l=(r=e.matchResult)==null?void 0:r.card)==null?void 0:l.id;if(!t)return null;const n=(s=(o=e.matchResult)==null?void 0:o.top3)==null?void 0:s.find(i=>i.id===t);return n?{id:n.id,name:n.name,collectorNumber:n.collectorNumber,code:n.code,set:n.set,setName:n.setName,rarity:n.rarity}:null}const ns=2048;function n0(e){const t=e.naturalWidth,n=e.naturalHeight;if(t<=ns&&n<=ns)return e;const r=ns/Math.max(t,n),l=Math.round(t*r),o=Math.round(n*r),s=document.createElement("canvas");s.width=l,s.height=o,s.getContext("2d").drawImage(e,0,0,l,o);const i=new Image;return i.src=s.toDataURL("image/png"),i.width=l,i.height=o,i}function hu(e){const t=e.similarity||e.confidence||1;return{matchResult:{card:{id:e.cardData.id},similarity:t,top3:[{id:e.cardData.id,name:e.cardData.name,collectorNumber:e.cardData.collectorNumber,code:e.cardData.code,set:e.cardData.set,setName:e.cardData.setName,rarity:e.cardData.rarity,sim:(t*100).toFixed(1),similarity:t}]},cropCanvas:null,confidence:e.confidence||1,priceData:e.priceData}}function r0({camera:e,detection:t,liveDetections:n,onSnapScan:r,pendingCards:l,onConfirmPending:o,onConfirmAllPending:s,onRemovePending:i,onClearPending:a,onAddCardToExport:c,onAddCardsToExport:m,showNotification:p,minConfidence:g,onUpdateMinConfidence:x,autoScanEnabled:k,onToggleAutoScan:v,uploadedImage:C,setUploadedImage:h,fileName:d,setFileName:f,uploadDetections:y,setUploadDetections:N,selectedDetection:j,setSelectedDetection:P,checkedDetectionIndices:R,setCheckedDetectionIndices:H,cropArea:b,onCropAreaChange:ne,cropEnabled:B,onToggleCrop:re}){const[te,ce]=w.useState("camera"),[T,de]=w.useState(!1),[M,S]=w.useState(new Set),[O,F]=w.useState(0),[Y,ie]=w.useState(!1),A=w.useRef([]),W=w.useRef([]),q=w.useRef(null),U=l.reduce((E,L)=>E+L.quantity,0);w.useEffect(()=>{S(E=>{if(E.size===0)return E;const L=new Set([...E].filter(z=>z<l.length));return L.size===E.size?E:L})},[l.length]);const We=w.useCallback(E=>{S(L=>{const z=new Set(L);return z.has(E)?z.delete(E):z.add(E),z})},[]),Be=w.useCallback(()=>{const E=[...M].sort((L,z)=>z-L);for(const L of E)o(L);S(new Set)},[M,o]),sn=w.useCallback(E=>{const L=e.isActive;e.stopCamera(),ce(E),E==="camera"&&L&&e.startCamera()},[e]);w.useEffect(()=>{if(j==null)return;const E=setTimeout(()=>{for(const L of[W,A]){const z=L.current[j];if(z&&z.offsetParent!==null){z.scrollIntoView({behavior:"smooth",block:"center"});break}}},150);return()=>clearTimeout(E)},[j]);const jn=w.useCallback(E=>{f(E.name),N([]),P(null),H(new Set),F(0);const L=new Image;L.onload=()=>{q.current=L;const z=n0(L);z===L?(h(L),ut(L)):z.onload=()=>{h(z),ut(z)}},L.src=URL.createObjectURL(E)},[]),ut=async E=>{ie(!0),N([]),H(new Set);try{const L=document.createElement("canvas");L.width=E.naturalWidth,L.height=E.naturalHeight,L.getContext("2d").drawImage(E,0,0);const z=Dd();if(z.state!=="ready"){p("Detector not ready","error"),ie(!1);return}const ae=await z.detect(L);if(console.log(`[ScanTab] YOLO returned ${(ae==null?void 0:ae.length)||0} detections`),!ae||ae.length===0){p("No cards detected in the image","info"),ie(!1);return}console.log("[ScanTab] Detection boxes:",ae.map((oe,ct)=>({index:ct,confidence:oe.confidence.toFixed(3),box:{cx:oe.box.cx.toFixed(1),cy:oe.box.cy.toFixed(1),w:oe.box.w.toFixed(1),h:oe.box.h.toFixed(1),angle:(oe.box.angle*180/Math.PI).toFixed(1)+""}})));const je=q.current||E,vt=je.naturalWidth||je.width,Xe=E.naturalWidth||E.width,At=vt/Xe,wt=So(),an=[];for(const oe of ae){const ct=Zp(je,oe.box.cx*At,oe.box.cy*At,oe.box.w*At,oe.box.h*At,oe.box.angle);let Et=null;wt.ready&&(Et=t0(ct,wt));const Rn=ct.toDataURL("image/jpeg",.85);an.push({cx:oe.box.cx,cy:oe.box.cy,w:oe.box.w,h:oe.box.h,angle:oe.box.angle,confidence:oe.confidence,cropCanvas:Rn,matchResult:Et,priceData:null})}an.forEach((oe,ct)=>{if(oe.matchResult&&oe.matchResult.top3&&oe.matchResult.top3.length>0){const Et=oe.matchResult.top3[0],Rn=Et.code,Jr=Et.collectorNumber||String(Et.number||"");fn(Rn,Jr).then(un=>{un&&N($d=>{const el=[...$d];return el[ct]&&(el[ct]={...el[ct],priceData:un}),el})}).catch(un=>{console.error(`[ScanTab] Error fetching price for detection ${ct}:`,un)})}});const Zr=wt.ready?an.filter(oe=>oe.matchResult&&oe.matchResult.similarity>=g):an,qi=!0,_n=qi?an:Zr;console.log(`[ScanTab] Total detections: ${an.length}, Matched: ${Zr.length}, Showing: ${_n.length}`),wt.ready&&console.log("[ScanTab] Match results:",an.map((oe,ct)=>{var Et,Rn,Jr,un;return{index:ct,matched:((Rn=(Et=oe.matchResult)==null?void 0:Et.card)==null?void 0:Rn.name)||"none",similarity:((un=(Jr=oe.matchResult)==null?void 0:Jr.similarity)==null?void 0:un.toFixed(3))||"N/A",threshold:g}})),N(_n),_n.length>0&&(p(`${_n.length} detection${_n.length!==1?"s":""} (${Zr.length} matched)`,qi&&Zr.length<_n.length?"info":"success"),P(0))}catch(L){console.error("[ScanTab] Detection error:",L),p("Error during detection","error")}ie(!1)},ir=()=>{h(null),f(""),N([]),P(null),H(new Set),F(0),q.current=null},$t=w.useCallback(E=>{if(!q.current)return;const L=E==="left"?(O-90+360)%360:(O+90)%360;F(L);const z=q.current,ae=L*Math.PI/180,je=z.naturalWidth||z.width,vt=z.naturalHeight||z.height,Xe=document.createElement("canvas");L%180===0?(Xe.width=je,Xe.height=vt):(Xe.width=vt,Xe.height=je);const At=Xe.getContext("2d");At.translate(Xe.width/2,Xe.height/2),At.rotate(ae),At.drawImage(z,-je/2,-vt/2);const wt=new Image;wt.onload=()=>{h(wt),q.current=wt,N([]),P(null),H(new Set),ut(wt)},wt.src=Xe.toDataURL()},[O]),En=w.useCallback(()=>{if(!e.isActive){p("Camera is not active","error");return}const E=e.captureFrame(B&&b?b:null);if(!E){p("Failed to capture screenshot","error");return}const L=E.toDataURL("image/png"),z=new Image;z.onload=()=>{const ae=new Date().toISOString().replace(/[:.]/g,"-").slice(0,-5);f(`camera-${ae}.png`),h(z),q.current=z,ce("upload"),setTimeout(()=>{ut(z)},100),p("Screenshot captured","success")},z.src=L},[e,p,ut,B,b,f,h,ce]),bt=w.useCallback(()=>{B||ne({x:20,y:20,width:60,height:60}),re(!B)},[B,ne,re]),I=w.useCallback(E=>{c(E)},[c]),$=w.useCallback(E=>{H(L=>{const z=new Set(L);return z.has(E)?z.delete(E):z.add(E),z})},[]),K=w.useCallback(()=>{const E=y.map((L,z)=>L.matchResult&&L.matchResult.similarity>.55?z:-1).filter(L=>L>=0);R.size===E.length?H(new Set):H(new Set(E))},[y,R]),V=w.useCallback(()=>{var L;const E=[];for(const z of R){const ae=y[z];if(!((L=ae==null?void 0:ae.matchResult)!=null&&L.card))continue;const je=fu(ae);je&&E.push(je)}E.length>0&&m(E),H(new Set)},[R,y,m]),G=w.useCallback(()=>{var ae;const E=[];for(const je of R){const vt=y[je];if(!((ae=vt==null?void 0:vt.matchResult)!=null&&ae.card))continue;const Xe=fu(vt);Xe&&E.push({cardData:Xe,quantity:1})}if(E.length===0){p("Select at least one card","error");return}const{valid:L,errors:z}=Id(E);if(!L){p(`Error: ${z[0]}`,"error");return}zd(E),p(`CSV exported  ${E.length} cards`,"success")},[R,y,p]),Z=w.useCallback((E,L)=>{N(z=>{const ae=[...z];return ae[E]={...ae[E],activeCardData:L,priceData:null},ae}),L&&L.set&&L.collectorNumber&&fn(L.set,L.collectorNumber).then(z=>{z&&N(ae=>{const je=[...ae];return je[E]&&(je[E]={...je[E],priceData:z}),je})}).catch(z=>{console.error(`[ScanTab] Error fetching price for detection ${E}:`,z)})},[]),Q=y.filter(E=>E.matchResult&&E.matchResult.similarity>.55).length,J=Q>0&&R.size===Q,pe=Q>0&&u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("button",{onClick:K,className:"btn-ghost text-xs py-1.5 px-2.5 rounded-xl",children:[J?u.jsx(Rd,{className:"w-3.5 h-3.5 text-gold-400"}):u.jsx(Td,{className:"w-3.5 h-3.5"}),J?"Deselect":"Select all"]}),u.jsx("div",{className:"flex-1"}),R.size>0&&u.jsxs(u.Fragment,{children:[u.jsxs("button",{onClick:V,className:"btn-primary text-xs py-1.5 px-3 rounded-xl",children:[u.jsx(no,{className:"w-3.5 h-3.5"}),"Add (",R.size,")"]}),u.jsxs("button",{onClick:G,className:"btn-secondary text-xs py-1.5 px-3 rounded-xl",children:[u.jsx(Vi,{className:"w-3.5 h-3.5"}),"CSV"]})]})]}),Ce=E=>u.jsx("div",{className:"space-y-2",children:y.map((L,z)=>{const ae=rr[z%rr.length];return u.jsx("div",{ref:je=>{E&&(E.current[z]=je)},children:u.jsx(Ko,{detection:L,index:z,onAddToScanner:I,isChecked:R.has(z),onToggleCheck:()=>$(z),onMatchChange:Z,color:ae,isSelected:j===z,onSelect:()=>P(j===z?null:z)})},z)})}),ke=u.jsxs("div",{className:"flex gap-1 p-1 rounded-xl bg-rift-800/80 backdrop-blur-md border border-rift-600/30 w-fit flex-shrink-0",children:[u.jsxs("button",{onClick:()=>sn("camera"),className:`flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-xs font-medium transition-colors ${te==="camera"?"bg-gold-400/20 text-gold-400 border border-gold-400/30":"text-rift-400 hover:text-rift-200 border border-transparent"}`,children:[u.jsx(to,{className:"w-3.5 h-3.5"}),"Camera"]}),u.jsxs("button",{onClick:()=>sn("upload"),className:`flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-xs font-medium transition-colors ${te==="upload"?"bg-gold-400/20 text-gold-400 border border-gold-400/30":"text-rift-400 hover:text-rift-200 border border-transparent"}`,children:[u.jsx(ro,{className:"w-3.5 h-3.5"}),"Upload"]})]});if(te==="camera")return u.jsxs("div",{className:"flex-1 relative overflow-hidden lg:flex lg:flex-row",children:[u.jsxs("div",{className:"absolute inset-0 lg:relative lg:flex-1",children:[u.jsx(Ip,{videoRef:e.videoRef,isActive:e.isActive,error:e.error,isProcessing:t.isProcessing,lastDetection:t.lastDetection,liveDetections:n,onStartCamera:e.startCamera,onStopCamera:e.stopCamera,onToggleFacing:e.toggleFacing,onSnapScan:r,detectorState:t.detectorState,hasTorch:e.hasTorch,torchOn:e.torchOn,onToggleTorch:e.toggleTorch,autoScanEnabled:k,onToggleAutoScan:v,onTakeScreenshot:En,cropArea:B?b:null,onCropAreaChange:ne,cropEnabled:B,onToggleCrop:bt}),u.jsx("div",{className:"absolute top-3 left-3 right-16 z-10",children:ke}),!T&&U>0&&u.jsx(Op,{count:U,uniqueCount:l.length,onTap:()=>de(!0)})]}),l.length>0&&T&&u.jsx("div",{className:"absolute inset-0 bg-black/40 z-20 backdrop-blur-sm lg:hidden transition-opacity duration-300 fade-in",onClick:()=>de(!1)}),l.length>0&&u.jsxs("div",{className:"absolute bottom-0 left-0 right-0 z-30 bg-rift-800/95 backdrop-blur-xl border-t border-rift-600/30 rounded-t-2xl transition-[height] duration-300 ease-out flex flex-col lg:hidden",style:{height:T?"50dvh":56},children:[u.jsxs("button",{onClick:()=>de(E=>!E),className:"flex items-center justify-between px-4 py-3 flex-shrink-0",children:[u.jsx("div",{className:"absolute top-1.5 left-1/2 -translate-x-1/2 w-10 h-1 rounded-full bg-rift-500/60"}),u.jsxs("span",{className:"text-sm font-semibold text-gold-400 mt-1",children:[U," pending"]}),u.jsxs("div",{className:"flex items-center gap-4 mt-1",children:[M.size>0?u.jsxs("button",{onClick:E=>{E.stopPropagation(),Be()},className:"btn-primary text-xs py-2 px-4 rounded-lg",children:[u.jsx(yl,{className:"w-4 h-4"}),"Add (",M.size,")"]}):u.jsxs("button",{onClick:E=>{E.stopPropagation(),s()},className:"btn-primary text-xs py-2 px-4 rounded-lg",children:[u.jsx(yl,{className:"w-4 h-4"}),"Add all"]}),u.jsx("button",{onClick:E=>{E.stopPropagation(),a()},className:"btn-ghost text-xs py-2 px-3 rounded-lg text-red-400 hover:text-red-300 hover:bg-red-400/10",children:u.jsx(Qr,{className:"w-4 h-4"})})]})]}),T&&u.jsx("div",{className:"flex-1 min-h-0 overflow-y-auto px-3 pb-3 space-y-2",children:l.map((E,L)=>u.jsx(Ko,{detection:hu(E),index:L,onAddToScanner:z=>o({index:L,...z}),onRemove:()=>i(L),quantity:E.quantity,isChecked:M.has(L),onToggleCheck:()=>We(L)},`${E.cardData.id}-${E.scanTimestamp}`))})]}),u.jsxs("div",{className:"hidden lg:flex flex-col w-[450px] flex-shrink-0 border-l border-rift-600/30 bg-rift-800/95 backdrop-blur-xl",children:[u.jsxs("div",{className:"flex items-center gap-2 px-4 py-3 flex-shrink-0 border-b border-rift-600/20",children:[u.jsxs("h3",{className:"text-xs font-semibold text-gold-400 flex-1",children:["Pending (",l.length,")"]}),l.length>0&&u.jsxs(u.Fragment,{children:[M.size>0?u.jsxs("button",{onClick:Be,className:"btn-primary text-xs py-2 px-4 rounded-lg",children:[u.jsx(yl,{className:"w-4 h-4"}),"Add (",M.size,")"]}):u.jsxs("button",{onClick:s,className:"btn-primary text-xs py-2 px-4 rounded-lg",children:[u.jsx(yl,{className:"w-4 h-4"}),"Add all"]}),u.jsx("button",{onClick:a,className:"btn-ghost text-xs py-2 px-3 rounded-lg text-red-400 hover:text-red-300 hover:bg-red-400/10",children:u.jsx(Qr,{className:"w-4 h-4"})})]})]}),u.jsx("div",{className:"flex-1 min-h-0 overflow-y-auto px-3 py-2 space-y-2",children:l.length===0?u.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[u.jsx("p",{className:"text-sm text-rift-400",children:"No pending cards"}),u.jsx("p",{className:"text-xs text-rift-500 mt-1",children:"Point the camera at a card to start"})]}):l.map((E,L)=>u.jsx(Ko,{detection:hu(E),index:L,onAddToScanner:z=>o({index:L,...z}),onRemove:()=>i(L),quantity:E.quantity,isChecked:M.has(L),onToggleCheck:()=>We(L)},`${E.cardData.id}-${E.scanTimestamp}`))})]})]},"camera");const be=y.length>0?u.jsxs("div",{className:"flex-1 min-h-0 overflow-y-auto px-4 py-3 space-y-3",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("h2",{className:"text-sm font-semibold text-rift-100",children:["Results (",y.length,")"]}),u.jsxs("button",{onClick:()=>ut(C),disabled:Y,className:"btn-ghost text-xs py-1 px-2 rounded-lg",children:[u.jsx(Go,{className:"w-3 h-3"}),"Re-detect"]})]}),pe,Ce(W)]}):u.jsx("div",{className:"flex-1 flex items-center justify-center",children:u.jsxs("div",{className:"text-center py-12",children:[u.jsx("p",{className:"text-sm text-rift-400",children:"No results yet"}),u.jsx("p",{className:"text-xs text-rift-500 mt-1",children:"Upload an image to detect cards"})]})});return u.jsxs("div",{className:"flex-1 relative overflow-hidden lg:flex lg:flex-row",children:[u.jsx("div",{className:"absolute top-3 left-3 z-10",children:ke}),u.jsx("div",{className:"h-full overflow-y-auto pb-4 lg:flex-1 lg:min-w-0 flex flex-col",children:u.jsxs("div",{className:`px-4 pt-14 pb-4 ${C?"flex-1 flex flex-col min-h-0":"flex-1 flex flex-col"}`,children:[C?u.jsxs("div",{className:"flex-1 flex flex-col gap-3 min-h-0",children:[u.jsxs("div",{className:"flex items-center justify-between flex-shrink-0",children:[u.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[u.jsx(ko,{className:"w-4 h-4 text-gold-400 flex-shrink-0"}),u.jsx("span",{className:"text-xs text-rift-300 truncate",children:d})]}),u.jsxs("div",{className:"flex items-center gap-1.5",children:[u.jsx("button",{onClick:()=>$t("left"),className:"btn-ghost text-xs py-1.5 px-2 rounded-xl flex-shrink-0",title:"Rotate left",children:u.jsx(Go,{className:"w-3.5 h-3.5"})}),u.jsx("button",{onClick:()=>$t("right"),className:"btn-ghost text-xs py-1.5 px-2 rounded-xl flex-shrink-0",title:"Rotate right",children:u.jsx(Pd,{className:"w-3.5 h-3.5"})}),u.jsxs("button",{onClick:ir,className:"btn-ghost text-xs py-1.5 px-3 rounded-xl flex-shrink-0",children:[u.jsx(ro,{className:"w-3.5 h-3.5"}),"New"]})]})]}),u.jsx(zp,{image:C,detections:y,selectedIndex:j,onSelectDetection:E=>P(E)}),Y&&u.jsxs("div",{className:"flex items-center justify-center gap-2 py-4 flex-shrink-0",children:[u.jsx(Ep,{className:"w-5 h-5 text-gold-400 animate-spin"}),u.jsx("span",{className:"text-sm text-rift-300",children:"Detecting cards..."})]})]}):u.jsx("div",{className:"flex-1 flex items-center justify-center",children:u.jsx($p,{onImageSelected:jn,isProcessing:Y})}),y.length>0&&u.jsxs("div",{className:"space-y-3 lg:hidden",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("h2",{className:"text-sm font-semibold text-rift-100",children:["Results (",y.length,")"]}),u.jsxs("button",{onClick:()=>ut(C),disabled:Y,className:"btn-ghost text-xs py-1 px-2 rounded-lg",children:[u.jsx(Go,{className:"w-3 h-3"}),"Re-detect"]})]}),pe,Ce(A)]}),C&&!Y&&y.length===0&&u.jsxs("div",{className:"text-center py-6",children:[u.jsx("p",{className:"text-sm text-rift-400",children:"No cards detected in this image"}),u.jsx("p",{className:"text-xs text-rift-500 mt-1",children:"Try with a clearer image or better lighting"})]})]})}),u.jsx("div",{className:"hidden lg:flex flex-col w-[450px] flex-shrink-0 border-l border-rift-600/30 bg-rift-800/95 backdrop-blur-xl",children:be})]},"upload")}const pu={1:{label:"",color:"text-gray-400",name:"Common"},2:{label:"",color:"text-green-400",name:"Uncommon"},3:{label:"",color:"text-blue-400",name:"Rare"},4:{label:"",color:"text-purple-400",name:"Holo Rare"},5:{label:"",color:"text-amber-400",name:"Ultra Rare"},6:{label:"",color:"text-yellow-300",name:"Secret Rare"},7:{label:"P",color:"text-pink-400",name:"Promo"},common:{label:"",color:"text-gray-400",name:"Common"},uncommon:{label:"",color:"text-green-400",name:"Uncommon"},rare:{label:"",color:"text-blue-400",name:"Rare"}},l0=w.memo(function({card:t,index:n,onUpdate:r,onRemove:l}){const{cardData:o,quantity:s,priceData:i}=t;pu[o.rarity]||pu[1];const a=(c,m)=>{r(n,{...t,[c]:m})};return u.jsx("div",{className:"rounded-xl bg-rift-700/50 border border-rift-600/20 p-3 fade-in",children:u.jsxs("div",{className:"flex gap-3",children:[u.jsx("div",{className:"w-12 h-16 rounded-lg overflow-hidden bg-rift-800 border border-rift-600/30 flex-shrink-0",children:u.jsx("img",{src:`/poke-scanner/cards/${o.id}.webp`,alt:o.name,className:"w-full h-full object-cover",loading:"lazy"})}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsxs("div",{className:"flex items-start gap-2 mb-2",children:[u.jsx("div",{className:"flex items-center gap-1.5 pt-0.5"}),u.jsxs("h4",{className:"flex-1 text-sm font-semibold text-rift-100 truncate pt-0.5",children:[o.name," ",o.set," ",o.collectorNumber]}),u.jsx("button",{onClick:()=>l(n),className:"p-1 rounded-lg text-rift-500 hover:text-red-400 hover:bg-red-400/10 transition-colors flex-shrink-0",children:u.jsx(Qr,{className:"w-3.5 h-3.5"})})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("div",{className:"flex items-center gap-0.5",children:[u.jsx("button",{onClick:()=>a("quantity",Math.max(1,s-1)),className:"w-6 h-6 rounded-lg bg-rift-800 border border-rift-600/40 flex items-center justify-center text-rift-300 hover:bg-rift-600 transition-colors",children:u.jsx(Md,{className:"w-2.5 h-2.5"})}),u.jsx("input",{type:"text",inputMode:"numeric",value:s,onChange:c=>{const m=parseInt(c.target.value);isNaN(m)||a("quantity",Math.min(99,Math.max(1,m)))},className:"h-6 text-center text-xs font-mono bg-rift-800 border border-rift-600/40 rounded-lg text-rift-100 focus:outline-none focus:border-gold-500/60",style:{width:`${Math.max(2,String(s).length+1)}ch`}}),u.jsx("button",{onClick:()=>a("quantity",Math.min(99,s+1)),className:"w-6 h-6 rounded-lg bg-rift-800 border border-rift-600/40 flex items-center justify-center text-rift-300 hover:bg-rift-600 transition-colors",children:u.jsx(no,{className:"w-2.5 h-2.5"})})]}),i?u.jsxs("div",{className:"flex items-center gap-1 ml-auto",children:[u.jsx("span",{className:"text-[10px] text-rift-400 uppercase tracking-wider",children:"Price:"}),u.jsxs("span",{className:"text-sm font-semibold text-green-400",children:[i.avgPrice.toFixed(2)," "]})]}):u.jsx("div",{className:"flex items-center gap-1 ml-auto",children:u.jsx("span",{className:"text-[10px] text-rift-500 italic",children:"Loading price..."})})]})]})]})})});function o0({scannedCards:e,onUpdateCard:t,onRemoveCard:n,onClearAll:r,onExport:l}){const[o,s]=w.useState(""),i=w.useMemo(()=>{if(!o.trim())return e;const p=o.toLowerCase().trim();return e.filter(g=>{const x=g.cardData.name.toLowerCase(),k=g.cardData.collectorNumber.toLowerCase();return x.includes(p)||k.includes(p)})},[e,o]),a=e.reduce((p,g)=>p+g.quantity,0),c=i.reduce((p,g)=>p+g.quantity,0),m=w.useMemo(()=>{let p=0,g=0;return e.forEach(x=>{var k;(k=x.priceData)!=null&&k.avgPrice&&(p+=x.priceData.avgPrice*x.quantity,g++)}),{total:p,cardsWithPrices:g,totalCards:e.length}},[e]);return u.jsx("div",{className:"flex-1 overflow-y-auto pb-20",children:u.jsxs("div",{className:"px-4 pt-5 pb-4 space-y-4",children:[u.jsxs("div",{className:"mb-2",children:[u.jsx("h1",{className:"text-xl font-display font-bold text-rift-100",children:"Collection"}),u.jsx("p",{className:"text-xs text-rift-400 mt-1",children:"Your scanned cards ready for export"})]}),u.jsxs("div",{className:"relative",children:[u.jsx(Wn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-rift-500 pointer-events-none"}),u.jsx("input",{type:"text",value:o,onChange:p=>s(p.target.value),placeholder:"Search by name or number...",className:"w-full h-10 pl-9 pr-9 bg-rift-800/50 border border-rift-600/30 rounded-xl text-sm text-rift-100 placeholder-rift-500 focus:outline-none focus:border-gold-500/60 transition-colors"}),o&&u.jsx("button",{onClick:()=>s(""),className:"absolute right-2 top-1/2 -translate-y-1/2 p-1.5 rounded-lg text-rift-500 hover:text-rift-300 hover:bg-rift-700 transition-colors",children:u.jsx(Ld,{className:"w-3.5 h-3.5"})})]}),u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("span",{className:"text-sm font-semibold text-rift-100 mr-auto",children:o?c>0?`${c} card${c!==1?"s":""} (${i.length} unique)`:"No matches found":a>0?`${a} card${a!==1?"s":""} (${e.length} unique)`:"No cards yet"}),u.jsxs("button",{onClick:l,disabled:e.length===0,className:"btn-primary text-xs py-2 px-4 rounded-xl",children:[u.jsx(Vi,{className:"w-4 h-4"}),"CSV"]}),u.jsx("button",{onClick:r,disabled:e.length===0,className:"btn-ghost text-xs py-2 px-3 text-red-400 hover:text-red-300 hover:bg-red-400/10 rounded-xl disabled:opacity-30",children:u.jsx(Qr,{className:"w-4 h-4"})})]}),e.length>0&&m.total>0&&u.jsx("div",{className:"bg-gradient-to-br from-gold-500/10 to-gold-600/5 border border-gold-500/20 rounded-xl p-4",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-xs text-rift-400 mb-1",children:"Total Collection Value"}),u.jsxs("p",{className:"text-2xl font-bold text-gold-400",children:["",m.total.toFixed(2)]})]}),m.cardsWithPrices<m.totalCards&&u.jsx("div",{className:"text-right",children:u.jsxs("p",{className:"text-xs text-rift-500",children:[m.cardsWithPrices," of ",m.totalCards," priced"]})})]})}),e.length===0?u.jsxs("div",{className:"flex flex-col items-center justify-center py-16 text-center",children:[u.jsx(Qi,{className:"w-10 h-10 text-rift-600 mb-3"}),u.jsx("p",{className:"text-sm text-rift-400",children:"No cards in your collection"}),u.jsx("p",{className:"text-xs text-rift-500 mt-1",children:"Use the Scan tab to detect and add cards"})]}):i.length===0?u.jsxs("div",{className:"flex flex-col items-center justify-center py-16 text-center",children:[u.jsx(Wn,{className:"w-10 h-10 text-rift-600 mb-3"}),u.jsx("p",{className:"text-sm text-rift-400",children:"No cards match your search"}),u.jsx("p",{className:"text-xs text-rift-500 mt-1",children:"Try a different search term"})]}):u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"space-y-2",children:i.map(p=>{const g=e.findIndex(x=>x.cardData.id===p.cardData.id&&x.scanTimestamp===p.scanTimestamp);return u.jsx(l0,{card:p,index:g,onUpdate:t,onRemove:n},`${p.cardData.id}-${p.scanTimestamp}`)})}),u.jsx("p",{className:"text-[10px] text-rift-600 text-center pt-2",children:"NM = Near Mint  LP = Lightly Played  MP = Moderately Played  HP = Heavily Played  D = Damaged"})]})]})})}function s0({modelPreference:e,onUpdateModelPreference:t}){const[n,r]=w.useState(!1),l=w.useRef(null);return w.useEffect(()=>{const o=l.current;if(!o)return;const s=()=>{const i=o.scrollHeight-o.scrollTop-o.clientHeight<20;r(i)};return s(),o.addEventListener("scroll",s,{passive:!0}),()=>o.removeEventListener("scroll",s)},[]),u.jsxs("div",{ref:l,className:"flex-1 overflow-y-auto pb-20",children:[u.jsxs("div",{className:"px-4 pt-5 pb-4 space-y-4",children:[u.jsxs("div",{className:"mb-2",children:[u.jsx("h1",{className:"text-xl font-display font-bold text-rift-100",children:"Settings"}),u.jsx("p",{className:"text-xs text-rift-400 mt-1",children:"Configure app options"})]}),u.jsxs("section",{className:"rounded-2xl bg-rift-800/60 border border-rift-600/20 p-5 space-y-4",children:[u.jsxs("h2",{className:"text-sm font-semibold text-rift-100 flex items-center gap-2",children:[u.jsx(kp,{className:"w-4 h-4 text-gold-400"}),"Model Quality"]}),u.jsx("p",{className:"text-xs text-rift-400",children:"Choose between accuracy and performance. Quantized model is 75% smaller and 2-4x faster."}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("button",{onClick:()=>t("normal"),className:`w-full rounded-xl border p-3 text-left transition-all ${e==="normal"?"bg-gradient-to-r from-gold-500/20 to-gold-400/10 border-gold-400/60 text-gold-300":"bg-rift-700/40 border-rift-600/40 text-rift-300 hover:bg-rift-700 hover:border-rift-500/60"}`,children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-semibold",children:"Normal (Float32)"}),u.jsx("p",{className:"text-[10px] text-rift-400 mt-0.5",children:"Best accuracy  ~6 MB"})]}),e==="normal"&&u.jsx("div",{className:"w-2 h-2 rounded-full bg-gold-400"})]})}),u.jsx("button",{onClick:()=>t("quantized"),className:`w-full rounded-xl border p-3 text-left transition-all ${e==="quantized"?"bg-gradient-to-r from-gold-500/20 to-gold-400/10 border-gold-400/60 text-gold-300":"bg-rift-700/40 border-rift-600/40 text-rift-300 hover:bg-rift-700 hover:border-rift-500/60"}`,children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-semibold",children:"Fast (Int8 Quantized)"}),u.jsx("p",{className:"text-[10px] text-rift-400 mt-0.5",children:"2-4x faster  ~1.5 MB  <1% accuracy loss"})]}),e==="quantized"&&u.jsx("div",{className:"w-2 h-2 rounded-full bg-gold-400"})]})})]})]}),u.jsxs("section",{className:"rounded-2xl bg-rift-800/60 border border-rift-600/20 p-5 space-y-3",children:[u.jsxs("h2",{className:"text-sm font-semibold text-rift-100 flex items-center gap-2",children:[u.jsx(jp,{className:"w-4 h-4 text-gold-400"}),"About"]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-gold-400 to-gold-500 flex items-center justify-center shadow-lg shadow-gold-500/20",children:u.jsx(Yi,{className:"w-5 h-5 text-rift-900",strokeWidth:2.5})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-display font-bold text-gold-400",children:"Pokemon Scanner"}),u.jsx("p",{className:"text-[10px] text-rift-500",children:"v1.0.0"})]})]}),u.jsx("p",{className:"text-xs text-rift-400 leading-relaxed",children:"Pokemon TCG card scanner with real-time visual recognition using artificial intelligence (YOLO11 + pHash)."}),u.jsx("div",{className:"p-3 rounded-xl bg-rift-700/40 border border-rift-600/20",children:u.jsx("p",{className:"text-[10px] text-rift-500 leading-relaxed",children:`Created under Riot Games' "Legal Jibber Jabber" policy. Riot Games does not endorse or sponsor this project.`})})]})]}),n&&u.jsx("div",{className:"fixed bottom-16 right-4 pointer-events-none select-none z-10 fade-in",children:u.jsx("img",{src:"/poke-scanner/images/neko.webp",alt:"",className:"w-28 h-28 object-contain drop-shadow-lg",draggable:!1})})]})}function i0(){const e=w.useRef(null),t=w.useRef(null),[n,r]=w.useState(!1),[l,o]=w.useState(null),[s,i]=w.useState("environment"),[a,c]=w.useState(null),[m,p]=w.useState(!1),g=w.useCallback(async()=>{var d;try{if(o(null),!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)throw new Error("Camera access not available. For network access, the app must be served over HTTPS. Try accessing via https:// or use localhost instead of IP address.");t.current&&t.current.getTracks().forEach(j=>j.stop());const f={video:{facingMode:{ideal:s},width:{ideal:1280},height:{ideal:720},frameRate:{ideal:30}},audio:!1},y=await navigator.mediaDevices.getUserMedia(f);t.current=y,e.current&&(e.current.srcObject=y,await e.current.play());const N=y.getVideoTracks()[0];if(N){const j=(d=N.getCapabilities)==null?void 0:d.call(N);c(j||null)}p(!1),r(!0)}catch(f){console.error("[Camera] Error:",f),o(a0(f)),r(!1)}},[s]),x=w.useCallback(()=>{t.current&&(t.current.getTracks().forEach(d=>d.stop()),t.current=null),e.current&&(e.current.srcObject=null),p(!1),r(!1)},[]),k=w.useCallback(async()=>{var N;if(!t.current)return;const d=t.current.getVideoTracks()[0];if(!d)return;const f=(N=d.getCapabilities)==null?void 0:N.call(d);if(!(f!=null&&f.torch))return;const y=!m;try{await d.applyConstraints({advanced:[{torch:y}]}),p(y)}catch(j){console.error("[Camera] Torch error:",j)}},[m]),v=w.useCallback(()=>{i(s==="environment"?"user":"environment")},[s]);w.useEffect(()=>{n&&g()},[s]),w.useEffect(()=>()=>{t.current&&t.current.getTracks().forEach(d=>d.stop())},[]);const C=w.useCallback((d=null)=>{if(!e.current||!n)return null;const f=e.current,y=document.createElement("canvas");if(d){const N=d.x/100*f.videoWidth,j=d.y/100*f.videoHeight,P=d.width/100*f.videoWidth,R=d.height/100*f.videoHeight;y.width=P,y.height=R,y.getContext("2d").drawImage(f,N,j,P,R,0,0,P,R)}else y.width=f.videoWidth,y.height=f.videoHeight,y.getContext("2d").drawImage(f,0,0);return y},[n]),h=!!(a!=null&&a.torch);return{videoRef:e,isActive:n,error:l,facingMode:s,capabilities:a,hasTorch:h,torchOn:m,startCamera:g,stopCamera:x,toggleFacing:v,toggleTorch:k,captureFrame:C}}function a0(e){return e.name==="NotAllowedError"?"Camera permission denied. Please allow camera access in your browser settings.":e.name==="NotFoundError"?"No camera found on this device.":e.name==="NotReadableError"?"Camera is being used by another application.":e.name==="OverconstrainedError"?"Camera does not support the requested resolution.":`Camera error: ${e.message}`}function u0(){const[e,t]=w.useState(pt.UNLOADED),[n,r]=w.useState(!1),[l,o]=w.useState(null),[s,i]=w.useState([]),a=w.useRef(null),c=.6,m=w.useCallback(async(v="normal")=>{try{const C=Dd();a.current=C,t(pt.LOADING),await C.initialize(v),t(C.state)}catch(C){console.error("[Detection] Init failed:",C),t(pt.ERROR)}},[]);function p(v){if(v.width<=v.height)return v;const C=document.createElement("canvas");C.width=v.height,C.height=v.width;const h=C.getContext("2d");return h.translate(C.width/2,C.height/2),h.rotate(Math.PI/2),h.drawImage(v,-v.width/2,-v.height/2),C}function g(v,C){return C.identify(v)}function x(v){if(!v)return null;const C=(v.code||"").split("/")[0],h=C.includes("-")?C.split("-").slice(1).join("-"):String(v.number).padStart(3,"0");return{id:v.id,name:v.name,collectorNumber:h,code:v.code,set:v.set,setName:v.setName,domain:v.domain,domains:v.domains,rarity:v.rarity,type:v.type,energy:v.energy,might:v.might,tags:v.tags,illustrator:v.illustrator,text:v.text}}const k=w.useCallback(async v=>{if(n||!a.current||a.current.state!==pt.READY)return null;const C=So();if(!C.ready)return null;const h=v==null?void 0:v();if(!h)return null;r(!0),o(null);try{const d=await a.current.detect(h);if(i(d.map(R=>R.box)),d.length===0)return o(null),null;const f=d[0];let y=f.cropCanvas;y=p(y);const N=g(y,C);if(!N||N.similarity<c)return o({box:f.box,confidence:f.confidence,matched:!1}),null;const j=x(N.card);if(!j)return null;const P={cardData:j,similarity:N.similarity,confidence:f.confidence,box:f.box,matched:!0,timestamp:Date.now()};return o(P),P}catch(d){return console.error("[Detection] Frame processing error:",d),null}finally{r(!1)}},[n]);return{detectorState:e,isProcessing:n,lastDetection:l,liveDetections:s,initDetector:m,detectSingleFrame:k}}const c0=1500,d0=2;function f0({cameraIsActive:e,isProcessing:t,detectSingleFrame:n,captureFrame:r,onCardDetected:l,cropArea:o=null}){const[s,i]=w.useState(!1),a=w.useRef(null),c=w.useRef(0),m=w.useRef(null),p=w.useRef(t),g=w.useRef(n),x=w.useRef(r),k=w.useRef(l),v=w.useRef(o);w.useEffect(()=>{p.current=t},[t]),w.useEffect(()=>{g.current=n},[n]),w.useEffect(()=>{x.current=r},[r]),w.useEffect(()=>{k.current=l},[l]),w.useEffect(()=>{v.current=o},[o]),w.useEffect(()=>{if(!s||!e){m.current&&(clearInterval(m.current),m.current=null);return}return m.current=setInterval(async()=>{if(p.current)return;const d=()=>x.current(v.current),f=await g.current(d);if(!f||!f.matched){c.current++,c.current>=d0&&(a.current=null);return}c.current=0,f.cardData.id!==a.current&&(a.current=f.cardData.id,k.current(f))},c0),()=>{m.current&&(clearInterval(m.current),m.current=null)}},[s,e]),w.useEffect(()=>{!e&&s&&i(!1)},[e,s]);const C=w.useCallback(()=>{i(d=>(d||(a.current=null,c.current=0),!d))},[]),h=w.useCallback(d=>{a.current=d,c.current=0},[]);return{autoScanEnabled:s,toggleAutoScan:C,setLastCardId:h}}const me={SCANNED_CARDS:"pokemon_scanned_cards",PENDING_CARDS:"pokemon_pending_cards",MODEL_PREFERENCE:"pokemon_model_preference",UPLOAD_IMAGE:"pokemon_upload_image",UPLOAD_FILENAME:"pokemon_upload_filename",UPLOAD_DETECTIONS:"pokemon_upload_detections"};function Re(e,t){try{localStorage.setItem(e,JSON.stringify(t))}catch(n){console.warn("[Storage] Failed to save:",n)}}function Pn(e,t){try{const n=localStorage.getItem(e);return n?JSON.parse(n):t}catch(n){return console.warn("[Storage] Failed to load:",n),t}}function rs(e){if(!e||!e.naturalWidth)return null;try{const t=document.createElement("canvas");return t.width=e.naturalWidth,t.height=e.naturalHeight,t.getContext("2d").drawImage(e,0,0),t.toDataURL("image/jpeg",.9)}catch(t){return console.warn("[Storage] Failed to convert image to data URL:",t),null}}function h0(e){return new Promise((t,n)=>{if(!e){t(null);return}const r=new Image;r.onload=()=>t(r),r.onerror=()=>{console.warn("[Storage] Failed to load image from data URL"),t(null)},r.src=e})}function p0(){const[e,t]=w.useState(!0),[n,r]=w.useState(0),[l,o]=w.useState("db"),[s,i]=w.useState(()=>Pn(me.PENDING_CARDS,[])),[a,c]=w.useState(()=>Pn(me.SCANNED_CARDS,[])),[m,p]=w.useState("scan"),[g,x]=w.useState(null),[k,v]=w.useState(.8),[C,h]=w.useState(()=>Pn(me.MODEL_PREFERENCE,"quantized")),[d,f]=w.useState(null),[y,N]=w.useState(()=>Pn(me.UPLOAD_FILENAME,"")),[j,P]=w.useState(()=>Pn(me.UPLOAD_DETECTIONS,[])),[R,H]=w.useState(null),[b,ne]=w.useState(new Set);w.useEffect(()=>{(async()=>{const $=Pn(me.UPLOAD_IMAGE,null);if($){const K=await h0($);K&&f(K)}})()},[]);const B=i0(),re=u0(),te=w.useRef(m);w.useEffect(()=>{m==="scan"&&te.current!=="scan"&&B.isActive&&B.startCamera(),te.current=m},[m,B.isActive,B.startCamera]);const ce=w.useRef(null),T=w.useCallback((I,$="info")=>{x({message:I,type:$}),ce.current&&clearTimeout(ce.current),ce.current=setTimeout(()=>{x(null)},2e3)},[]),de=w.useRef(!1);w.useEffect(()=>{async function I(){try{o("model"),r(.2),await re.initDetector(C),r(.5),o("matcher"),await So().initialize(),r(.85),o("ready"),r(1),await new Promise(K=>setTimeout(K,400)),t(!1)}catch($){console.error("[App] Initialization error:",$),t(!1)}}I()},[C]),w.useEffect(()=>{if(!e&&!de.current){const I=a.length+s.length;I>0&&setTimeout(()=>{T(`Session restored  ${I} card${I!==1?"s":""} recovered`,"success")},500),de.current=!0}},[e,a.length,s.length,T]),w.useEffect(()=>{Re(me.SCANNED_CARDS,a)},[a]),w.useEffect(()=>{Re(me.PENDING_CARDS,s)},[s]),w.useEffect(()=>{Re(me.MODEL_PREFERENCE,C)},[C]),w.useEffect(()=>{const I=rs(d);Re(me.UPLOAD_IMAGE,I)},[d]),w.useEffect(()=>{Re(me.UPLOAD_FILENAME,y)},[y]),w.useEffect(()=>{Re(me.UPLOAD_DETECTIONS,j)},[j]),w.useEffect(()=>{const I=()=>{document.visibilityState==="hidden"&&(Re(me.SCANNED_CARDS,a),Re(me.PENDING_CARDS,s),Re(me.MODEL_PREFERENCE,C),Re(me.UPLOAD_IMAGE,rs(d)),Re(me.UPLOAD_FILENAME,y),Re(me.UPLOAD_DETECTIONS,j))},$=()=>{Re(me.SCANNED_CARDS,a),Re(me.PENDING_CARDS,s),Re(me.MODEL_PREFERENCE,C),Re(me.UPLOAD_IMAGE,rs(d)),Re(me.UPLOAD_FILENAME,y),Re(me.UPLOAD_DETECTIONS,j)};return document.addEventListener("visibilitychange",I),window.addEventListener("beforeunload",$),window.addEventListener("pagehide",$),()=>{document.removeEventListener("visibilitychange",I),window.removeEventListener("beforeunload",$),window.removeEventListener("pagehide",$)}},[a,s,C,d,y,j]);const M=w.useRef(k);w.useEffect(()=>{M.current=k},[k]);const S=w.useRef(null),O=w.useCallback(I=>{const{cardData:$,confidence:K,similarity:V,timestamp:G}=I;if(V<M.current)return;const Z=fn($.set,$.collectorNumber);i(Q=>{const J=Q.findIndex(pe=>pe.cardData.id===$.id);if(J>=0){const pe=[...Q];return pe[J]={...pe[J],quantity:pe[J].quantity+1},T(`${$.name}  qty +1`,"success"),pe[J].priceData||Z.then(Ce=>{Ce&&i(ke=>{const be=ke.findIndex(E=>E.cardData.id===$.id);if(be>=0){const E=[...ke];return E[be]={...E[be],priceData:Ce},E}return ke})}),pe}else{T(`+ ${$.name}`,"success");const pe={cardData:$,quantity:1,confidence:K,similarity:V,scanTimestamp:G,priceData:null};return Z.then(Ce=>{Ce&&i(ke=>{const be=ke.findIndex(E=>E.cardData.id===$.id);if(be>=0){const E=[...ke];return E[be]={...E[be],priceData:Ce},E}return ke})}),[...Q,pe]}}),navigator.vibrate&&navigator.vibrate(50)},[T]),[F,Y]=w.useState(null),[ie,A]=w.useState(!1),W=f0({cameraIsActive:B.isActive,isProcessing:re.isProcessing,detectSingleFrame:re.detectSingleFrame,captureFrame:B.captureFrame,onCardDetected:O,cropArea:ie?F:null}),q=w.useCallback(async()=>{if(!B.isActive||re.isProcessing)return;const I=await re.detectSingleFrame(B.captureFrame);I&&I.matched?(O(I),W.setLastCardId(I.cardData.id)):T("No card detected  try again","info")},[B.isActive,B.captureFrame,re,O,T,W]),U=w.useCallback(async I=>{const $=typeof I=="object"&&I.index!==void 0,K=$?I.index:I,V=$?I:null;i(G=>{const Z=G[K];if(!Z)return G;const Q=V?{...Z,cardData:V.cardData,quantity:V.quantity}:Z,J=fn(Q.cardData.set,Q.cardData.collectorNumber);return c(pe=>{const Ce=pe.findIndex(ke=>ke.cardData.id===Q.cardData.id);if(Ce>=0){const ke=[...pe];return ke[Ce]={...ke[Ce],quantity:ke[Ce].quantity+Q.quantity},ke}return[...pe,{...Q,priceData:null}]}),J.then(pe=>{pe&&c(Ce=>{const ke=Ce.findIndex(be=>be.cardData.id===Q.cardData.id);if(ke>=0){const be=[...Ce];return be[ke]={...be[ke],priceData:pe},be}return Ce})}),T(`${Q.cardData.name} added to export`,"success"),G.filter((pe,Ce)=>Ce!==K)})},[T]),We=w.useCallback(async()=>{i(I=>{if(I.length===0)return I;const $=I.map(K=>fn(K.cardData.set,K.cardData.collectorNumber).then(V=>({cardId:K.cardData.id,priceData:V})));return c(K=>{let V=[...K];for(const G of I){const Z=V.findIndex(Q=>Q.cardData.id===G.cardData.id);Z>=0?V[Z]={...V[Z],quantity:V[Z].quantity+G.quantity}:V=[...V,{...G,priceData:null}]}return V}),Promise.all($).then(K=>{c(V=>{let G=[...V];for(const{cardId:Z,priceData:Q}of K)if(Q){const J=G.findIndex(pe=>pe.cardData.id===Z);J>=0&&(G[J]={...G[J],priceData:Q})}return G})}),T(`${I.length} card${I.length!==1?"s":""} added to export`,"success"),[]})},[T]),Be=w.useCallback(I=>{i($=>$.filter((K,V)=>V!==I))},[]),sn=w.useCallback(()=>{i([])},[]),jn=w.useCallback((I,$)=>{c(K=>{const V=[...K];return V[I]=$,V})},[]),ut=w.useCallback(I=>{c($=>$.filter((K,V)=>V!==I))},[]),ir=w.useCallback(()=>{a.length!==0&&confirm("Delete all cards from export list?")&&c([])},[a.length]),$t=w.useCallback(async I=>{const $=I.cardData||I,K=I.quantity||1;if(S.current===$.id){console.log("[App] Skipping duplicate consecutive card:",$.name),T(`${$.name} already added`,"info");return}console.log("[App] Adding card to export:",$.name,"Set:",$.set,"Number:",$.collectorNumber,"Qty:",K),S.current=$.id;const V=fn($.set,$.collectorNumber);c(Z=>{const Q=Z.findIndex(J=>J.cardData.id===$.id);if(Q>=0){const J=[...Z];return J[Q]={...J[Q],quantity:J[Q].quantity+K},J}else return[...Z,{cardData:$,quantity:K,confidence:1,scanTimestamp:Date.now(),priceData:null}]}),T(`+ ${$.name}`,"success");const G=await V;G&&c(Z=>{const Q=Z.findIndex(J=>J.cardData.id===$.id);if(Q>=0){const J=[...Z];return J[Q]={...J[Q],priceData:G},J}return Z})},[T]),En=w.useCallback(async I=>{const $=I.map(V=>fn(V.set,V.collectorNumber).then(G=>({cardId:V.id,priceData:G})));c(V=>{let G=[...V];for(const Z of I){const Q=G.findIndex(J=>J.cardData.id===Z.id);Q>=0?G[Q]={...G[Q],quantity:G[Q].quantity+1}:G=[...G,{cardData:Z,quantity:1,confidence:1,scanTimestamp:Date.now(),priceData:null}]}return G}),T(`${I.length} card${I.length!==1?"s":""} added to export`,"success");const K=await Promise.all($);c(V=>{let G=[...V];for(const{cardId:Z,priceData:Q}of K)if(Q){const J=G.findIndex(pe=>pe.cardData.id===Z);J>=0&&(G[J]={...G[J],priceData:Q})}return G})},[T]),bt=w.useCallback(()=>{const{valid:I,errors:$}=Id(a);if(!I){T(`Error: ${$[0]}`,"error");return}zd(a)&&T(`CSV exported  ${a.length} cards`,"success")},[a,T]);return e?u.jsx(Dp,{progress:n,stage:l}):u.jsxs(fp,{children:[u.jsxs("div",{className:"flex-1 flex flex-col min-h-0",children:[m==="scan"&&u.jsx(r0,{camera:B,detection:re,liveDetections:re.liveDetections,onSnapScan:q,pendingCards:s,onConfirmPending:U,onConfirmAllPending:We,onRemovePending:Be,onClearPending:sn,onAddCardToExport:$t,onAddCardsToExport:En,showNotification:T,minConfidence:k,onUpdateMinConfidence:v,autoScanEnabled:W.autoScanEnabled,cropArea:F,onCropAreaChange:Y,cropEnabled:ie,onToggleCrop:A,onToggleAutoScan:W.toggleAutoScan,uploadedImage:d,setUploadedImage:f,fileName:y,setFileName:N,uploadDetections:j,setUploadDetections:P,selectedDetection:R,setSelectedDetection:H,checkedDetectionIndices:b,setCheckedDetectionIndices:ne}),m==="collection"&&u.jsx(o0,{scannedCards:a,onUpdateCard:jn,onRemoveCard:ut,onClearAll:ir,onExport:bt}),m==="settings"&&u.jsx(s0,{modelPreference:C,onUpdateModelPreference:h})]}),u.jsx(Tp,{activeTab:m,onTabChange:p,scannedCount:a.reduce((I,$)=>I+$.quantity,0)}),u.jsx(Lp,{notification:g})]})}function m0(e={}){const{immediate:t=!1,onNeedRefresh:n,onOfflineReady:r,onRegistered:l,onRegisteredSW:o,onRegisterError:s}=e;let i,a;const c=async(p=!0)=>{await a};async function m(){if("serviceWorker"in navigator){if(i=await Od(async()=>{const{Workbox:p}=await import("./workbox-window.prod.es5-vqzQaGvo.js");return{Workbox:p}},[]).then(({Workbox:p})=>new p("/poke-scanner/sw.js",{scope:"/poke-scanner/",type:"classic"})).catch(p=>{s==null||s(p)}),!i)return;i.addEventListener("activated",p=>{(p.isUpdate||p.isExternal)&&window.location.reload()}),i.addEventListener("installed",p=>{p.isUpdate||r==null||r()}),i.register({immediate:t}).then(p=>{o?o("/poke-scanner/sw.js",p):l==null||l(p)}).catch(p=>{s==null||s(p)})}}return a=m(),c}ls.createRoot(document.getElementById("root")).render(u.jsx(ju.StrictMode,{children:u.jsx(p0,{})}));const g0=m0({onNeedRefresh(){g0(!0)},onOfflineReady(){console.log("App ready (offline)")},immediate:!0});
